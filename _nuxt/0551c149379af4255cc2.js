/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(118),o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l="[DEFAULT]",c=[],h=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=r.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){c.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){c=c.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=l),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==l?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;r.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(c.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),c=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&d("app-deleted",{name:this.name_})},t}();function d(code,t){throw f.create(code,t)}h.prototype.name&&h.prototype.options||h.prototype.delete||console.log("dc");var f=new r.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),m=function t(){var e={},n={},c={},f={__esModule:!0,initializeApp:function(t,n){if(void 0===n&&(n={}),"object"!=typeof n||null===n){var r=n;n={name:r}}var c=n;void 0===c.name&&(c.name=l);var m=c.name;"string"==typeof m&&m||d("bad-app-name",{name:m+""}),o(e,m)&&d("duplicate-app",{name:m});var y=new h(t,c,f);return e[m]=y,v(y,"create"),y},app:m,apps:null,Promise:Promise,SDK_VERSION:"5.5.9",INTERNAL:{registerService:function(t,e,o,l,v){n[t]&&d("duplicate-service",{name:t}),n[t]=e,l&&(c[t]=l,y().forEach(function(t){l("create",t)}));var w=function(e){return void 0===e&&(e=m()),"function"!=typeof e[t]&&d("invalid-app-argument",{name:t}),e[t]()};return void 0!==o&&r.deepExtend(w,o),f[t]=w,h.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,v?e:[])},w},createFirebaseNamespace:t,extendNamespace:function(t){r.deepExtend(f,t)},createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,removeApp:function(t){v(e[t],"delete"),delete e[t]},factories:n,useAsService:w,Promise:Promise,deepExtend:r.deepExtend}};function m(t){return o(e,t=t||l)||d("no-app",{name:t}),e[t]}function y(){return Object.keys(e).map(function(t){return e[t]})}function v(t,e){Object.keys(n).forEach(function(n){var r=w(t,n);null!==r&&c[r]&&c[r](e,t)})}function w(t,e){if("serverAuth"===e)return null;var n=e;return t.options,n}return r.patchProperty(f,"default",f),Object.defineProperty(f,"apps",{get:y}),r.patchProperty(m,"App",h),f}();e.firebase=m,e.default=m},112:function(t,e,n){t.exports=n.p+"fonts/f4769f9.eot"},118:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(266),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},l=function(t,e){if(!t)throw c(e)},c=function(t){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},h=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):55296==(64512&n)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(n=65536+((1023&n)<<10)+(1023&t.charCodeAt(++i)),e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e},d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(input,t){if(!Array.isArray(input))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,output=[],i=0;i<input.length;i+=3){var n=input[i],r=i+1<input.length,o=r?input[i+1]:0,l=i+2<input.length,c=l?input[i+2]:0,h=n>>2,d=(3&n)<<4|o>>4,f=(15&o)<<2|c>>6,m=63&c;l||(m=64,r||(f=64)),output.push(e[h],e[d],e[f],e[m])}return output.join("")},encodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(input):this.encodeByteArray(h(input),t)},decodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(input):function(t){for(var e=[],n=0,r=0;n<t.length;){var o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){var l=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&l)}else if(o>239&&o<365){var u=((7&o)<<18|(63&(l=t[n++]))<<12|(63&(c=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{l=t[n++];var c=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&l)<<6|63&c)}}return e.join("")}(this.decodeStringToByteArray(input,t))},decodeStringToByteArray:function(input,t){this.init_();for(var e=t?this.charToByteMapWebSafe_:this.charToByteMap_,output=[],i=0;i<input.length;){var n=e[input.charAt(i++)],r=i<input.length?e[input.charAt(i)]:0,o=++i<input.length?e[input.charAt(i)]:64,l=++i<input.length?e[input.charAt(i)]:64;if(++i,null==n||null==r||null==o||null==l)throw Error();var c=n<<2|r>>4;if(output.push(c),64!=o){var h=r<<4&240|o>>2;if(output.push(h),64!=l){var d=o<<6&192|l;output.push(d)}}}return output},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},f=function(t){try{return d.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function m(t,source){if(!(source instanceof Object))return source;switch(source.constructor){case Date:return new Date(source.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return source}for(var e in source)source.hasOwnProperty(e)&&(t[e]=m(t[e],source[e]));return t}var y=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),v=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},w="FirebaseError",_=Error.captureStackTrace;var S=function(){return function(code,t){if(this.code=code,this.message=t,_)_(this,E.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name=w,Object.defineProperty(this,"stack",{get:function(){return t.stack}})}}}();S.prototype=Object.create(Error.prototype),S.prototype.constructor=S,S.prototype.name=w;var E=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(code,data){void 0===data&&(data={});var t,template=this.errors[code],e=this.service+"/"+code;t=void 0===template?"Error":template.replace(this.pattern,function(t,e){var n=data[e];return void 0!==n?n.toString():"<"+e+"?>"}),t=this.serviceName+": "+t+" ("+e+").";var n=new S(e,t);for(var r in data)data.hasOwnProperty(r)&&"_"!==r.slice(-1)&&(n[r]=data[r]);return n},t}();function T(t){return JSON.parse(t)}var C=function(t){var header={},e={},data={},n="";try{var r=t.split(".");header=T(f(r[0])||""),e=T(f(r[1])||""),n=r[2],data=e.d||{},delete e.d}catch(t){}return{header:header,claims:e,data:data,signature:n}},k=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},x=function(t,e){return k(e,function(e,n){t[e]=n}),t},I=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},N=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var i=1;i<e.blockSize;++i)e.pad_[i]=0;return e.reset(),e}return r.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,l,a=this.chain_[0],b=this.chain_[1],c=this.chain_[2],h=this.chain_[3],d=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=h^b&(c^h),l=1518500249):(o=b^c^h,l=1859775393):i<60?(o=b&c|h&(b|c),l=2400959708):(o=b^c^h,l=3395469782);r=(a<<5|a>>>27)+o+d+l+n[i]&4294967295;d=h,h=c,c=4294967295&(b<<30|b>>>2),b=a,a=r}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+b&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,l=this.inbuf_;r<e;){if(0==l)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(o[l]=t.charCodeAt(r),++r,++l==this.blockSize){this.compress_(o),l=0;break}}else for(;r<e;)if(o[l]=t[r],++r,++l==this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&e,e/=256;this.compress_(this.buf_);var n=0;for(i=0;i<5;i++)for(var r=24;r>=0;r-=8)t[n]=this.chain_[i]>>r&255,++n;return t},e}(function(){return function(){this.blockSize=-1}}());var D=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o in t&&"function"==typeof t[o])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=A),void 0===r.error&&(r.error=A),void 0===r.complete&&(r.complete=A);var l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}}),this.observers.push(r),l},t.prototype.unsubscribeOne=function(i){void 0!==this.observers&&void 0!==this.observers[i]&&(delete this.observers[i],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var i=0;i<this.observers.length;i++)this.sendOne(i,t)},t.prototype.sendOne=function(i,t){var e=this;this.task.then(function(){if(void 0!==e.observers&&void 0!==e.observers[i])try{t(e.observers[i])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function A(){}function O(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var o=t+" failed: ";return o+=r+" argument "}e.assert=l,e.assertionError=c,e.base64=d,e.base64Decode=f,e.base64Encode=function(t){var e=h(t);return d.encodeByteArray(e,!0)},e.CONSTANTS=o,e.deepCopy=function(t){return m(void 0,t)},e.deepExtend=m,e.patchProperty=function(t,e,n){t[e]=n},e.Deferred=y,e.getUA=v,e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())},e.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.ErrorFactory=E,e.FirebaseError=S,e.patchCapture=function(t){var e=_;return _=t,e},e.jsonEval=T,e.stringify=function(data){return JSON.stringify(data)},e.decode=C,e.isAdmin=function(t){var e=C(t).claims;return"object"==typeof e&&!0===e.admin},e.issuedAtTime=function(t){var e=C(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.isValidFormat=function(t){var e=C(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,r=C(t).claims,o=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),o&&e&&n&&o>=e&&o<=n},e.clone=function(t){return x({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=x,e.findKey=I,e.findValue=function(t,e,n){var r=I(t,e,n);return r&&t[r]},e.forEach=k,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getValues=function(t){var e=[],i=0;for(var n in t)e[i++]=t[n];return e},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.map=function(t,e,n){var r={};for(var o in t)r[o]=e.call(n,t[o],o,t);return r},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.querystring=function(t){var e=[];return k(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.Sha1=N,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.createSubscribe=function(t,e){var n=new D(t,e);return n.subscribe.bind(n)},e.errorPrefix=O,e.validateArgCount=function(t,e,n,r){var o;if(r<e?o="at least "+e:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(O(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(O(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(O(t,e,r)+"must be a valid firebase namespace.")},e.stringLength=function(t){for(var p=0,i=0;i<t.length;i++){var e=t.charCodeAt(i);e<128?p++:e<2048?p+=2:e>=55296&&e<=56319?(p+=4,i++):p+=3}return p},e.stringToByteArray=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);if(n>=55296&&n<=56319){var r=n-55296;l(++i<t.length,"Surrogate pair missing trail surrogate."),n=65536+(r<<10)+(t.charCodeAt(i)-56320)}n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):n<65536?(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e}},119:function(t,e,n){"use strict";n.r(e),n.d(e,"setLogLevel",function(){return d}),n.d(e,"Logger",function(){return h}),n.d(e,"LogLevel",function(){return r});var r,o=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(r||(r={}));var l=r.INFO,c=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(e<t.logLevel)){var l=(new Date).toISOString();switch(e){case r.DEBUG:case r.VERBOSE:console.log.apply(console,["["+l+"]  "+t.name+":"].concat(n));break;case r.INFO:console.info.apply(console,["["+l+"]  "+t.name+":"].concat(n));break;case r.WARN:console.warn.apply(console,["["+l+"]  "+t.name+":"].concat(n));break;case r.ERROR:console.error.apply(console,["["+l+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},h=function(){function t(t){this.name=t,this._logLevel=l,this._logHandler=c,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.ERROR].concat(t))},t}();function d(t){o.forEach(function(e){e.logLevel=t})}},126:function(t,e,n){"use strict";var r={name:"NoSsr",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(t,e){var n=e.parent,r=e.slots,o=e.props,l=r(),c=l.default;void 0===c&&(c=[]);var h=l.placeholder;return n._isMounted?c:(n.$once("hook:mounted",function(){n.$forceUpdate()}),o.placeholderTag&&(o.placeholder||h)?t(o.placeholderTag,{class:["no-ssr-placeholder"]},o.placeholder||h):c.length>0?c.map(function(){return t(!1)}):t(!1))}};t.exports=r},130:function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"Alert",function(){return S}),n.d(r,"Badge",function(){return H}),n.d(r,"Breadcrumb",function(){return Z}),n.d(r,"Button",function(){return At}),n.d(r,"ButtonToolbar",function(){return jt}),n.d(r,"ButtonGroup",function(){return Lt}),n.d(r,"Card",function(){return ve}),n.d(r,"Carousel",function(){return Ae}),n.d(r,"Collapse",function(){return pn}),n.d(r,"Dropdown",function(){return An}),n.d(r,"Embed",function(){return Rn}),n.d(r,"Form",function(){return jn}),n.d(r,"FormGroup",function(){return Hn}),n.d(r,"FormInput",function(){return vr}),n.d(r,"FormTextarea",function(){return Er}),n.d(r,"FormFile",function(){return xr}),n.d(r,"FormCheckbox",function(){return sr}),n.d(r,"FormRadio",function(){return fr}),n.d(r,"FormSelect",function(){return Ar}),n.d(r,"Image",function(){return Rr}),n.d(r,"InputGroup",function(){return Gt}),n.d(r,"Jumbotron",function(){return Br}),n.d(r,"Layout",function(){return Xe}),n.d(r,"Link",function(){return jr}),n.d(r,"ListGroup",function(){return Qr}),n.d(r,"Media",function(){return Zr}),n.d(r,"Modal",function(){return fi}),n.d(r,"Nav",function(){return wi}),n.d(r,"Navbar",function(){return Ni}),n.d(r,"Pagination",function(){return Fi}),n.d(r,"PaginationNav",function(){return Ui}),n.d(r,"Popover",function(){return _o}),n.d(r,"Progress",function(){return Co}),n.d(r,"Table",function(){return Lo}),n.d(r,"Tabs",function(){return qo}),n.d(r,"Tooltip",function(){return Wo});var o={};n.r(o),n.d(o,"Toggle",function(){return hn}),n.d(o,"Modal",function(){return ci}),n.d(o,"Scrollspy",function(){return sa}),n.d(o,"Tooltip",function(){return ma}),n.d(o,"Popover",function(){return Ca});var l=function(){return(l=Object.assign||function(t){for(var a,s=1,e=arguments.length;s<e;s++)for(var n in a=arguments[s])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t}).apply(this,arguments)};function c(){for(var t,a,s={},e=arguments.length;e--;)for(var n=0,r=Object.keys(arguments[e]);n<r.length;n++)switch(t=r[n]){case"class":case"style":case"directives":Array.isArray(s[t])||(s[t]=[]),s[t]=s[t].concat(arguments[e][t]);break;case"staticClass":if(!arguments[e][t])break;void 0===s[t]&&(s[t]=""),s[t]&&(s[t]+=" "),s[t]+=arguments[e][t].trim();break;case"on":case"nativeOn":s[t]||(s[t]={});for(var o=0,c=Object.keys(arguments[e][t]||{});o<c.length;o++)a=c[o],s[t][a]?s[t][a]=[].concat(s[t][a],arguments[e][t][a]):s[t][a]=arguments[e][t][a];break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":s[t]||(s[t]={}),s[t]=l({},arguments[e][t],s[t]);break;case"slot":case"key":case"ref":case"tag":case"show":case"keepAlive":default:s[t]||(s[t]=arguments[e][t])}return s}var h={functional:!0,props:{disabled:{type:Boolean,default:!1},ariaLabel:{type:String,default:"Close"},textVariant:{type:String,default:null}},render:function(t,e){var n,r,o,l=e.props,data=e.data,h=(e.listeners,e.slots),d={staticClass:"close",class:(n={},r="text-"+l.textVariant,o=l.textVariant,r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n),attrs:{type:"button",disabled:l.disabled,"aria-label":l.ariaLabel?String(l.ariaLabel):null},on:{click:function(t){l.disabled&&t instanceof Event&&(t.stopPropagation(),t.preventDefault())}}};return h().default||(d.domProps={innerHTML:"&times;"}),t("button",c(data,d),h().default)}};n(256);function d(t,e,n){t._bootstrap_vue_components_=t._bootstrap_vue_components_||{};var r=t._bootstrap_vue_components_[e];return!r&&n&&e&&(t._bootstrap_vue_components_[e]=!0,t.component(e,n)),r}function f(t,e){for(var component in e)d(t,component,e[component])}function m(t,e,n){t._bootstrap_vue_directives_=t._bootstrap_vue_directives_||{};var r=t._bootstrap_vue_directives_[e];return!r&&n&&e&&(t._bootstrap_vue_directives_[e]=!0,t.directive(e,n)),r}function y(t,e){for(var n in e)m(t,n,e[n])}function v(t){"undefined"!=typeof window&&window.Vue&&window.Vue.use(t)}var w={bAlert:{components:{bButtonClose:h},render:function(t){if(!this.localShow)return t(!1);var e=t(!1);this.dismissible&&(e=t("b-button-close",{attrs:{"aria-label":this.dismissLabel},on:{click:this.dismiss}},[this.$slots.dismiss]));var n=t("div",{class:this.classObject,attrs:{role:"alert","aria-live":"polite","aria-atomic":!0}},[e,this.$slots.default]);return this.fade?t("transition",{props:{name:"fade",appear:!0}},[n]):n},model:{prop:"show",event:"input"},data:function(){return{countDownTimerId:null,dismissed:!1}},computed:{classObject:function(){return["alert",this.alertVariant,this.dismissible?"alert-dismissible":""]},alertVariant:function(){return"alert-"+this.variant},localShow:function(){return!this.dismissed&&(this.countDownTimerId||this.show)}},props:{variant:{type:String,default:"info"},dismissible:{type:Boolean,default:!1},dismissLabel:{type:String,default:"Close"},show:{type:[Boolean,Number],default:!1},fade:{type:Boolean,default:!1}},watch:{show:function(){this.showChanged()}},mounted:function(){this.showChanged()},destroyed:function(){this.clearCounter()},methods:{dismiss:function(){this.clearCounter(),this.dismissed=!0,this.$emit("dismissed"),this.$emit("input",!1),"number"==typeof this.show?(this.$emit("dismiss-count-down",0),this.$emit("input",0)):this.$emit("input",!1)},clearCounter:function(){this.countDownTimerId&&(clearInterval(this.countDownTimerId),this.countDownTimerId=null)},showChanged:function(){var t=this;if(this.clearCounter(),this.dismissed=!1,!0!==this.show&&!1!==this.show&&null!==this.show&&0!==this.show){var e=this.show;this.countDownTimerId=setInterval(function(){e<1?t.dismiss():(e--,t.$emit("dismiss-count-down",e),t.$emit("input",e))},1e3)}}}}},_={install:function(t){f(t,w)}};v(_);var S=_;"function"!=typeof Object.assign&&(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(n[l]=o[l])}return n}),Object.is||(Object.is=function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e});var E,T,C,k,x=Object.assign,I=(Object.getOwnPropertyNames,Object.keys),N=Object.defineProperties,D=Object.defineProperty,A=(Object.freeze,Object.getOwnPropertyDescriptor,Object.getOwnPropertySymbols,Object.getPrototypeOf,Object.create);Object.isFrozen,Object.is;Array.from||(Array.from=(E=Object.prototype.toString,T=function(t){return"function"==typeof t||"[object Function]"===E.call(t)},C=Math.pow(2,53)-1,k=function(t){return Math.min(Math.max(function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e}(t),0),C)},function(t){var e=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n=arguments.length>1?arguments[1]:void 0,r=void 0;if(void 0!==n){if(!T(n))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(r=arguments[2])}for(var o=k(e.length),l=T(this)?Object(new this(o)):new Array(o),c=0,h=void 0;c<o;)h=e[c],l[c]=n?void 0===r?n(h,c):n.call(r,h,c):h,c+=1;return l.length=o,l})),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r=arguments[1],o=0;o<n;){var l=e[o];if(t.call(r,l,o,e))return l;o++}}}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var O=Array.from,P=Array.isArray,R=function(t,e){return-1!==t.indexOf(e)};function L(){return Array.prototype.concat.apply([],arguments)}function M(t){return t}function F(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M;return(P(t)?t.slice():I(t)).reduce(function(t,r){return t[n(r)]=e[r],t},{})}var B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function V(){return{href:{type:String,default:null},rel:{type:String,default:null},target:{type:String,default:"_self"},active:{type:Boolean,default:!1},activeClass:{type:String,default:"active"},append:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},event:{type:[String,Array],default:"click"},exact:{type:Boolean,default:!1},exactActiveClass:{type:String,default:"active"},replace:{type:Boolean,default:!1},routerTag:{type:String,default:"a"},to:{type:[String,Object],default:null}}}V();function j(t){var e=t.disabled,n=t.tag,r=t.href,o=t.suppliedHandler,l=t.parent,c="router-link"===n;return function(t){e&&t instanceof Event?(t.stopPropagation(),t.stopImmediatePropagation()):(l.$root.$emit("clicked::link",t),c&&t.target.__vue__&&t.target.__vue__.$emit("click",t),"function"==typeof o&&o.apply(void 0,arguments)),(!c&&"#"===r||e)&&t.preventDefault()}}var U={functional:!0,props:V(),render:function(t,e){var n=e.props,data=e.data,r=e.parent,o=e.children,l=function(t,e){return Boolean(e.$router)&&t.to&&!t.disabled?"router-link":"a"}(n,r),h=function(t){var e=t.target,n=t.rel;return"_blank"===e&&null===n?"noopener":n||null}(n),d=function(t,e){t.disabled;var n=t.href,r=t.to;if("router-link"!==e){if(n)return n;if(r){if("string"==typeof r)return r;if("object"===(void 0===r?"undefined":B(r))&&"string"==typeof r.path)return r.path}return"#"}}(n,l),f="router-link"===l?"nativeOn":"on",m=(data[f]||{}).click,y={click:j({tag:l,href:d,disabled:n.disabled,suppliedHandler:m,parent:r})},v=c(data,{class:[n.active?n.exact?n.exactActiveClass:n.activeClass:null,{disabled:n.disabled}],attrs:{rel:h,href:d,target:n.target,tabindex:n.disabled?"-1":data.attrs?data.attrs.tabindex:null,"aria-disabled":"a"===l&&n.disabled?"true":null},props:x(n,{tag:n.routerTag})});return v.attrs.href||delete v.attrs.href,v[f]=x(v[f]||{},y),t(l,v,o)}},W=V();delete W.href.default,delete W.to.default;var $={bBadge:{functional:!0,props:x(W,{tag:{type:String,default:"span"},variant:{type:String,default:"secondary"},pill:{type:Boolean,default:!1}}),render:function(t,e){var n=e.props,data=e.data,r=e.children;return t(n.href||n.to?U:n.tag,c(data,{staticClass:"badge",class:[n.variant?"badge-"+n.variant:"badge-secondary",{"badge-pill":Boolean(n.pill),active:n.active,disabled:n.disabled}],props:F(W,n)}),r)}}},z={install:function(t){f(t,$)}};v(z);var H=z,K=x(V(),{text:{type:String,default:null},active:{type:Boolean,default:!1},href:{type:String,default:"#"},ariaCurrent:{type:String,default:"location"}}),Q={functional:!0,props:K,render:function(t,e){var n=e.props,data=e.data,r=e.children,o=n.active?"span":U,l={props:F(K,n)};return n.active?l.attrs={"aria-current":n.ariaCurrent}:l.attrs={href:n.href},t(o,c(data,l),r||n.text)}},G={functional:!0,props:x({},K,{text:{type:String,default:null},href:{type:String,default:null}}),render:function(t,e){var n=e.props,data=e.data,r=e.children;return t("li",c(data,{staticClass:"breadcrumb-item",class:{active:n.active},attrs:{role:"presentation"}}),[t(Q,{props:n},r)])}},Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X={bBreadcrumb:{functional:!0,props:{items:{type:Array,default:null}},render:function(t,e){var n=e.props,data=e.data,r=e.children;if(P(n.items)){var o=!1;r=n.items.map(function(e,r){"object"!==(void 0===e?"undefined":Y(e))&&(e={text:e});var l=e.active;return l&&(o=!0),l||o||(l=r+1===n.items.length),t(G,{props:x({},e,{active:l})})})}return t("ol",c(data,{staticClass:"breadcrumb"}),r)}},bBreadcrumbItem:G,bBreadcrumbLink:Q},J={install:function(t){f(t,X)}};v(J);var Z=J,tt=function(t){return t&&t.nodeType===Node.ELEMENT_NODE},et=function(t){return tt(t)&&document.body.contains(t)&&t.getBoundingClientRect().height>0&&t.getBoundingClientRect().width>0},nt=function(t){return!tt(t)||t.disabled||t.classList.contains("disabled")||Boolean(t.getAttribute("disabled"))},it=function(t){return tt(t)&&t.offsetHeight},ot=function(t,e){return tt(e)||(e=document),O(e.querySelectorAll(t))},at=function(t,e){return tt(e)||(e=document),e.querySelector(t)||null},st=function(t,e){if(!tt(t))return!1;var n=Element.prototype;return(n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector||function(t){for(var e=ot(t,this.document||this.ownerDocument),i=e.length;--i>=0&&e.item(i)!==this;);return i>-1}).call(t,e)},ut=function(t,e){if(!tt(e))return null;var n=(Element.prototype.closest||function(t){var element=this;if(!document.documentElement.contains(element))return null;do{if(st(element,t))return element;element=element.parentElement}while(null!==element);return null}).call(e,t);return n===e?null:n},lt=function(t,e){e&&tt(t)&&t.classList.add(e)},ct=function(t,e){e&&tt(t)&&t.classList.remove(e)},ht=function(t,e){return!(!e||!tt(t))&&t.classList.contains(e)},ft=function(t,e,n){e&&tt(t)&&t.setAttribute(e,n)},pt=function(t,e){e&&tt(t)&&t.removeAttribute(e)},gt=function(t,e){return e&&tt(t)?t.getAttribute(e):null},mt=function(t,e){return e&&tt(t)?t.hasAttribute(e):null},bt=function(t){return tt(t)?t.getBoundingClientRect():null},yt=function(t){return tt(t)?window.getComputedStyle(t):{}},vt=function(t){if(tt(t)){if(!t.getClientRects().length)return{top:0,left:0};var e=bt(t),n=t.ownerDocument.defaultView;return{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}}},wt=function(t){if(tt(t)){var e={top:0,left:0},n=void 0,r=void 0;if("fixed"===yt(t).position)n=bt(t);else{n=vt(t);var o=t.ownerDocument;for(r=t.offsetParent||o.documentElement;r&&(r===o.body||r===o.documentElement)&&"static"===yt(r).position;)r=r.parentNode;r&&r!==t&&r.nodeType===Node.ELEMENT_NODE&&((e=vt(r)).top+=parseFloat(yt(r).borderTopWidth),e.left+=parseFloat(yt(r).borderLeftWidth))}return{top:n.top-e.top-parseFloat(yt(t).marginTop),left:n.left-e.left-parseFloat(yt(t).marginLeft)}}},_t=function(t,e,n){t&&t.addEventListener&&t.addEventListener(e,n)},St=function(t,e,n){t&&t.removeEventListener&&t.removeEventListener(e,n)};function Et(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Tt={block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:String,default:null},variant:{type:String,default:null},type:{type:String,default:"button"},pressed:{type:Boolean,default:null}},Ct=V();delete Ct.href.default,delete Ct.to.default;var kt=I(Ct);function xt(t){"focusin"===t.type?lt(t.target,"focus"):"focusout"===t.type&&ct(t.target,"focus")}var It={functional:!0,props:x(Ct,Tt),render:function(t,e){var n,r=e.props,data=e.data,o=e.listeners,l=e.children,h=Boolean(r.href||r.to),d="boolean"==typeof r.pressed,f={click:function(t){r.disabled&&t instanceof Event?(t.stopPropagation(),t.preventDefault()):d&&L(o["update:pressed"]).forEach(function(t){"function"==typeof t&&t(!r.pressed)})}};d&&(f.focusin=xt,f.focusout=xt);var m={staticClass:"btn",class:[r.variant?"btn-"+r.variant:"btn-secondary",(n={},Et(n,"btn-"+r.size,Boolean(r.size)),Et(n,"btn-block",r.block),Et(n,"disabled",r.disabled),Et(n,"active",r.pressed),n)],props:h?F(kt,r):null,attrs:{type:h?null:r.type,disabled:h?null:r.disabled,"data-toggle":d?"button":null,"aria-pressed":d?String(r.pressed):null,tabindex:r.disabled&&h?"-1":data.attrs?data.attrs.tabindex:null},on:f};return t(h?U:"button",c(data,m),l)}},Nt={bButton:It,bBtn:It,bButtonClose:h,bBtnClose:h},Dt={install:function(t){f(t,Nt)}};v(Dt);var At=Dt;var Ot={functional:!0,props:{vertical:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(t){return R(["sm","","lg"],t)}},tag:{type:String,default:"div"},ariaRole:{type:String,default:"group"}},render:function(t,e){var n,r,o,l=e.props,data=e.data,h=e.children;return t(l.tag,c(data,{class:(n={"btn-group":!l.vertical,"btn-group-vertical":l.vertical},r="btn-group-"+l.size,o=Boolean(l.size),r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n),attrs:{role:l.ariaRole}}),h)}},Pt={bButtonGroup:Ot,bBtnGroup:Ot},Rt={install:function(t){f(t,Pt)}};v(Rt);var Lt=Rt,Mt={SPACE:32,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,PAGEUP:33,PAGEDOWN:34,HOME:36,END:35},Ft=[".btn:not(.disabled):not([disabled]):not(.dropdown-item)",".form-control:not(.disabled):not([disabled])","select:not(.disabled):not([disabled])",'input[type="checkbox"]:not(.disabled)','input[type="radio"]:not(.disabled)'].join(","),Bt={render:function(t){return t("div",{class:this.classObject,attrs:{role:"toolbar",tabindex:this.keyNav?"0":null},on:{focusin:this.onFocusin,keydown:this.onKeydown}},[this.$slots.default])},computed:{classObject:function(){return["btn-toolbar",this.justify&&!this.vertical?"justify-content-between":""]}},props:{justify:{type:Boolean,default:!1},keyNav:{type:Boolean,default:!1}},methods:{onFocusin:function(t){t.target===this.$el&&(t.preventDefault(),t.stopPropagation(),this.focusFirst(t))},onKeydown:function(t){if(this.keyNav){var e=t.keyCode,n=t.shiftKey;e===Mt.UP||e===Mt.LEFT?(t.preventDefault(),t.stopPropagation(),n?this.focusFirst(t):this.focusNext(t,!0)):e!==Mt.DOWN&&e!==Mt.RIGHT||(t.preventDefault(),t.stopPropagation(),n?this.focusLast(t):this.focusNext(t,!1))}},setItemFocus:function(t){this.$nextTick(function(){t.focus()})},focusNext:function(t,e){var n=this.getItems();if(!(n.length<1)){var r=n.indexOf(t.target);e&&r>0?r--:!e&&r<n.length-1&&r++,r<0&&(r=0),this.setItemFocus(n[r])}},focusFirst:function(t){var e=this.getItems();e.length>0&&this.setItemFocus(e[0])},focusLast:function(t){var e=this.getItems();e.length>0&&this.setItemFocus([e.length-1])},getItems:function(){var t=ot(Ft,this.$el);return t.forEach(function(t){t.tabIndex=-1}),t.filter(function(t){return et(t)})}},mounted:function(){this.keyNav&&this.getItems()}},Vt={bButtonToolbar:Bt,bBtnToolbar:Bt},qt={install:function(t){f(t,Vt)}};v(qt);var jt=qt,Ut={props:{tag:{type:String,default:"div"}},functional:!0,render:function(t,e){var n=e.props,data=e.data,r=e.children;return t(n.tag,c(data,{staticClass:"input-group-text"}),r)}},Wt=function(t){return{id:{type:String,default:null},tag:{type:String,default:"div"},append:{type:Boolean,default:t},isText:{type:Boolean,default:!1}}},$t={functional:!0,props:Wt(!1),render:function(t,e){var n=e.props,data=e.data,r=e.children;return t(n.tag,c(data,{staticClass:"input-group-"+(n.append?"append":"prepend"),attrs:{id:n.id}}),n.isText?[t(Ut,r)]:r)}},zt={functional:!0,props:Wt(!1),render:$t.render},Ht={functional:!0,props:Wt(!0),render:$t.render};var Kt={bInputGroup:{functional:!0,props:{id:{type:String,default:null},size:{type:String,default:null},prepend:{type:String,default:null},append:{type:String,default:null},tag:{type:String,default:"div"}},render:function(t,e){var n,r,o,l=e.props,data=e.data,h=(0,e.slots)(),d=[];return l.prepend&&d.push(t(zt,[t(Ut,{domProps:{innerHTML:l.prepend}})])),h.prepend&&d.push(t(zt,h.prepend)),d.push(h.default),l.append&&d.push(t(Ht,[t(Ut,{domProps:{innerHTML:l.append}})])),h.append&&d.push(t(Ht,h.append)),t(l.tag,c(data,{staticClass:"input-group",class:(n={},r="input-group-"+l.size,o=Boolean(l.size),r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n),attrs:{id:l.id||null,role:"group"}}),d)}},bInputGroupAddon:$t,bInputGroupPrepend:zt,bInputGroupAppend:Ht,bInputGroupText:Ut},Qt={install:function(t){f(t,Kt)}};v(Qt);var Gt=Qt;function Yt(t){return"string"!=typeof t&&(t=String(t)),t.charAt(0).toUpperCase()+t.slice(1)}function Xt(t,e){return t+Yt(e)}function Jt(t,e){return"string"!=typeof(n=e.replace(t,""))&&(n=String(n)),n.charAt(0).toLowerCase()+n.slice(1);var n}var Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function te(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M;if(P(t))return t.map(e);var n={};for(var r in t)t.hasOwnProperty(r)&&("object"===(void 0===r?"undefined":Zt(r))?n[e(r)]=x({},t[r]):n[e(r)]=t[r]);return n}var ee={props:{tag:{type:String,default:"div"},bgVariant:{type:String,default:null},borderVariant:{type:String,default:null},textVariant:{type:String,default:null}}};function ne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var re=x({},te(ee.props,Xt.bind(null,"body")),{bodyClass:{type:[String,Object,Array],default:null},title:{type:String,default:null},titleTag:{type:String,default:"h4"},subTitle:{type:String,default:null},subTitleTag:{type:String,default:"h6"},overlay:{type:Boolean,default:!1}}),ie={functional:!0,props:re,render:function(t,e){var n,r=e.props,data=e.data,o=e.slots,l=[];return r.title&&l.push(t(r.titleTag,{staticClass:"card-title",domProps:{innerHTML:r.title}})),r.subTitle&&l.push(t(r.subTitleTag,{staticClass:"card-subtitle mb-2 text-muted",domProps:{innerHTML:r.subTitle}})),l.push(o().default),t(r.bodyTag,c(data,{staticClass:"card-body",class:[(n={"card-img-overlay":r.overlay},ne(n,"bg-"+r.bodyBgVariant,Boolean(r.bodyBgVariant)),ne(n,"border-"+r.bodyBorderVariant,Boolean(r.bodyBorderVariant)),ne(n,"text-"+r.bodyTextVariant,Boolean(r.bodyTextVariant)),n),r.bodyClass||{}]}),l)}};function oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ae=x({},te(ee.props,Xt.bind(null,"header")),{header:{type:String,default:null},headerClass:{type:[String,Object,Array],default:null}}),se={functional:!0,props:ae,render:function(t,e){var n,r=e.props,data=e.data,o=(e.slots,e.children);return t(r.headerTag,c(data,{staticClass:"card-header",class:[r.headerClass,(n={},oe(n,"bg-"+r.headerBgVariant,Boolean(r.headerBgVariant)),oe(n,"border-"+r.headerBorderVariant,Boolean(r.headerBorderVariant)),oe(n,"text-"+r.headerTextVariant,Boolean(r.headerTextVariant)),n)]}),o||[t("div",{domProps:{innerHTML:r.header}})])}};function ue(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var le=x({},te(ee.props,Xt.bind(null,"footer")),{footer:{type:String,default:null},footerClass:{type:[String,Object,Array],default:null}}),ce={functional:!0,props:le,render:function(t,e){var n,r=e.props,data=e.data,o=(e.slots,e.children);return t(r.footerTag,c(data,{staticClass:"card-footer",class:[r.footerClass,(n={},ue(n,"bg-"+r.footerBgVariant,Boolean(r.footerBgVariant)),ue(n,"border-"+r.footerBorderVariant,Boolean(r.footerBorderVariant)),ue(n,"text-"+r.footerTextVariant,Boolean(r.footerTextVariant)),n)]}),o||[t("div",{domProps:{innerHTML:r.footer}})])}},he={src:{type:String,default:null,required:!0},alt:{type:String,default:null},top:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},fluid:{type:Boolean,default:!1}},de={functional:!0,props:he,render:function(t,e){var n=e.props,data=e.data,r=(e.slots,"card-img");return n.top?r+="-top":n.bottom&&(r+="-bottom"),t("img",c(data,{staticClass:r,class:{"img-fluid":n.fluid},attrs:{src:n.src,alt:n.alt}}))}};function fe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pe=te(he,Xt.bind(null,"img"));pe.imgSrc.required=!1;var ge={functional:!0,props:x({},re,ae,le,pe,te(ee.props),{align:{type:String,default:null},noBody:{type:Boolean,default:!1}}),render:function(t,e){var n,r=e.props,data=e.data,o=e.slots,l=(e.children,[]),h=o(),img=r.imgSrc?t(de,{props:F(pe,r,Jt.bind(null,"img"))}):null;return img&&(!r.imgTop&&r.imgBottom||l.push(img)),(r.header||h.header)&&l.push(t(se,{props:F(ae,r)},h.header)),r.noBody?l.push(h.default):l.push(t(ie,{props:F(re,r)},h.default)),(r.footer||h.footer)&&l.push(t(ce,{props:F(le,r)},h.footer)),img&&r.imgBottom&&l.push(img),t(r.tag,c(data,{staticClass:"card",class:(n={},fe(n,"text-"+r.align,Boolean(r.align)),fe(n,"bg-"+r.bgVariant,Boolean(r.bgVariant)),fe(n,"border-"+r.borderVariant,Boolean(r.borderVariant)),fe(n,"text-"+r.textVariant,Boolean(r.textVariant)),n)}),l)}},me={tag:{type:String,default:"div"},deck:{type:Boolean,default:!1},columns:{type:Boolean,default:!1}},be={bCard:ge,bCardHeader:se,bCardBody:ie,bCardFooter:ce,bCardImg:de,bCardGroup:{functional:!0,props:me,render:function(t,e){var n=e.props,data=e.data,r=e.children,o="card-group";return n.columns&&(o="card-columns"),n.deck&&(o="card-deck"),t(n.tag,c(data,{staticClass:o}),r)}}},ye={install:function(t){f(t,be)}};v(ye);var ve=ye;function we(t,e,n){var r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,o=window.addEventListener;if(t=t?t.$el||t:null,!tt(t))return null;var l=null;return r?(l=new r(function(t){for(var n=!1,i=0;i<t.length&&!n;i++){var r=t[i],o=r.type,l=r.target;"characterData"===o&&l.nodeType===Node.TEXT_NODE?n=!0:"attributes"===o?n=!0:"childList"===o&&(r.addedNodes.length>0||r.removedNodes.length>0)&&(n=!0)}n&&e()})).observe(t,x({childList:!0,subtree:!0},n)):o&&(t.addEventListener("DOMNodeInserted",e,!1),t.addEventListener("DOMNodeRemoved",e,!1)),l}var _e={props:{id:{type:String,default:null}},methods:{safeId:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.id||this.localId_||null;return e?(t=String(t).replace(/\s+/g,"_"))?e+"_"+t:e:null}},computed:{localId_:function(){if(!this.$isServer&&!this.id&&void 0!==this._uid)return"__BVID__"+this._uid}}},Se={next:{dirClass:"carousel-item-left",overlayClass:"carousel-item-next"},prev:{dirClass:"carousel-item-right",overlayClass:"carousel-item-prev"}},Ee={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend oTransitionEnd",transition:"transitionend"};var Te={mixins:[_e],render:function(t){var e=this,n=t("div",{ref:"inner",class:["carousel-inner"],attrs:{id:this.safeId("__BV_inner_"),role:"list"}},[this.$slots.default]),r=t(!1);this.controls&&(r=[t("a",{class:["carousel-control-prev"],attrs:{href:"#",role:"button","aria-controls":this.safeId("__BV_inner_")},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.prev()},keydown:function(t){var n=t.keyCode;n!==Mt.SPACE&&n!==Mt.ENTER||(t.preventDefault(),t.stopPropagation(),e.prev())}}},[t("span",{class:["carousel-control-prev-icon"],attrs:{"aria-hidden":"true"}}),t("span",{class:["sr-only"]},[this.labelPrev])]),t("a",{class:["carousel-control-next"],attrs:{href:"#",role:"button","aria-controls":this.safeId("__BV_inner_")},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.next()},keydown:function(t){var n=t.keyCode;n!==Mt.SPACE&&n!==Mt.ENTER||(t.preventDefault(),t.stopPropagation(),e.next())}}},[t("span",{class:["carousel-control-next-icon"],attrs:{"aria-hidden":"true"}}),t("span",{class:["sr-only"]},[this.labelNext])])]);var o=t("ol",{class:["carousel-indicators"],directives:[{name:"show",rawName:"v-show",value:this.indicators,expression:"indicators"}],attrs:{id:this.safeId("__BV_indicators_"),"aria-hidden":this.indicators?"false":"true","aria-label":this.labelIndicators,"aria-owns":this.safeId("__BV_inner_")}},this.slides.map(function(n,r){return t("li",{key:"slide_"+r,class:{active:r===e.index},attrs:{role:"button",id:e.safeId("__BV_indicator_"+(r+1)+"_"),tabindex:e.indicators?"0":"-1","aria-current":r===e.index?"true":"false","aria-label":e.labelGotoSlide+" "+(r+1),"aria-describedby":e.slides[r].id||null,"aria-controls":e.safeId("__BV_inner_")},on:{click:function(t){e.setSlide(r)},keydown:function(t){var n=t.keyCode;n!==Mt.SPACE&&n!==Mt.ENTER||(t.preventDefault(),t.stopPropagation(),e.setSlide(r))}}})}));return t("div",{class:["carousel","slide"],style:{background:this.background},attrs:{role:"region",id:this.safeId(),"aria-busy":this.isSliding?"true":"false"},on:{mouseenter:this.pause,mouseleave:this.restart,focusin:this.pause,focusout:this.restart,keydown:function(t){var n=t.keyCode;n!==Mt.LEFT&&n!==Mt.RIGHT||(t.preventDefault(),t.stopPropagation(),e[n===Mt.LEFT?"prev":"next"]())}}},[n,r,o])},data:function(){return{index:this.value||0,isSliding:!1,intervalId:null,transitionEndEvent:null,slides:[],direction:null}},props:{labelPrev:{type:String,default:"Previous Slide"},labelNext:{type:String,default:"Next Slide"},labelGotoSlide:{type:String,default:"Goto Slide"},labelIndicators:{type:String,default:"Select a slide to display"},interval:{type:Number,default:5e3},indicators:{type:Boolean,default:!1},controls:{type:Boolean,default:!1},imgWidth:{type:[Number,String]},imgHeight:{type:[Number,String]},background:{type:String},value:{type:Number,default:0}},computed:{isCycling:function(){return Boolean(this.intervalId)}},methods:{setSlide:function(t){var e=this;if("undefined"==typeof document||!document.visibilityState||!document.hidden){var n=this.slides.length;0!==n&&(this.isSliding?this.$once("sliding-end",function(){return e.setSlide(t)}):(t=Math.floor(t),this.index=t>=n?0:t>=0?t:n-1))}},prev:function(){this.direction="prev",this.setSlide(this.index-1)},next:function(){this.direction="next",this.setSlide(this.index+1)},pause:function(){this.isCycling&&(clearInterval(this.intervalId),this.intervalId=null,this.slides[this.index]&&(this.slides[this.index].tabIndex=0))},start:function(){var t=this;this.interval&&!this.isCycling&&(this.slides.forEach(function(t){t.tabIndex=-1}),this.intervalId=setInterval(function(){t.next()},Math.max(1e3,this.interval)))},restart:function(t){this.$el.contains(document.activeElement)||this.start()},updateSlides:function(){this.pause(),this.slides=ot(".carousel-item",this.$refs.inner);var t=this.slides.length,e=Math.max(0,Math.min(Math.floor(this.index),t-1));this.slides.forEach(function(n,r){var o=r+1;r===e?lt(n,"active"):ct(n,"active"),ft(n,"aria-current",r===e?"true":"false"),ft(n,"aria-posinset",String(o)),ft(n,"aria-setsize",String(t)),n.tabIndex=-1}),this.setSlide(e),this.start()},calcDirection:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t?Se[t]:n>e?Se.next:Se.prev}},watch:{value:function(t,e){t!==e&&this.setSlide(t)},interval:function(t,e){t!==e&&(t?(this.pause(),this.start()):this.pause())},index:function(t,e){var n=this;if(t!==e&&!this.isSliding){var r=this.calcDirection(this.direction,e,t),o=this.slides[e],l=this.slides[t];if(o&&l){this.isSliding=!0,this.$emit("sliding-start",t),this.$emit("input",this.index),l.classList.add(r.overlayClass),it(l),lt(o,r.dirClass),lt(l,r.dirClass);var c=!1,h=function e(h){if(!c){if(c=!0,n.transitionEndEvent)n.transitionEndEvent.split(/\s+/).forEach(function(t){St(o,t,e)});n._animationTimeout=null,ct(l,r.dirClass),ct(l,r.overlayClass),lt(l,"active"),ct(o,"active"),ct(o,r.dirClass),ct(o,r.overlayClass),ft(o,"aria-current","false"),ft(l,"aria-current","true"),ft(o,"aria-hidden","true"),ft(l,"aria-hidden","false"),o.tabIndex=-1,l.tabIndex=-1,n.isCycling||(l.tabIndex=0,n.$nextTick(function(){l.focus()})),n.isSliding=!1,n.direction=null,n.$nextTick(function(){return n.$emit("sliding-end",t)})}};if(this.transitionEndEvent)this.transitionEndEvent.split(/\s+/).forEach(function(t){_t(o,t,h)});this._animationTimeout=setTimeout(h,650)}}}},created:function(){this._animationTimeout=null},mounted:function(){this.transitionEndEvent=function(t){for(var e in Ee)if(void 0!==t.style[e])return Ee[e];return null}(this.$el)||null,this.updateSlides(),we(this.$refs.inner,this.updateSlides.bind(this),{subtree:!1,childList:!0,attributes:!0,attributeFilter:["id"]})},beforeDestroy:function(){clearInterval(this.intervalId),clearTimeout(this._animationTimeout),this.intervalId=null,this._animationTimeout=null}};function Ce(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ke='<svg width="%{w}" height="%{h}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 %{w} %{h}" preserveAspectRatio="none"><rect width="100%" height="100%" style="fill:%{f};"></rect></svg>';var xe={functional:!0,props:{src:{type:String,default:null},alt:{type:String,default:null},width:{type:[Number,String],default:null},height:{type:[Number,String],default:null},block:{type:Boolean,default:!1},fluid:{type:Boolean,default:!1},fluidGrow:{type:Boolean,default:!1},rounded:{type:[Boolean,String],default:!1},thumbnail:{type:Boolean,default:!1},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1},center:{type:Boolean,default:!1},blank:{type:Boolean,default:!1},blankColor:{type:String,default:"transparent"}},render:function(t,e){var n,r=e.props,data=e.data,o=r.src,l=parseInt(r.width,10)?parseInt(r.width,10):null,h=parseInt(r.height,10)?parseInt(r.height,10):null,d=null,f=r.block;return r.blank&&(!h&&Boolean(l)?h=l:!l&&Boolean(h)&&(l=h),l||h||(l=1,h=1),o=function(t,e,n){return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(ke.replace("%{w}",String(t)).replace("%{h}",String(e)).replace("%{f}",n))}(l,h,r.blankColor||"transparent")),r.left?d="float-left":r.right?d="float-right":r.center&&(d="mx-auto",f=!0),t("img",c(data,{attrs:{src:o,alt:r.alt,width:l?String(l):null,height:h?String(h):null},class:(n={"img-thumbnail":r.thumbnail,"img-fluid":r.fluid||r.fluidGrow,"w-100":r.fluidGrow,rounded:""===r.rounded||!0===r.rounded},Ce(n,"rounded-"+r.rounded,"string"==typeof r.rounded&&""!==r.rounded),Ce(n,d,Boolean(d)),Ce(n,"d-block",f),n)}))}};var Ie=function(t){console.warn("[Bootstrap-Vue warn]: "+t)},Ne={bCarousel:Te,bCarouselSlide:{components:{bImg:xe},mixins:[_e],render:function(t){var e=this.$slots,img=e.img;img||!this.imgSrc&&!this.imgBlank||(img=t("b-img",{props:{fluidGrow:!0,block:!0,src:this.imgSrc,blank:this.imgBlank,blankColor:this.imgBlankColor,width:this.computedWidth,height:this.computedHeight,alt:this.imgAlt}}));var content=t(this.contentTag,{class:this.contentClasses},[this.caption?t(this.captionTag,{domProps:{innerHTML:this.caption}}):t(!1),this.text?t(this.textTag,{domProps:{innerHTML:this.text}}):t(!1),e.default]);return t("div",{class:["carousel-item"],style:{background:this.background},attrs:{id:this.safeId(),role:"listitem"}},[img,content])},props:{imgSrc:{type:String,default:function(){return this&&this.src?(Ie("b-carousel-slide: prop 'src' has been deprecated. Use 'img-src' instead"),this.src):null}},src:{type:String},imgAlt:{type:String},imgWidth:{type:[Number,String]},imgHeight:{type:[Number,String]},imgBlank:{type:Boolean,default:!1},imgBlankColor:{type:String,default:"transparent"},contentVisibleUp:{type:String},contentTag:{type:String,default:"div"},caption:{type:String},captionTag:{type:String,default:"h3"},text:{type:String},textTag:{type:String,default:"p"},background:{type:String}},computed:{contentClasses:function(){return["carousel-caption",this.contentVisibleUp?"d-none":"",this.contentVisibleUp?"d-"+this.contentVisibleUp+"-block":""]},computedWidth:function(){return this.imgWidth||this.$parent.imgWidth},computedHeight:function(){return this.imgHeight||this.$parent.imgHeight}}}},De={install:function(t){f(t,Ne)}};v(De);var Ae=De,Oe={functional:!0,props:{tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var n=e.props,data=e.data,r=e.children;return t(n.tag,c(data,{class:{container:!n.fluid,"container-fluid":n.fluid}}),r)}};function Pe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Re=["start","end","center"],Le={functional:!0,props:{tag:{type:String,default:"div"},noGutters:{type:Boolean,default:!1},alignV:{type:String,default:null,validator:function(t){return R(Re.concat(["baseline","stretch"]),t)}},alignH:{type:String,default:null,validator:function(t){return R(Re.concat(["between","around"]),t)}},alignContent:{type:String,default:null,validator:function(t){return R(Re.concat(["between","around","stretch"]),t)}}},render:function(t,e){var n,r=e.props,data=e.data,o=e.children;return t(r.tag,c(data,{staticClass:"row",class:(n={"no-gutters":r.noGutters},Pe(n,"align-items-"+r.alignV,r.alignV),Pe(n,"justify-content-"+r.alignH,r.alignH),Pe(n,"align-content-"+r.alignContent,r.alignContent),n)}),o)}};function Me(t,e){return e+(t?Yt(t):"")}function Fe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Be(){return{type:[String,Number],default:null}}var Ve,qe,je=(Ve=function(t,e,n){var r=t;if(!1!==n&&null!=n)return e&&(r+="-"+e),"col"!==t||""!==n&&!0!==n?(r+="-"+n).toLowerCase():r.toLowerCase()},qe=A(null),function(){var t=JSON.stringify(arguments);return qe[t]=qe[t]||Ve.apply(null,arguments)}),Ue=["sm","md","lg","xl"],We=Ue.reduce(function(t,e){return t[e]={type:[Boolean,String,Number],default:!1},t},A(null)),$e=Ue.reduce(function(t,e){return t[Me(e,"offset")]=Be(),t},A(null)),ze=Ue.reduce(function(t,e){return t[Me(e,"order")]=Be(),t},A(null)),He=x(A(null),{col:I(We),offset:I($e),order:I(ze)}),Ke=x({},We,$e,ze,{tag:{type:String,default:"div"},col:{type:Boolean,default:!1},cols:Be(),offset:Be(),order:Be(),alignSelf:{type:String,default:null,validator:function(t){return R(["auto","start","end","center","baseline","stretch"],t)}}}),Qe={functional:!0,props:{tag:{type:String,default:"div"}},render:function(t,e){var n=e.props,data=e.data,r=e.children;return t(n.tag,c(data,{staticClass:"form-row"}),r)}},Ge={bContainer:Oe,bRow:Le,bCol:{functional:!0,props:Ke,render:function(t,e){var n,r=e.props,data=e.data,o=e.children,l=[];for(var h in He)for(var d=He[h],i=0;i<d.length;i++){var f=je(h,d[i].replace(h,""),r[d[i]]);f&&l.push(f)}return l.push((Fe(n={col:r.col||0===l.length&&!r.cols},"col-"+r.cols,r.cols),Fe(n,"offset-"+r.offset,r.offset),Fe(n,"order-"+r.order,r.order),Fe(n,"align-self-"+r.alignSelf,r.alignSelf),n)),t(r.tag,c(data,{class:l}),o)}},bFormRow:Qe},Ye={install:function(t){f(t,Ge)}};v(Ye);var Xe=Ye;var Je="__BV_root_listeners__",Ze={methods:{listenOnRoot:function(t,e){return this[Je]&&P(this[Je])||(this[Je]=[]),this[Je].push({event:t,callback:e}),this.$root.$on(t,e),this},emitOnRoot:function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(e=this.$root).$emit.apply(e,[t].concat(function(t){if(Array.isArray(t)){for(var i=0,e=Array(t.length);i<t.length;i++)e[i]=t[i];return e}return Array.from(t)}(r))),this}},beforeDestroy:function(){if(this[Je]&&P(this[Je]))for(;this[Je].length>0;){var t=this[Je].shift(),e=t.event,n=t.callback;this.$root.$off(e,n)}}},tn={mixins:[Ze],render:function(t){var content=t(this.tag,{class:this.classObject,directives:[{name:"show",value:this.show}],attrs:{id:this.id||null},on:{click:this.clickHandler}},[this.$slots.default]);return t("transition",{props:{enterClass:"",enterActiveClass:"collapsing",enterToClass:"",leaveClass:"",leaveActiveClass:"collapsing",leaveToClass:""},on:{enter:this.onEnter,afterEnter:this.onAfterEnter,leave:this.onLeave,afterLeave:this.onAfterLeave}},[content])},data:function(){return{show:this.visible,transitioning:!1}},model:{prop:"visible",event:"input"},props:{id:{type:String,required:!0},isNav:{type:Boolean,default:!1},accordion:{type:String,default:null},visible:{type:Boolean,default:!1},tag:{type:String,default:"div"}},watch:{visible:function(t){t!==this.show&&(this.show=t)},show:function(t,e){t!==e&&this.emitState()}},computed:{classObject:function(){return{"navbar-collapse":this.isNav,collapse:!this.transitioning,show:this.show&&!this.transitioning}}},methods:{toggle:function(){this.show=!this.show},onEnter:function(t){t.style.height=0,it(t),t.style.height=t.scrollHeight+"px",this.transitioning=!0,this.$emit("show")},onAfterEnter:function(t){t.style.height=null,this.transitioning=!1,this.$emit("shown")},onLeave:function(t){t.style.height="auto",t.style.display="block",t.style.height=t.getBoundingClientRect().height+"px",it(t),this.transitioning=!0,t.style.height=0,this.$emit("hide")},onAfterLeave:function(t){t.style.height=null,this.transitioning=!1,this.$emit("hidden")},emitState:function(){this.$emit("input",this.show),this.$root.$emit("bv::collapse::state",this.id,this.show),this.accordion&&this.show&&this.$root.$emit("bv::collapse::accordion",this.id,this.accordion)},clickHandler:function(t){var e=t.target;this.isNav&&e&&"block"===getComputedStyle(this.$el).display&&(ht(e,"nav-link")||ht(e,"dropdown-item"))&&(this.show=!1)},handleToggleEvt:function(t){t===this.id&&this.toggle()},handleAccordionEvt:function(t,e){this.accordion&&e===this.accordion&&(t===this.id?this.show||this.toggle():this.show&&this.toggle())},handleResize:function(){this.show="block"===getComputedStyle(this.$el).display}},created:function(){this.listenOnRoot("bv::toggle::collapse",this.handleToggleEvt),this.listenOnRoot("bv::collapse::accordion",this.handleAccordionEvt)},mounted:function(){this.isNav&&"undefined"!=typeof document&&(window.addEventListener("resize",this.handleResize,!1),window.addEventListener("orientationchange",this.handleResize,!1),this.handleResize()),this.emitState()},beforeDestroy:function(){this.isNav&&"undefined"!=typeof document&&(window.removeEventListener("resize",this.handleResize,!1),window.removeEventListener("orientationchange",this.handleResize,!1))}},en={hover:!0,click:!0,focus:!0},nn="__BV_boundEventListeners__",rn=function(t,e,n,r){var o=I(e.modifiers||{}).filter(function(t){return!en[t]});e.value&&o.push(e.value);var l=function(){r({targets:o,vnode:t})};return I(en).forEach(function(r){if(n[r]||e.modifiers[r]){t.elm.addEventListener(r,l);var o=t.elm[nn]||{};o[r]=o[r]||[],o[r].push(l),t.elm[nn]=o}}),o},on=rn,an="undefined"!=typeof window,sn={click:!0},un="__BV_toggle__",ln={bToggle:{bind:function(t,e,n){var r=on(n,e,sn,function(t){var e=t.targets,n=t.vnode;e.forEach(function(t){n.context.$root.$emit("bv::toggle::collapse",t)})});an&&n.context&&r.length>0&&(ft(t,"aria-controls",r.join(" ")),ft(t,"aria-expanded","false"),"BUTTON"!==t.tagName&&ft(t,"role","button"),t[un]=function(e,n){-1!==r.indexOf(e)&&(ft(t,"aria-expanded",n?"true":"false"),n?ct(t,"collapsed"):lt(t,"collapsed"))},n.context.$root.$on("bv::collapse::state",t[un]))},unbind:function(t,e,n){t[un]&&(n.context.$root.$off("bv::collapse::state",t[un]),t[un]=null)}}},cn={install:function(t){y(t,ln)}};v(cn);var hn=cn,dn={bCollapse:tn},fn={install:function(t){f(t,dn),t.use(hn)}};v(fn);var pn=fn,gn=n(20),mn={mounted:function(){"undefined"!=typeof document&&document.documentElement.addEventListener("click",this._clickOutListener)},beforeDestroy:function(){"undefined"!=typeof document&&document.documentElement.removeEventListener("click",this._clickOutListener)},methods:{_clickOutListener:function(t){this.$el.contains(t.target)||this.clickOutListener&&this.clickOutListener()}}},bn=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var yn=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new TypeError("Failed to construct '"+this.constructor.name+"'. 1 argument required, "+arguments.length+" given.");x(this,t.defaults(),n,{type:e}),N(this,{type:{enumerable:!0,configurable:!1,writable:!1},cancelable:{enumerable:!0,configurable:!1,writable:!1},nativeEvent:{enumerable:!0,configurable:!1,writable:!1},target:{enumerable:!0,configurable:!1,writable:!1},relatedTarget:{enumerable:!0,configurable:!1,writable:!1},vueTarget:{enumerable:!0,configurable:!1,writable:!1}});var r=!1;this.preventDefault=function(){this.cancelable&&(r=!0)},D(this,"defaultPrevented",{enumerable:!0,get:function(){return r}})}return bn(t,null,[{key:"defaults",value:function(){return{type:"",cancelable:!0,nativeEvent:null,target:null,relatedTarget:null,vueTarget:null}}}]),t}();var vn="top-start",wn="top-end",_n="bottom-start",Sn="bottom-end",En={mixins:[mn,Ze],props:{disabled:{type:Boolean,default:!1},text:{type:String,default:""},dropup:{type:Boolean,default:!1},right:{type:Boolean,default:!1},offset:{type:[Number,String],default:0},noFlip:{type:Boolean,default:!1},popperOpts:{type:Object,default:function(){}}},data:function(){return{visible:!1,inNavbar:null,visibleChangePrevented:!1}},created:function(){this._popper=null},mounted:function(){this.listenOnRoot("bv::dropdown::shown",this.rootCloseListener),this.listenOnRoot("clicked::link",this.rootCloseListener),this.listenOnRoot("bv::link::clicked",this.rootCloseListener)},deactivated:function(){this.visible=!1,this.setTouchStart(!1),this.removePopper()},beforeDestroy:function(){this.visible=!1,this.setTouchStart(!1),this.removePopper()},watch:{visible:function(t,e){if(this.visibleChangePrevented)this.visibleChangePrevented=!1;else if(t!==e){var n=t?"show":"hide",r=new yn(n,{cancelable:!0,vueTarget:this,target:this.$refs.menu,relatedTarget:null});if(this.emitEvent(r),r.defaultPrevented)return this.visibleChangePrevented=!0,void(this.visible=e);"show"===n?this.showMenu():this.hideMenu()}},disabled:function(t,e){t!==e&&t&&this.visible&&(this.visible=!1)}},computed:{toggler:function(){return this.$refs.toggle.$el||this.$refs.toggle}},methods:{emitEvent:function(t){var e=t.type;this.$emit(e,t),this.emitOnRoot("bv::dropdown::"+e,t)},showMenu:function(){if(!this.disabled){if(this.emitOnRoot("bv::dropdown::shown",this),null===this.inNavbar&&this.isNav&&(this.inNavbar=Boolean(ut(".navbar",this.$el))),!this.inNavbar)if(void 0===gn.a)Ie("b-dropdown: Popper.js not found. Falling back to CSS positioning.");else{var element=this.dropup&&this.right||this.split?this.$el:this.$refs.toggle;element=element.$el||element,this.createPopper(element)}this.setTouchStart(!0),this.$emit("shown"),this.$nextTick(this.focusFirstItem)}},hideMenu:function(){this.setTouchStart(!1),this.emitOnRoot("bv::dropdown::hidden",this),this.$emit("hidden"),this.removePopper()},createPopper:function(element){this.removePopper(),this._popper=new gn.a(element,this.$refs.menu,this.getPopperConfig())},removePopper:function(){this._popper&&this._popper.destroy(),this._popper=null},getPopperConfig:function(){var t=_n;this.dropup&&this.right?t=wn:this.dropup?t=vn:this.right&&(t=Sn);var e={placement:t,modifiers:{offset:{offset:this.offset||0},flip:{enabled:!this.noFlip}}};return this.boundary&&(e.modifiers.preventOverflow={boundariesElement:this.boundary}),x(e,this.popperOpts||{})},setTouchStart:function(t){var e=this;"ontouchstart"in document.documentElement&&O(document.body.children).forEach(function(n){t?_t("mouseover",e._noop):St("mouseover",e._noop)})},_noop:function(){},rootCloseListener:function(t){t!==this&&(this.visible=!1)},clickOutListener:function(){this.visible=!1},show:function(){this.disabled||(this.visible=!0)},hide:function(){this.disabled||(this.visible=!1)},toggle:function(t){var e=(t=t||{}).type,n=t.keyCode;"click"!==e&&("keydown"!==e||n!==Mt.ENTER&&n!==Mt.SPACE&&n!==Mt.DOWN)||(this.disabled?this.visible=!1:(this.$emit("toggle",t),t.defaultPrevented||(t.preventDefault(),t.stopPropagation(),this.visible=!this.visible)))},click:function(t){this.disabled?this.visible=!1:this.$emit("click",t)},onKeydown:function(t){var e=t.keyCode;e===Mt.ESC?this.onEsc(t):e===Mt.TAB?this.onTab(t):e===Mt.DOWN?this.focusNext(t,!1):e===Mt.UP&&this.focusNext(t,!0)},onEsc:function(t){this.visible&&(this.visible=!1,t.preventDefault(),t.stopPropagation(),this.$nextTick(this.focusToggler))},onTab:function(t){this.visible&&(this.visible=!1)},onFocusOut:function(t){this.$refs.menu.contains(t.relatedTarget)||(this.visible=!1)},onMouseOver:function(t){var e=t.target;e.classList.contains("dropdown-item")&&!e.disabled&&!e.classList.contains("disabled")&&e.focus&&e.focus()},focusNext:function(t,e){var n=this;this.visible&&(t.preventDefault(),t.stopPropagation(),this.$nextTick(function(){var r=n.getItems();if(!(r.length<1)){var o=r.indexOf(t.target);e&&o>0?o--:!e&&o<r.length-1&&o++,o<0&&(o=0),n.focusItem(o,r)}}))},focusItem:function(t,e){var n=e.find(function(e,i){return i===t});n&&"-1"!==gt(n,"tabindex")&&n.focus()},getItems:function(){return(ot(".dropdown-item:not(.disabled):not([disabled])",this.$refs.menu)||[]).filter(et)},getFirstItem:function(){return this.getItems()[0]||null},focusFirstItem:function(){var t=this.getFirstItem();t&&this.focusItem(0,[t])},focusToggler:function(){var t=this.toggler;t&&t.focus&&t.focus()}}},Tn=(n(258),{mixins:[_e,En],components:{bButton:It},render:function(t){var e=t(!1);this.split&&(e=t("b-button",{ref:"button",props:{disabled:this.disabled,variant:this.variant,size:this.size},attrs:{id:this.safeId("_BV_button_")},on:{click:this.click}},[this.$slots["button-content"]||this.$slots.text||this.text]));var n=t("b-button",{ref:"toggle",class:this.toggleClasses,props:{variant:this.variant,size:this.size,disabled:this.disabled},attrs:{id:this.safeId("_BV_toggle_"),"aria-haspopup":"true","aria-expanded":this.visible?"true":"false"},on:{click:this.toggle,keydown:this.toggle}},[this.split?t("span",{class:["sr-only"]},[this.toggleText]):this.$slots["button-content"]||this.$slots.text||this.text]),menu=t("div",{ref:"menu",class:this.menuClasses,attrs:{role:this.role,"aria-labelledby":this.safeId(this.split?"_BV_button_":"_BV_toggle_")},on:{mouseover:this.onMouseOver,keydown:this.onKeydown}},[this.$slots.default]);return t("div",{attrs:{id:this.safeId()},class:this.dropdownClasses},[e,n,menu])},props:{split:{type:Boolean,default:!1},toggleText:{type:String,default:"Toggle Dropdown"},size:{type:String,default:null},variant:{type:String,default:null},menuClass:{type:[String,Array],default:null},toggleClass:{type:[String,Array],default:null},noCaret:{type:Boolean,default:!1},role:{type:String,default:"menu"},boundary:{type:[String,Object],default:"scrollParent"}},computed:{dropdownClasses:function(){var t="";return"scrollParent"===this.boundary&&this.boundary||(t="position-static"),["btn-group","b-dropdown","dropdown",this.dropup?"dropup":"",this.visible?"show":"",t]},menuClasses:function(){return["dropdown-menu",{"dropdown-menu-right":this.right,show:this.visible},this.menuClass]},toggleClasses:function(){return[{"dropdown-toggle":!this.noCaret||this.split,"dropdown-toggle-split":this.split},this.toggleClass]}}}),Cn={functional:!0,props:V(),render:function(t,e){var n=e.props,data=e.data,r=e.children;return t(U,c(data,{props:n,staticClass:"dropdown-item",attrs:{role:"menuitem"}}),r)}},kn={functional:!0,props:{disabled:{type:Boolean,default:!1}},render:function(t,e){var n=e.props,data=e.data,r=e.parent,o=e.children;return t("button",c(data,{props:n,staticClass:"dropdown-item",attrs:{role:"menuitem",type:"button",disabled:n.disabled},on:{click:function(t){r.$root.$emit("clicked::link",t)}}}),o)}},xn={functional:!0,props:{id:{type:String,default:null},tag:{type:String,default:"h6"}},render:function(t,e){var n=e.props,data=e.data,r=e.children;return t(n.tag,c(data,{staticClass:"dropdown-header",attrs:{id:n.id||null}}),r)}},In={functional:!0,props:{tag:{type:String,default:"div"}},render:function(t,e){var n=e.props,data=e.data;return t(n.tag,c(data,{staticClass:"dropdown-divider",attrs:{role:"separator"}}))}},Nn={bDropdown:Tn,bDd:Tn,bDropdownItem:Cn,bDdItem:Cn,bDropdownItemButton:kn,bDropdownItemBtn:kn,bDdItemButton:kn,bDdItemBtn:kn,bDropdownHeader:xn,bDdHeader:xn,bDropdownDivider:In,bDdDivider:In},Dn={install:function(t){f(t,Nn)}};v(Dn);var An=Dn;var On={bEmbed:{functional:!0,props:{type:{type:String,default:"iframe",validator:function(t){return R(["iframe","embed","video","object","img","b-img","b-img-lazy"],t)}},tag:{type:String,default:"div"},aspect:{type:String,default:"16by9"}},render:function(t,e){var n,r,o,l=e.props,data=e.data,h=e.children;return t(l.tag,{ref:data.ref,staticClass:"embed-responsive",class:(n={},r="embed-responsive-"+l.aspect,o=Boolean(l.aspect),r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n)},[t(l.type,c(data,{ref:"",staticClass:"embed-responsive-item"}),h)])}}},Pn={install:function(t){f(t,On)}};v(Pn);var Rn=Pn,Ln={functional:!0,props:{id:{type:String,default:null},inline:{type:Boolean,default:!1},novalidate:{type:Boolean,default:!1},validated:{type:Boolean,default:!1}},render:function(t,e){var n=e.props,data=e.data,r=e.children;return t("form",c(data,{class:{"form-inline":n.inline,"was-validated":n.validated},attrs:{id:n.id,novalidate:n.novalidate}}),r)}};var Mn={functional:!0,props:{id:{type:String,default:null},tag:{type:String,default:"small"},textVariant:{type:String,default:"muted"},inline:{type:Boolean,default:!1}},render:function(t,e){var n,r,o,l=e.props,data=e.data,h=e.children;return t(l.tag,c(data,{class:(n={"form-text":!l.inline},r="text-"+l.textVariant,o=Boolean(l.textVariant),r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n),attrs:{id:l.id}}),h)}},Fn={functional:!0,props:{id:{type:String,default:null},tag:{type:String,default:"div"},forceShow:{type:Boolean,default:!1}},render:function(t,e){var n=e.props,data=e.data,r=e.children;return t(n.tag,c(data,{staticClass:"invalid-feedback",class:{"d-block":n.forceShow},attrs:{id:n.id}}),r)}},Bn={functional:!0,props:{id:{type:String,default:null},tag:{type:String,default:"div"},forceShow:{type:Boolean,default:!1}},render:function(t,e){var n=e.props,data=e.data,r=e.children;return t(n.tag,c(data,{staticClass:"valid-feedback",class:{"d-block":n.forceShow},attrs:{id:n.id}}),r)}},Vn={bForm:Ln,bFormRow:Qe,bFormText:Mn,bFormInvalidFeedback:Fn,bFormFeedback:Fn,bFormValidFeedback:Bn},qn={install:function(t){f(t,Vn)}};v(qn);var jn=qn,Un={props:{state:{type:[Boolean,String],default:null}},computed:{computedState:function(){var t=this.state;return!0===t||"valid"===t||!1!==t&&"invalid"!==t&&null},stateClass:function(){var t=this.computedState;return!0===t?"is-valid":!1===t?"is-invalid":null}}},Wn={mixins:[_e,Un],components:{bFormRow:Qe,bFormText:Mn,bFormInvalidFeedback:Fn,bFormValidFeedback:Bn},render:function(t){var e=this.$slots,legend=t(!1);if(this.hasLabel){var n=e.label,r=this.labelFor?"label":"legend",o=n?{}:{innerHTML:this.label},l={id:this.labelId,for:this.labelFor||null},c=this.labelFor||this.labelSrOnly?{}:{click:this.legendClick};this.horizontal?this.labelSrOnly?(n=t(r,{class:["sr-only"],attrs:l,domProps:o},n),legend=t("div",{class:this.labelLayoutClasses},[n])):legend=t(r,{class:[this.labelLayoutClasses,this.labelClasses],attrs:l,domProps:o,on:c},n):legend=t(r,{class:this.labelSrOnly?["sr-only"]:this.labelClasses,attrs:l,domProps:o,on:c},n)}else this.horizontal&&(legend=t("div",{class:this.labelLayoutClasses}));var h=t(!1);if(this.hasInvalidFeedback){var d={};e["invalid-feedback"]||e.feedback||(d={innerHTML:this.invalidFeedback||this.feedback||""}),h=t("b-form-invalid-feedback",{props:{id:this.invalidFeedbackId,forceShow:!1===this.computedState},attrs:{role:"alert","aria-live":"assertive","aria-atomic":"true"},domProps:d},e["invalid-feedback"]||e.feedback)}var f=t(!1);if(this.hasValidFeedback){var m=e["valid-feedback"]?{}:{innerHTML:this.validFeedback||""};f=t("b-form-valid-feedback",{props:{id:this.validFeedbackId,forceShow:!0===this.computedState},attrs:{role:"alert","aria-live":"assertive","aria-atomic":"true"},domProps:m},e["valid-feedback"])}var y=t(!1);if(this.hasDescription){var v=e.description?{}:{innerHTML:this.description||""};y=t("b-form-text",{attrs:{id:this.descriptionId},domProps:v},e.description)}var content=t("div",{ref:"content",class:this.inputLayoutClasses,attrs:this.labelFor?{}:{role:"group","aria-labelledby":this.labelId}},[e.default,h,f,y]);return t(this.labelFor?"div":"fieldset",{class:this.groupClasses,attrs:{id:this.safeId(),disabled:this.disabled,role:"group","aria-invalid":!1===this.computedState?"true":null,"aria-labelledby":this.labelId,"aria-describedby":this.labelFor?null:this.describedByIds}},this.horizontal?[t("b-form-row",{},[legend,content])]:[legend,content])},props:{horizontal:{type:Boolean,default:!1},labelCols:{type:[Number,String],default:3,validator:function(t){return Number(t)>=1&&Number(t)<=11||(Ie("b-form-group: label-cols must be a value between 1 and 11"),!1)}},breakpoint:{type:String,default:"sm"},labelTextAlign:{type:String,default:null},label:{type:String,default:null},labelFor:{type:String,default:null},labelSize:{type:String,default:null},labelSrOnly:{type:Boolean,default:!1},labelClass:{type:[String,Array],default:null},description:{type:String,default:null},invalidFeedback:{type:String,default:null},feedback:{type:String,default:null},validFeedback:{type:String,default:null},validated:{type:Boolean,default:!1}},computed:{groupClasses:function(){return["b-form-group","form-group",this.validated?"was-validated":null,this.stateClass]},labelClasses:function(){return["col-form-label",this.labelSize?"col-form-label-"+this.labelSize:null,this.labelTextAlign?"text-"+this.labelTextAlign:null,this.horizontal?null:"pt-0",this.labelClass]},labelLayoutClasses:function(){return[this.horizontal?"col-"+this.breakpoint+"-"+this.labelCols:null]},inputLayoutClasses:function(){return[this.horizontal?"col-"+this.breakpoint+"-"+(12-Number(this.labelCols)):null]},hasLabel:function(){return this.label||this.$slots.label},hasDescription:function(){return this.description||this.$slots.description},hasInvalidFeedback:function(){return!0!==this.computedState&&(this.invalidFeedback||this.feedback||this.$slots["invalid-feedback"]||this.$slots.feedback)},hasValidFeedback:function(){return!1!==this.computedState&&(this.validFeedback||this.$slots["valid-feedback"])},labelId:function(){return this.hasLabel?this.safeId("_BV_label_"):null},descriptionId:function(){return this.hasDescription?this.safeId("_BV_description_"):null},invalidFeedbackId:function(){return this.hasInvalidFeedback?this.safeId("_BV_feedback_invalid_"):null},validFeedbackId:function(){return this.hasValidFeedback?this.safeId("_BV_feedback_valid_"):null},describedByIds:function(){return[this.descriptionId,this.invalidFeedbackId,this.validFeedbackId].filter(function(i){return i}).join(" ")||null}},watch:{describedByIds:function(t,e){t!==e&&this.setInputDescribedBy(t,e)}},methods:{legendClick:function(t){var e=t.target?t.target.tagName:"";if(!/^(input|select|textarea|label)$/i.test(e)){var n=ot("input:not(:disabled),textarea:not(:disabled),select:not(:disabled)",this.$refs.content).filter(et);n[0]&&n[0].focus&&n[0].focus()}},setInputDescribedBy:function(t,e){if(this.labelFor&&"undefined"!=typeof document){var input=at("#"+this.labelFor,this.$refs.content);if(input){var n="aria-describedby",r=(gt(input,n)||"").split(/\s+/);e=(e||"").split(/\s+/),(r=r.filter(function(t){return-1===e.indexOf(t)}).concat(t||"").join(" ").trim())?ft(input,n,r):pt(input,n)}}}},mounted:function(){var t=this;this.$nextTick(function(){t.setInputDescribedBy(t.describedByIds)})}},$n={bFormGroup:Wn,bFormFieldset:Wn},zn={install:function(t){f(t,$n)}};v(zn);var Hn=zn,Kn={data:function(){return{localChecked:this.checked,hasFocus:!1}},model:{prop:"checked",event:"input"},props:{value:{},checked:{},buttonVariant:{type:String,default:null}},computed:{computedLocalChecked:{get:function(){return this.is_Child?this.$parent.localChecked:this.localChecked},set:function(t){this.is_Child?this.$parent.localChecked=t:this.localChecked=t}},is_Child:function(){return Boolean(this.$parent&&this.$parent.is_RadioCheckGroup)},is_Disabled:function(){return Boolean(this.is_Child&&this.$parent.disabled||this.disabled)},is_Required:function(){return Boolean(this.is_Child?this.$parent.required:this.required)},is_Plain:function(){return Boolean(this.is_Child?this.$parent.plain:this.plain)},is_Custom:function(){return!this.is_Plain},get_Size:function(){return this.is_Child?this.$parent.size:this.size},get_State:function(){return this.is_Child&&"boolean"==typeof this.$parent.get_State?this.$parent.get_State:this.computedState},get_StateClass:function(){return"boolean"==typeof this.get_State?this.get_State?"is-valid":"is-invalid":""},is_Stacked:function(){return Boolean(this.is_Child&&this.$parent.stacked)},is_Inline:function(){return!this.is_Stacked},is_ButtonMode:function(){return Boolean(this.is_Child&&this.$parent.buttons)},get_ButtonVariant:function(){return this.buttonVariant||(this.is_Child?this.$parent.buttonVariant:null)||"secondary"},get_Name:function(){return(this.is_Child?this.$parent.name||this.$parent.safeId():this.name)||null},buttonClasses:function(){return["btn","btn-"+this.get_ButtonVariant,this.get_Size?"btn-"+this.get_Size:"",this.is_Disabled?"disabled":"",this.is_Checked?"active":"",this.hasFocus?"focus":""]}},methods:{handleFocus:function(t){this.is_ButtonMode&&t.target&&("focus"===t.type?this.hasFocus=!0:"blur"===t.type&&(this.hasFocus=!1))}}},Qn={props:{name:{type:String},id:{type:String},disabled:{type:Boolean},required:{type:Boolean,default:!1}}},Gn={props:{size:{type:String,default:null}},computed:{sizeFormClass:function(){return[this.size?"form-control-"+this.size:null]},sizeBtnClass:function(){return[this.size?"btn-"+this.size:null]}}},Yn={computed:{custom:function(){return!this.plain}},props:{plain:{type:Boolean,default:!1}}},Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function Jn(t){return null!==t&&"object"===(void 0===t?"undefined":Xn(t))}var Zn=function t(a,b){if(a===b)return!0;var e=Jn(a),n=Jn(b);if(!e||!n)return!e&&!n&&String(a)===String(b);try{var r=P(a),o=P(b);if(r&&o)return a.length===b.length&&a.every(function(e,i){return t(e,b[i])});if(r||o)return!1;var l=I(a),c=I(b);return l.length===c.length&&l.every(function(e){return t(a[e],b[e])})}catch(t){return!1}},er={mixins:[_e,Kn,Qn,Gn,Un,Yn],render:function(t){var e=this,input=t("input",{ref:"check",class:[this.is_ButtonMode?"":this.is_Plain?"form-check-input":"custom-control-input",this.get_StateClass],directives:[{name:"model",rawName:"v-model",value:this.computedLocalChecked,expression:"computedLocalChecked"}],attrs:{id:this.safeId(),type:"checkbox",name:this.get_Name,disabled:this.is_Disabled,required:this.is_Required,autocomplete:"off","true-value":this.value,"false-value":this.uncheckedValue,"aria-required":this.is_Required?"true":null},domProps:{value:this.value,checked:this.is_Checked},on:{focus:this.handleFocus,blur:this.handleFocus,change:this.emitChange,__c:function(t){var n=e.computedLocalChecked,r=t.target;if(P(n)){var o=e.value,l=e._i(n,o);r.checked?l<0&&(e.computedLocalChecked=n.concat([o])):l>-1&&(e.computedLocalChecked=n.slice(0,l).concat(n.slice(l+1)))}else e.computedLocalChecked=r.checked?e.value:e.uncheckedValue}}}),n=t(this.is_ButtonMode?"span":"label",{class:this.is_ButtonMode?null:this.is_Plain?"form-check-label":"custom-control-label",attrs:{for:this.is_ButtonMode?null:this.safeId()}},[this.$slots.default]);return this.is_ButtonMode?t("label",{class:[this.buttonClasses]},[input,n]):t("div",{class:[this.is_Plain?"form-check":this.labelClasses,{"form-check-inline":this.is_Plain&&!this.is_Stacked},{"custom-control-inline":!this.is_Plain&&!this.is_Stacked}]},[input,n])},props:{value:{default:!0},uncheckedValue:{default:!1},indeterminate:{type:Boolean,default:!1}},computed:{labelClasses:function(){return["custom-control","custom-checkbox",this.get_Size?"form-control-"+this.get_Size:"",this.get_StateClass]},is_Checked:function(){var t=this.computedLocalChecked;if(P(t)){for(var i=0;i<t.length;i++)if(Zn(t[i],this.value))return!0;return!1}return Zn(t,this.value)}},watch:{computedLocalChecked:function(t,e){Zn(t,e)||(this.$emit("input",t),this.$emit("update:indeterminate",this.$refs.check.indeterminate))},checked:function(t,e){this.is_Child||Zn(t,e)||(this.computedLocalChecked=t)},indeterminate:function(t,e){this.setIndeterminate(t)}},methods:{emitChange:function(t){var e=t.target.checked;this.is_Child||P(this.computedLocalChecked)?(this.$emit("change",e?this.value:null),this.is_Child&&this.$parent.$emit("change",this.computedLocalChecked)):this.$emit("change",e?this.value:this.uncheckedValue),this.$emit("update:indeterminate",this.$refs.check.indeterminate)},setIndeterminate:function(t){this.is_Child||P(this.computedLocalChecked)||(this.$refs.check.indeterminate=t,this.$emit("update:indeterminate",this.$refs.check.indeterminate))}},mounted:function(){this.setIndeterminate(this.indeterminate)}};function nr(t){return t&&"[object Object]"==={}.toString.call(t)}var rr={props:{options:{type:[Array,Object],default:function(){return[]}},valueField:{type:String,default:"value"},textField:{type:String,default:"text"},disabledField:{type:String,default:"disabled"}},computed:{formOptions:function(){var t=this.options,e=this.valueField,n=this.textField,r=this.disabledField;return P(t)?t.map(function(option){return nr(option)?{value:option[e],text:String(option[n]),disabled:option[r]||!1}:{value:option,text:String(option),disabled:!1}}):I(t).map(function(o){var option=t[o]||{};if(nr(option)){var l=option[e],text=option[n];return{value:void 0===l?o:l,text:void 0===text?o:String(text),disabled:option[r]||!1}}return{value:o,text:String(option),disabled:!1}})}}},ir={mixins:[_e,Qn,Gn,Un,Yn,rr],components:{bFormCheckbox:er},render:function(t){var e=this,n=this.$slots,r=this.formOptions.map(function(option,n){return t("b-form-checkbox",{key:"check_"+n+"_opt",props:{id:e.safeId("_BV_check_"+n+"_opt_"),name:e.name,value:option.value,required:e.name&&e.required,disabled:option.disabled}},[t("span",{domProps:{innerHTML:option.text}})])});return t("div",{class:this.groupClasses,attrs:{id:this.safeId(),role:"group",tabindex:"-1","aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid}},[n.first,r,n.default])},data:function(){return{localChecked:this.checked||[],is_RadioCheckGroup:!0}},model:{prop:"checked",event:"input"},props:{checked:{type:[String,Number,Object,Array,Boolean],default:null},validated:{type:Boolean,default:!1},ariaInvalid:{type:[Boolean,String],default:!1},stacked:{type:Boolean,default:!1},buttons:{type:Boolean,default:!1},buttonVariant:{type:String,default:"secondary"}},watch:{checked:function(t,e){this.localChecked=this.checked},localChecked:function(t,e){this.$emit("input",t)}},computed:{groupClasses:function(){return this.buttons?["btn-group-toggle",this.stacked?"btn-group-vertical":"btn-group",this.size?"btn-group-"+this.size:"",this.validated?"was-validated":""]:[this.sizeFormClass,this.stacked&&this.custom?"custom-controls-stacked":"",this.validated?"was-validated":""]},computedAriaInvalid:function(){return!0===this.ariaInvalid||"true"===this.ariaInvalid||""===this.ariaInvalid?"true":!1===this.get_State?"true":null},get_State:function(){return this.computedState}}},or={bFormCheckbox:er,bCheckbox:er,bCheck:er,bFormCheckboxGroup:ir,bCheckboxGroup:ir,bCheckGroup:ir},ar={install:function(t){f(t,or)}};v(ar);var sr=ar,ur={mixins:[_e,Kn,Qn,Un],render:function(t){var e=this,input=t("input",{ref:"radio",class:[this.is_ButtonMode?"":this.is_Plain?"form-check-input":"custom-control-input",this.get_StateClass],directives:[{name:"model",rawName:"v-model",value:this.computedLocalChecked,expression:"computedLocalChecked"}],attrs:{id:this.safeId(),type:"radio",name:this.get_Name,required:this.get_Name&&this.is_Required,disabled:this.is_Disabled,autocomplete:"off"},domProps:{value:this.value,checked:Zn(this.computedLocalChecked,this.value)},on:{focus:this.handleFocus,blur:this.handleFocus,change:this.emitChange,__c:function(t){e.computedLocalChecked=e.value}}}),n=t(this.is_ButtonMode?"span":"label",{class:this.is_ButtonMode?null:this.is_Plain?"form-check-label":"custom-control-label",attrs:{for:this.is_ButtonMode?null:this.safeId()}},[this.$slots.default]);return this.is_ButtonMode?t("label",{class:[this.buttonClasses]},[input,n]):t("div",{class:[this.is_Plain?"form-check":this.labelClasses,{"form-check-inline":this.is_Plain&&!this.is_Stacked},{"custom-control-inline":!this.is_Plain&&!this.is_Stacked}]},[input,n])},watch:{checked:function(t,e){this.computedLocalChecked=t},computedLocalChceked:function(t,e){this.$emit("input",this.computedLocalChceked)}},computed:{is_Checked:function(){return Zn(this.value,this.computedLocalChecked)},labelClasses:function(){return[this.get_Size?"form-control-"+this.get_Size:"","custom-control","custom-radio",this.get_StateClass]}},methods:{emitChange:function(t){var e=t.target.checked;this.$emit("change",e?this.value:null),this.is_Child&&this.$parent.$emit("change",this.computedLocalChecked)}}},lr={mixins:[_e,Qn,Gn,Un,Yn,rr],components:{bFormRadio:ur},render:function(t){var e=this,n=this.$slots,r=this.formOptions.map(function(option,n){return t("b-form-radio",{key:"radio_"+n+"_opt",props:{id:e.safeId("_BV_radio_"+n+"_opt_"),name:e.name,value:option.value,required:Boolean(e.name&&e.required),disabled:option.disabled}},[t("span",{domProps:{innerHTML:option.text}})])});return t("div",{class:this.groupClasses,attrs:{id:this.safeId(),role:"radiogroup",tabindex:"-1","aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid}},[n.first,r,n.default])},data:function(){return{localChecked:this.checked,is_RadioCheckGroup:!0}},model:{prop:"checked",event:"input"},props:{checked:{type:[String,Object,Number,Boolean],default:null},validated:{type:Boolean,default:!1},ariaInvalid:{type:[Boolean,String],default:!1},stacked:{type:Boolean,default:!1},buttons:{type:Boolean,default:!1},buttonVariant:{type:String,default:"secondary"}},watch:{checked:function(t,e){this.localChecked=this.checked},localChecked:function(t,e){this.$emit("input",t)}},computed:{groupClasses:function(){return this.buttons?["btn-group-toggle",this.stacked?"btn-group-vertical":"btn-group",this.size?"btn-group-"+this.size:"",this.validated?"was-validated":""]:[this.sizeFormClass,this.stacked&&this.custom?"custom-controls-stacked":"",this.validated?"was-validated":""]},computedAriaInvalid:function(){return!0===this.ariaInvalid||"true"===this.ariaInvalid||""===this.ariaInvalid?"true":!1===this.get_State?"true":null},get_State:function(){return this.computedState}}},cr={bFormRadio:ur,bRadio:ur,bFormRadioGroup:lr,bRadioGroup:lr},dr={install:function(t){f(t,cr)}};v(dr);var fr=dr,pr=(n(260),["text","password","email","number","url","tel","search","range","color","date","time","datetime","datetime-local","month","week"]),gr={mixins:[_e,Qn,Gn,Un],render:function(t){return t("input",{ref:"input",class:this.inputClass,attrs:{id:this.safeId(),name:this.name,type:this.localType,disabled:this.disabled,required:this.required,readonly:this.readonly||this.plaintext,placeholder:this.placeholder,autocomplete:this.autocomplete||null,"aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid,value:this.value},on:{input:this.onInput,change:this.onChange}})},props:{value:{default:null},type:{type:String,default:"text",validator:function(t){return R(pr,t)}},ariaInvalid:{type:[Boolean,String],default:!1},readonly:{type:Boolean,default:!1},plaintext:{type:Boolean,default:!1},autocomplete:{type:String,default:null},placeholder:{type:String,default:null},formatter:{type:Function},lazyFormatter:{type:Boolean,default:!1}},computed:{localType:function(){return R(pr,this.type)?this.type:"text"},inputClass:function(){return[this.plaintext?"form-control-plaintext":"form-control",this.sizeFormClass,this.stateClass]},computedAriaInvalid:function(){return this.ariaInvalid&&"false"!==this.ariaInvalid?!0===this.ariaInvalid?"true":this.ariaInvalid:!1===this.computedState?"true":null}},mounted:function(){if(this.value){var t=this.format(this.value,null);this.setValue(t)}},watch:{value:function(t){if(this.lazyFormatter)this.setValue(t);else{var e=this.format(t,null);this.setValue(e)}}},methods:{format:function(t,e){return this.formatter?this.formatter(t,e):t},setValue:function(t){this.$emit("input",t),this.$refs.input.value=t},onInput:function(t){var e=t.target.value;if(this.lazyFormatter)this.setValue(e);else{var n=this.format(e,t);this.setValue(n)}},onChange:function(t){var e=this.format(t.target.value,t);this.setValue(e),this.$emit("change",e)},focus:function(){this.disabled||this.$el.focus()}}},mr={bFormInput:gr,bInput:gr},yr={install:function(t){f(t,mr)}};v(yr);var vr=yr,wr={mixins:[_e,Qn,Gn,Un],render:function(t){var e=this;return t("textarea",{ref:"input",class:this.inputClass,style:this.inputStyle,directives:[{name:"model",rawName:"v-model",value:this.localValue,expression:"localValue"}],domProps:{value:this.value},attrs:{id:this.safeId(),name:this.name,disabled:this.disabled,placeholder:this.placeholder,required:this.required,autocomplete:this.autocomplete||null,readonly:this.readonly||this.plaintext,rows:this.rowsCount,wrap:this.wrap||null,"aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid},on:{input:function(t){e.localValue=t.target.value}}})},data:function(){return{localValue:this.value}},props:{value:{type:String,default:""},ariaInvalid:{type:[Boolean,String],default:!1},readonly:{type:Boolean,default:!1},plaintext:{type:Boolean,default:!1},autocomplete:{type:String,default:null},placeholder:{type:String,default:null},rows:{type:[Number,String],default:null},maxRows:{type:[Number,String],default:null},wrap:{type:String,default:"soft"},noResize:{type:Boolean,default:!1}},computed:{rowsCount:function(){var t=parseInt(this.rows,10)||1,e=parseInt(this.maxRows,10)||0,n=(this.localValue||"").toString().split("\n").length;return e?Math.min(e,Math.max(t,n)):Math.max(t,n)},inputClass:function(){return[this.plaintext?"form-control-plaintext":"form-control",this.sizeFormClass,this.stateClass]},inputStyle:function(){return{width:this.plaintext?"100%":null,resize:this.noResize?"none":null}},computedAriaInvalid:function(){return this.ariaInvalid&&"false"!==this.ariaInvalid?!0===this.ariaInvalid?"true":this.ariaInvalid:!1===this.computedState?"true":null}},watch:{value:function(t,e){t!==e&&(this.localValue=t)},localValue:function(t,e){t!==e&&this.$emit("input",t)}},methods:{focus:function(){this.disabled||this.$el.focus()}}},_r={bFormTextarea:wr,bTextarea:wr},Sr={install:function(t){f(t,_r)}};v(Sr);var Er=Sr,Tr={mixins:[_e,Qn,Un,Yn],render:function(t){var input=t("input",{ref:"input",class:[{"form-control-file":this.plain,"custom-file-input":this.custom,focus:this.custom&&this.hasFocus},this.stateClass],attrs:{type:"file",id:this.safeId(),name:this.name,disabled:this.disabled,required:this.required,capture:this.capture||null,accept:this.accept||null,multiple:this.multiple,webkitdirectory:this.directory,"aria-required":this.required?"true":null,"aria-describedby":this.plain?null:this.safeId("_BV_file_control_")},on:{change:this.onFileChange,focusin:this.focusHandler,focusout:this.focusHandler}});if(this.plain)return input;var label=t("label",{class:["custom-file-label",this.dragging?"dragging":null],attrs:{id:this.safeId("_BV_file_control_")}},this.selectLabel);return t("div",{class:["custom-file","b-form-file",this.stateClass],attrs:{id:this.safeId("_BV_file_outer_")},on:{dragover:this.dragover}},[input,label])},data:function(){return{selectedFile:null,dragging:!1,hasFocus:!1}},props:{accept:{type:String,default:""},capture:{type:Boolean,default:!1},placeholder:{type:String,default:void 0},multiple:{type:Boolean,default:!1},directory:{type:Boolean,default:!1},noTraverse:{type:Boolean,default:!1},noDrop:{type:Boolean,default:!1}},computed:{selectLabel:function(){return this.selectedFile&&0!==this.selectedFile.length?this.multiple?1===this.selectedFile.length?this.selectedFile[0].name:this.selectedFile.map(function(t){return t.name}).join(", "):this.selectedFile.name:this.placeholder}},watch:{selectedFile:function(t,e){t!==e&&(!t&&this.multiple?this.$emit("input",[]):this.$emit("input",t))}},methods:{focusHandler:function(t){this.plain||"focusout"===t.type?this.hasFocus=!1:this.hasFocus=!0},reset:function(){try{this.$refs.input.value=""}catch(t){}this.$refs.input.type="",this.$refs.input.type="file",this.selectedFile=this.multiple?[]:null},onFileChange:function(t){var e=this;this.$emit("change",t);var n=t.dataTransfer&&t.dataTransfer.items;if(!n||this.noTraverse)this.setFiles(t.target.files||t.dataTransfer.files);else{for(var r=[],i=0;i<n.length;i++){var o=n[i].webkitGetAsEntry();o&&r.push(this.traverseFileTree(o))}Promise.all(r).then(function(t){e.setFiles(O(t))})}},setFiles:function(t){if(t)if(this.multiple){for(var e=[],i=0;i<t.length;i++)t[i].type.match(this.accept)&&e.push(t[i]);this.selectedFile=e}else this.selectedFile=t[0];else this.selectedFile=null},dragover:function(t){t.preventDefault(),t.stopPropagation(),!this.noDrop&&this.custom&&(this.dragging=!0,t.dataTransfer.dropEffect="copy")},dragleave:function(t){t.preventDefault(),t.stopPropagation(),this.dragging=!1},drop:function(t){t.preventDefault(),t.stopPropagation(),this.noDrop||(this.dragging=!1,t.dataTransfer.files&&t.dataTransfer.files.length>0&&this.onFileChange(t))},traverseFileTree:function(t,path){var e=this;return new Promise(function(n){path=path||"",t.isFile?t.file(function(t){t.$path=path,n(t)}):t.isDirectory&&t.createReader().readEntries(function(r){for(var o=[],i=0;i<r.length;i++)o.push(e.traverseFileTree(r[i],path+t.name+"/"));Promise.all(o).then(function(t){n(O(t))})})})}}},Cr={bFormFile:Tr,bFile:Tr},kr={install:function(t){f(t,Cr)}};v(kr);var xr=kr,Ir={mixins:[_e,Qn,Gn,Un,Yn,rr],render:function(t){var e=this,n=this.$slots,r=this.formOptions.map(function(option,e){return t("option",{key:"option_"+e+"_opt",attrs:{disabled:Boolean(option.disabled)},domProps:{innerHTML:option.text,value:option.value}})});return t("select",{ref:"input",class:this.inputClass,directives:[{name:"model",rawName:"v-model",value:this.localValue,expression:"localValue"}],attrs:{id:this.safeId(),name:this.name,multiple:this.multiple||null,size:this.computedSelectSize,disabled:this.disabled,required:this.required,"aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid},on:{change:function(t){var n=t.target,r=O(n.options).filter(function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});e.localValue=n.multiple?r:r[0],e.$emit("change",e.localValue)}}},[n.first,r,n.default])},data:function(){return{localValue:this.value}},watch:{value:function(t,e){this.localValue=t},localValue:function(t,e){this.$emit("input",this.localValue)}},props:{value:{},multiple:{type:Boolean,default:!1},selectSize:{type:Number,default:0},ariaInvalid:{type:[Boolean,String],default:!1}},computed:{computedSelectSize:function(){return this.plain||0!==this.selectSize?this.selectSize:null},inputClass:function(){return["form-control",this.stateClass,this.sizeFormClass,this.plain?null:"custom-select",this.plain||!this.size?null:"custom-select-"+this.size]},computedAriaInvalid:function(){return!0===this.ariaInvalid||"true"===this.ariaInvalid?"true":"is-invalid"===this.stateClass?"true":null}}},Nr={bFormSelect:Ir,bSelect:Ir},Dr={install:function(t){f(t,Nr)}};v(Dr);var Ar=Dr,Or={bImg:xe,bImgLazy:{components:{bImg:xe},render:function(t){return t("b-img",{props:{src:this.computedSrc,alt:this.alt,blank:this.computedBlank,blankColor:this.blankColor,width:this.computedWidth,height:this.computedHeight,fluid:this.fluid,fluidGrow:this.fluidGrow,block:this.block,thumbnail:this.thumbnail,rounded:this.rounded,left:this.left,right:this.right,center:this.center}})},data:function(){return{isShown:!1,scrollTimeout:null}},props:{src:{type:String,default:null,required:!0},alt:{type:String,default:null},width:{type:[Number,String],default:null},height:{type:[Number,String],default:null},blankSrc:{type:String,default:null},blankColor:{type:String,default:"transparent"},blankWidth:{type:[Number,String],default:null},blankHeight:{type:[Number,String],default:null},fluid:{type:Boolean,default:!1},fluidGrow:{type:Boolean,default:!1},block:{type:Boolean,default:!1},thumbnail:{type:Boolean,default:!1},rounded:{type:[Boolean,String],default:!1},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1},center:{type:Boolean,default:!1},offset:{type:[Number,String],default:360},throttle:{type:[Number,String],default:100}},computed:{computedSrc:function(){return!this.blankSrc||this.isShown?this.src:this.blankSrc},computedBlank:function(){return!(this.isShown||this.blankSrc)},computedWidth:function(){return this.isShown?this.width:this.blankWidth||this.width},computedHeight:function(){return this.isShown?this.height:this.blankHeight||this.height}},mounted:function(){this.setListeners(!0),this.checkView()},activated:function(){this.setListeners(!0),this.checkView()},deactivated:function(){this.setListeners(!1)},beforeDdestroy:function(){this.setListeners(!1)},methods:{setListeners:function(t){clearTimeout(this.scrollTimer),this.scrollTimeout=null;var e=window;t?(_t(e,"scroll",this.onScroll),_t(e,"resize",this.onScroll),_t(e,"orientationchange",this.onScroll)):(St(e,"scroll",this.onScroll),St(e,"resize",this.onScroll),St(e,"orientationchange",this.onScroll))},checkView:function(){if(et(this.$el)){var t=parseInt(this.offset,10)||0,e=document.documentElement,n=0-t,r=0-t,o=e.clientHeight+t,l=e.clientWidth+t,c=bt(this.$el);c.right>=n&&c.bottom>=r&&c.left<=l&&c.top<=o&&(this.isShown=!0,this.setListeners(!1))}},onScroll:function(){this.isShown?this.setListeners(!1):(clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(this.checkView,parseInt(this.throttle,10)||100))}}}},Pr={install:function(t){f(t,Or)}};v(Pr);var Rr=Pr;function Lr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mr={bJumbotron:{functional:!0,props:{fluid:{type:Boolean,default:!1},containerFluid:{type:Boolean,default:!1},header:{type:String,default:null},headerTag:{type:String,default:"h1"},headerLevel:{type:[Number,String],default:"3"},lead:{type:String,default:null},leadTag:{type:String,default:"p"},tag:{type:String,default:"div"},bgVariant:{type:String,default:null},borderVariant:{type:String,default:null},textVariant:{type:String,default:null}},render:function(t,e){var n,r=e.props,data=e.data,o=[],l=(0,e.slots)();return(r.header||l.header)&&o.push(t(r.headerTag,{class:Lr({},"display-"+r.headerLevel,Boolean(r.headerLevel))},l.header||r.header)),(r.lead||l.lead)&&o.push(t(r.leadTag,{staticClass:"lead"},l.lead||r.lead)),l.default&&o.push(l.default),r.fluid&&(o=[t(Oe,{props:{fluid:r.containerFluid}},o)]),t(r.tag,c(data,{staticClass:"jumbotron",class:(n={"jumbotron-fluid":r.fluid},Lr(n,"text-"+r.textVariant,Boolean(r.textVariant)),Lr(n,"bg-"+r.bgVariant,Boolean(r.bgVariant)),Lr(n,"border-"+r.borderVariant,Boolean(r.borderVariant)),Lr(n,"border",Boolean(r.borderVariant)),n)}),o)}}},Fr={install:function(t){f(t,Mr)}};v(Fr);var Br=Fr,Vr={bLink:U},qr={install:function(t){f(t,Vr)}};v(qr);var jr=qr,Ur={functional:!0,props:{tag:{type:String,default:"div"},flush:{type:Boolean,default:!1}},render:function(t,e){var n=e.props,data=e.data,r=e.children,o={staticClass:"list-group",class:{"list-group-flush":n.flush}};return t(n.tag,c(data,o),r)}};function Wr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $r=["a","router-link","button","b-link"],zr=V();delete zr.href.default,delete zr.to.default;var Hr={bListGroup:Ur,bListGroupItem:{functional:!0,props:x({tag:{type:String,default:"div"},action:{type:Boolean,default:null},button:{type:Boolean,default:null},variant:{type:String,default:null}},zr),render:function(t,e){var n,r=e.props,data=e.data,o=e.children,l=r.button?"button":r.href||r.to?U:r.tag,h=Boolean(r.href||r.to||r.action||r.button||R($r,r.tag));return t(l,c(data,{staticClass:"list-group-item",class:(n={},Wr(n,"list-group-item-"+r.variant,Boolean(r.variant)),Wr(n,"list-group-item-action",h),Wr(n,"active",r.active),Wr(n,"disabled",r.disabled),n),attrs:"button"===l&&r.disabled?{disabled:!0}:{},props:r.button?{}:F(zr,r)}),o)}}},Kr={install:function(t){f(t,Hr)}};v(Kr);var Qr=Kr,Gr={functional:!0,props:{tag:{type:String,default:"div"}},render:function(t,e){var n=e.props,data=e.data,r=e.children;return t(n.tag,c(data,{staticClass:"media-body"}),r)}};var Yr={functional:!0,props:{tag:{type:String,default:"div"},verticalAlign:{type:String,default:"top"}},render:function(t,e){var n,r,o,l=e.props,data=e.data,h=e.children;return t(l.tag,c(data,{staticClass:"d-flex",class:(n={},r="align-self-"+l.verticalAlign,o=l.verticalAlign,r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n)}),h)}},Xr={bMedia:{functional:!0,props:{tag:{type:String,default:"div"},rightAlign:{type:Boolean,default:!1},verticalAlign:{type:String,default:"top"},noBody:{type:Boolean,default:!1}},render:function(t,e){var n=e.props,data=e.data,r=e.slots,o=e.children,l=n.noBody?o:[],h=r();return n.noBody||(h.aside&&!n.rightAlign&&l.push(t(Yr,{staticClass:"mr-3",props:{verticalAlign:n.verticalAlign}},h.aside)),l.push(t(Gr,h.default)),h.aside&&n.rightAlign&&l.push(t(Yr,{staticClass:"ml-3",props:{verticalAlign:n.verticalAlign}},h.aside))),t(n.tag,c(data,{staticClass:"media"}),l)}},bMediaAside:Yr,bMediaBody:Gr},Jr={install:function(t){f(t,Xr)}};v(Jr);var Zr=Jr;function ti(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ei=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ni=".sticky-top",ri=".navbar-toggler",ii={subtree:!0,childList:!0,characterData:!0,attributes:!0,attributeFilter:["style","class"]},oi={mixins:[_e,Ze],components:{bBtn:It,bBtnClose:h},render:function(t){var e=this,n=this.$slots,header=t(!1);if(!this.hideHeader){var r=n["modal-header"];if(!r){var o=t(!1);this.hideHeaderClose||(o=t("b-btn-close",{props:{disabled:this.is_transitioning,ariaLabel:this.headerCloseLabel,textVariant:this.headerTextVariant},on:{click:function(t){e.hide("header-close")}}},[n["modal-header-close"]])),r=[t(this.titleTag,{class:["modal-title"]},[n["modal-title"]||this.title]),o]}header=t("header",{ref:"header",class:this.headerClasses,attrs:{id:this.safeId("__BV_modal_header_")}},[r])}var body=t("div",{ref:"body",class:this.bodyClasses,attrs:{id:this.safeId("__BV_modal_body_")}},[n.default]),footer=t(!1);if(!this.hideFooter){var l=n["modal-footer"];if(!l){var c=t(!1);this.okOnly||(c=t("b-btn",{props:{variant:this.cancelVariant,size:this.buttonSize,disabled:this.cancelDisabled||this.busy||this.is_transitioning},on:{click:function(t){e.hide("cancel")}}},[n["modal-cancel"]||this.cancelTitle])),l=[c,t("b-btn",{props:{variant:this.okVariant,size:this.buttonSize,disabled:this.okDisabled||this.busy||this.is_transitioning},on:{click:function(t){e.hide("ok")}}},[n["modal-ok"]||this.okTitle])]}footer=t("footer",{ref:"footer",class:this.footerClasses,attrs:{id:this.safeId("__BV_modal_footer_")}},[l])}var h=t("div",{ref:"content",class:["modal-content"],attrs:{tabindex:"-1",role:"document","aria-labelledby":this.hideHeader?null:this.safeId("__BV_modal_header_"),"aria-describedby":this.safeId("__BV_modal_body_")},on:{focusout:this.onFocusout,click:function(t){t.stopPropagation(),e.$root.$emit("bv::dropdown::shown")}}},[header,body,footer]),d=t("div",{class:this.dialogClasses},[h]),f=t("div",{ref:"modal",class:this.modalClasses,directives:[{name:"show",rawName:"v-show",value:this.is_visible,expression:"is_visible"}],attrs:{id:this.safeId(),role:"dialog","aria-hidden":this.is_visible?null:"true"},on:{click:this.onClickOut,keydown:this.onEsc}},[d]);f=t("transition",{props:{enterClass:"",enterToClass:"",enterActiveClass:"",leaveClass:"",leaveActiveClass:"",leaveToClass:""},on:{"before-enter":this.onBeforeEnter,enter:this.onEnter,"after-enter":this.onAfterEnter,"before-leave":this.onBeforeLeave,leave:this.onLeave,"after-leave":this.onAfterLeave}},[f]);var m=t(!1);this.hideBackdrop||!this.is_visible&&!this.is_transitioning||(m=t("div",{class:this.backdropClasses,attrs:{id:this.safeId("__BV_modal_backdrop_")}}));var y=t(!1);return this.is_hidden||(y=t("div",{attrs:{id:this.safeId("__BV_modal_outer_")}},[f,m])),t("div",{},[y])},data:function(){return{is_hidden:this.lazy||!1,is_visible:!1,is_transitioning:!1,is_show:!1,is_block:!1,scrollbarWidth:0,isBodyOverflowing:!1,return_focus:this.returnFocus||null}},model:{prop:"visible",event:"change"},props:{title:{type:String,default:""},titleTag:{type:String,default:"h5"},size:{type:String,default:"md"},centered:{type:Boolean,default:!1},buttonSize:{type:String,default:""},noFade:{type:Boolean,default:!1},noCloseOnBackdrop:{type:Boolean,default:!1},noCloseOnEsc:{type:Boolean,default:!1},noEnforceFocus:{type:Boolean,default:!1},headerBgVariant:{type:String,default:null},headerBorderVariant:{type:String,default:null},headerTextVariant:{type:String,default:null},headerClass:{type:[String,Array],default:null},bodyBgVariant:{type:String,default:null},bodyTextVariant:{type:String,default:null},modalClass:{type:[String,Array],default:null},bodyClass:{type:[String,Array],default:null},footerBgVariant:{type:String,default:null},footerBorderVariant:{type:String,default:null},footerTextVariant:{type:String,default:null},footerClass:{type:[String,Array],default:null},hideHeader:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},hideHeaderClose:{type:Boolean,default:!1},hideBackdrop:{type:Boolean,default:!1},okOnly:{type:Boolean,default:!1},okDisabled:{type:Boolean,default:!1},cancelDisabled:{type:Boolean,default:!1},visible:{type:Boolean,default:!1},returnFocus:{default:null},headerCloseLabel:{type:String,default:"Close"},cancelTitle:{type:String,default:"Cancel"},okTitle:{type:String,default:"OK"},cancelVariant:{type:String,default:"secondary"},okVariant:{type:String,default:"primary"},lazy:{type:Boolean,default:!1},busy:{type:Boolean,default:!1}},computed:{modalClasses:function(){return["modal",{fade:!this.noFade,show:this.is_show,"d-block":this.is_block},this.modalClass]},dialogClasses:function(){var t;return["modal-dialog",(t={},ti(t,"modal-"+this.size,Boolean(this.size)),ti(t,"modal-dialog-centered",this.centered),t)]},backdropClasses:function(){return["modal-backdrop",{fade:!this.noFade,show:this.is_show||this.noFade}]},headerClasses:function(){var t;return["modal-header",(t={},ti(t,"bg-"+this.headerBgVariant,Boolean(this.headerBgVariant)),ti(t,"text-"+this.headerTextVariant,Boolean(this.headerTextVariant)),ti(t,"border-"+this.headerBorderVariant,Boolean(this.headerBorderVariant)),t),this.headerClass]},bodyClasses:function(){var t;return["modal-body",(t={},ti(t,"bg-"+this.bodyBgVariant,Boolean(this.bodyBgVariant)),ti(t,"text-"+this.bodyTextVariant,Boolean(this.bodyTextVariant)),t),this.bodyClass]},footerClasses:function(){var t;return["modal-footer",(t={},ti(t,"bg-"+this.footerBgVariant,Boolean(this.footerBgVariant)),ti(t,"text-"+this.footerTextVariant,Boolean(this.footerTextVariant)),ti(t,"border-"+this.footerBorderVariant,Boolean(this.footerBorderVariant)),t),this.footerClass]}},watch:{visible:function(t,e){t!==e&&this[t?"show":"hide"]()}},methods:{show:function(){if(!this.is_visible){var t=new yn("show",{cancelable:!0,vueTarget:this,target:this.$refs.modal,relatedTarget:null});this.emitEvent(t),t.defaultPrevented||this.is_visible||(ht(document.body,"modal-open")?this.$root.$once("bv::modal::hidden",this.doShow):this.doShow())}},hide:function(t){if(this.is_visible){var e=new yn("hide",{cancelable:!0,vueTarget:this,target:this.$refs.modal,relatedTarget:null,isOK:t||null,trigger:t||null,cancel:function(){Ie("b-modal: evt.cancel() is deprecated. Please use evt.preventDefault()."),this.preventDefault()}});"ok"===t?this.$emit("ok",e):"cancel"===t&&this.$emit("cancel",e),this.emitEvent(e),!e.defaultPrevented&&this.is_visible&&(this._observer&&(this._observer.disconnect(),this._observer=null),this.is_visible=!1,this.$emit("change",!1))}},doShow:function(){var t=this;this.is_hidden=!1,this.$nextTick(function(){t.is_visible=!0,t.$emit("change",!0),t._observer=we(t.$refs.content,t.adjustDialog.bind(t),ii)})},onBeforeEnter:function(){this.is_transitioning=!0,this.checkScrollbar(),this.setScrollbar(),this.adjustDialog(),lt(document.body,"modal-open"),this.setResizeEvent(!0)},onEnter:function(){this.is_block=!0,this.$refs.modal.scrollTop=0},onAfterEnter:function(){var t=this;this.is_show=!0,this.is_transitioning=!1,this.$nextTick(function(){t.focusFirst();var e=new yn("shown",{cancelable:!1,vueTarget:t,target:t.$refs.modal,relatedTarget:null});t.emitEvent(e)})},onBeforeLeave:function(){this.is_transitioning=!0,this.setResizeEvent(!1)},onLeave:function(){this.is_show=!1},onAfterLeave:function(){var t=this;this.is_block=!1,this.resetAdjustments(),this.resetScrollbar(),this.is_transitioning=!1,ct(document.body,"modal-open"),this.$nextTick(function(){t.is_hidden=t.lazy||!1,t.returnFocusTo();var e=new yn("hidden",{cancelable:!1,vueTarget:t,target:t.lazy?null:t.$refs.modal,relatedTarget:null});t.emitEvent(e)})},emitEvent:function(t){var e=t.type;this.$emit(e,t),this.$root.$emit("bv::modal::"+e,t)},onClickOut:function(t){this.is_visible&&!this.noCloseOnBackdrop&&this.hide("backdrop")},onEsc:function(t){t.keyCode===Mt.ESC&&this.is_visible&&!this.noCloseOnEsc&&this.hide("esc")},onFocusout:function(t){var content=this.$refs.content;!this.noEnforceFocus&&this.is_visible&&content&&!content.contains(t.relatedTarget)&&content.focus()},setResizeEvent:function(t){var e=this;["resize","orientationchange"].forEach(function(n){t?_t(window,n,e.adjustDialog):St(window,n,e.adjustDialog)})},showHandler:function(t,e){t===this.id&&(this.return_focus=e||null,this.show())},hideHandler:function(t){t===this.id&&this.hide()},modalListener:function(t){t.vueTarget!==this&&this.hide()},focusFirst:function(){if("undefined"!=typeof document){var content=this.$refs.content,t=this.$refs.modal,e=document.activeElement;e&&content&&content.contains(e)||content&&(t&&(t.scrollTop=0),content.focus())}},returnFocusTo:function(){var t=this.returnFocus||this.return_focus||null;"string"==typeof t&&(t=at(t)),t&&(t=t.$el||t,et(t)&&t.focus())},getScrollbarWidth:function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t),this.scrollbarWidth=t.getBoundingClientRect().width-t.clientWidth,document.body.removeChild(t)},adjustDialog:function(){if(this.is_visible){var t=this.$refs.modal,e=t.scrollHeight>document.documentElement.clientHeight;!this.isBodyOverflowing&&e&&(t.style.paddingLeft=this.scrollbarWidth+"px"),this.isBodyOverflowing&&!e&&(t.style.paddingRight=this.scrollbarWidth+"px")}},resetAdjustments:function(){var t=this.$refs.modal;t&&(t.style.paddingLeft="",t.style.paddingRight="")},checkScrollbar:function(){var rect=bt(document.body);this.isBodyOverflowing=rect.left+rect.right<window.innerWidth},setScrollbar:function(){if(this.isBodyOverflowing){var t=window.getComputedStyle,body=document.body,e=this.scrollbarWidth;ot(ei).forEach(function(n){var r=n.style.paddingRight,o=t(n).paddingRight||0;ft(n,"data-padding-right",r),n.style.paddingRight=parseFloat(o)+e+"px"}),ot(ni).forEach(function(n){var r=n.style.marginRight,o=t(n).marginRight||0;ft(n,"data-margin-right",r),n.style.marginRight=parseFloat(o)-e+"px"}),ot(ri).forEach(function(n){var r=n.style.marginRight,o=t(n).marginRight||0;ft(n,"data-margin-right",r),n.style.marginRight=parseFloat(o)+e+"px"});var n=body.style.paddingRight,r=t(body).paddingRight;ft(body,"data-padding-right",n),body.style.paddingRight=parseFloat(r)+e+"px"}},resetScrollbar:function(){ot(ei).forEach(function(t){mt(t,"data-padding-right")&&(t.style.paddingRight=gt(t,"data-padding-right")||"",pt(t,"data-padding-right"))}),ot(ni+", "+ri).forEach(function(t){mt(t,"data-margin-right")&&(t.style.marginRight=gt(t,"data-margin-right")||"",pt(t,"data-margin-right"))});var body=document.body;mt(body,"data-padding-right")&&(body.style.paddingRight=gt(body,"data-padding-right")||"",pt(body,"data-padding-right"))}},created:function(){this._observer=null},mounted:function(){this.getScrollbarWidth(),this.listenOnRoot("bv::show::modal",this.showHandler),this.listenOnRoot("bv::hide::modal",this.hideHandler),this.listenOnRoot("bv::modal::show",this.modalListener),!0===this.visible&&this.show()},beforeDestroy:function(){this._observer&&(this._observer.disconnect(),this._observer=null),this.setResizeEvent(!1),ct(document.body,"modal-open"),this.resetAdjustments(),this.resetScrollbar()}},ai={click:!0},si={bModal:{bind:function(t,e,n){rn(n,e,ai,function(t){var e=t.targets,n=t.vnode;e.forEach(function(t){n.context.$root.$emit("bv::show::modal",t,n.elm)})}),"BUTTON"!==t.tagName&&ft(t,"role","button")},unbind:function(t,e,n){!function(t,e,n){I(en).forEach(function(r){if(n[r]||e.modifiers[r]){var o=t.elm[nn]&&t.elm[nn][r];o&&(o.forEach(function(e){return t.elm.removeEventListener(r,e)}),delete t.elm[nn][r])}})}(n,e,ai),"BUTTON"!==t.tagName&&pt(t,"role")}}},ui={install:function(t){y(t,si)}};v(ui);var ci=ui,hi={bModal:oi},di={install:function(t){f(t,hi),t.use(ci)}};v(di);var fi=di,nav={functional:!0,props:{tag:{type:String,default:"ul"},fill:{type:Boolean,default:!1},justified:{type:Boolean,default:!1},tabs:{type:Boolean,default:!1},pills:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},isNavBar:{type:Boolean,default:!1}},render:function(t,e){var n=e.props,data=e.data,r=e.children;return n.isNavBar&&Ie("b-nav: Prop 'is-nav-bar' is deprecated. Please use component '<b-navbar-nav>' instead."),t(n.tag,c(data,{class:{nav:!n.isNavBar,"navbar-nav":n.isNavBar,"nav-tabs":n.tabs&&!n.isNavBar,"nav-pills":n.pills&&!n.isNavBar,"flex-column":n.vertical&&!n.isNavBar,"nav-fill":n.fill,"nav-justified":n.justified}}),r)}},pi=V(),gi={tag:{type:String,default:"span"}},mi={functional:!0,props:{id:{type:String,default:null}},render:function(t,e){var n=e.props,data=e.data,r=e.children;return t(Ln,c(data,{attrs:{id:n.id},props:{inline:!0}}),r)}},bi={mixins:[_e,En],render:function(t){var button=t("a",{class:this.toggleClasses,ref:"toggle",attrs:{href:"#",id:this.safeId("_BV_button_"),disabled:this.disabled,"aria-haspopup":"true","aria-expanded":this.visible?"true":"false"},on:{click:this.toggle,keydown:this.toggle}},[this.$slots["button-content"]||this.$slots.text||t("span",{domProps:{innerHTML:this.text}})]),menu=t("div",{class:this.menuClasses,ref:"menu",attrs:{"aria-labelledby":this.safeId("_BV_button_")},on:{mouseover:this.onMouseOver,keydown:this.onKeydown}},[this.$slots.default]);return t("li",{attrs:{id:this.safeId()},class:this.dropdownClasses},[button,menu])},computed:{isNav:function(){return!0},dropdownClasses:function(){return["nav-item","b-nav-dropdown","dropdown",this.dropup?"dropup":"",this.visible?"show":""]},toggleClasses:function(){return["nav-link",this.noCaret?"":"dropdown-toggle",this.disabled?"disabled":"",this.extraToggleClasses?this.extraToggleClasses:""]},menuClasses:function(){return["dropdown-menu",this.right?"dropdown-menu-right":"dropdown-menu-left",this.visible?"show":"",this.extraMenuClasses?this.extraMenuClasses:""]}},props:{noCaret:{type:Boolean,default:!1},extraToggleClasses:{type:String,default:""},extraMenuClasses:{type:String,default:""},role:{type:String,default:"menu"}}},yi={bNav:nav,bNavItem:{functional:!0,props:pi,render:function(t,e){var n=e.props,data=e.data,r=e.children;return t("li",c(data,{staticClass:"nav-item"}),[t(U,{staticClass:"nav-link",props:n},r)])}},bNavText:{functional:!0,props:gi,render:function(t,e){var n=e.props,data=e.data,r=e.children;return t(n.tag,c(data,{staticClass:"navbar-text"}),r)}},bNavForm:mi,bNavItemDropdown:bi,bNavItemDd:bi,bNavDropdown:bi,bNavDd:bi},vi={install:function(t){f(t,yi),t.use(An)}};v(vi);var wi=vi;function _i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Si={functional:!0,props:{tag:{type:String,default:"nav"},type:{type:String,default:"light"},variant:{type:String},toggleable:{type:[Boolean,String],default:!1},toggleBreakpoint:{type:String,default:null},fixed:{type:String},sticky:{type:Boolean,default:!1}},render:function(t,e){var n,r=e.props,data=e.data,o=e.children,l=r.toggleBreakpoint||(!0===r.toggleable?"sm":r.toggleable)||"sm";return t(r.tag,c(data,{staticClass:"navbar",class:(n={},_i(n,"navbar-"+r.type,Boolean(r.type)),_i(n,"bg-"+r.variant,Boolean(r.variant)),_i(n,"fixed-"+r.fixed,Boolean(r.fixed)),_i(n,"sticky-top",r.sticky),_i(n,"navbar-expand-"+l,!1!==r.toggleable),n)}),o)}},Ei={functional:!0,props:{tag:{type:String,default:"ul"},fill:{type:Boolean,default:!1},justified:{type:Boolean,default:!1}},render:function(t,e){var n=e.props,data=e.data,r=e.children;return t(n.tag,c(data,{staticClass:"navbar-nav",class:{"nav-fill":n.fill,"nav-justified":n.justified}}),r)}},Ti=V();Ti.href.default=void 0,Ti.to.default=void 0;var Ci=x(Ti,{tag:{type:String,default:"div"}}),ki={mixins:[Ze],render:function(t){return t("button",{class:["navbar-toggler"],attrs:{type:"button","aria-label":this.label,"aria-controls":this.target,"aria-expanded":this.toggleState?"true":"false"},on:{click:this.onClick}},[this.$slots.default||t("span",{class:["navbar-toggler-icon"]})])},data:function(){return{toggleState:!1}},props:{label:{type:String,default:"Toggle navigation"},target:{type:String,required:!0}},methods:{onClick:function(){this.$root.$emit("bv::toggle::collapse",this.target)},handleStateEvt:function(t,e){t===this.target&&(this.toggleState=e)}},created:function(){this.listenOnRoot("bv::collapse::state",this.handleStateEvt)}},xi={bNavbar:Si,bNavbarNav:Ei,bNavbarBrand:{functional:!0,props:Ci,render:function(t,e){var n=e.props,data=e.data,r=e.children,o=Boolean(n.to||n.href);return t(o?U:n.tag,c(data,{staticClass:"navbar-brand",props:o?F(Ti,n):{}}),r)}},bNavbarToggle:ki,bNavToggle:ki},Ii={install:function(t){f(t,xi),t.use(wi),t.use(pn),t.use(An)}};v(Ii);var Ni=Ii,Di=function(t){return Array.apply(null,{length:t})};var Ai={disabled:{type:Boolean,default:!1},value:{type:Number,default:1},limit:{type:Number,default:5},size:{type:String,default:"md"},align:{type:String,default:"left"},hideGotoEndButtons:{type:Boolean,default:!1},ariaLabel:{type:String,default:"Pagination"},labelFirstPage:{type:String,default:"Goto first page"},firstText:{type:String,default:"&laquo;"},labelPrevPage:{type:String,default:"Goto previous page"},prevText:{type:String,default:"&lsaquo;"},labelNextPage:{type:String,default:"Goto next page"},nextText:{type:String,default:"&rsaquo;"},labelLastPage:{type:String,default:"Goto last page"},lastText:{type:String,default:"&raquo;"},labelPage:{type:String,default:"Goto page"},hideEllipsis:{type:Boolean,default:!1},ellipsisText:{type:String,default:"&hellip;"}},Oi={components:{bLink:U},data:function(){return{showFirstDots:!1,showLastDots:!1,currentPage:this.value}},props:Ai,render:function(t){var e=this,n=[],r=function(n,r,o,l){return l=l||n,e.disabled||e.isActive(l)?t("li",{class:["page-item","disabled"],attrs:{role:"none presentation","aria-hidden":"true"}},[t("span",{class:["page-link"],domProps:{innerHTML:o}})]):t("li",{class:["page-item"],attrs:{role:"none presentation"}},[t("b-link",{class:["page-link"],props:e.linkProps(n),attrs:{role:"menuitem",tabindex:"-1","aria-label":r,"aria-controls":e.ariaControls||null},on:{click:function(t){e.onClick(n,t)},keydown:function(t){t.keyCode===Mt.SPACE&&(t.preventDefault(),e.onClick(n,t))}}},[t("span",{attrs:{"aria-hidden":"true"},domProps:{innerHTML:o}})])])},o=function(){return t("li",{class:["page-item","disabled","d-none","d-sm-flex"],attrs:{role:"separator"}},[t("span",{class:["page-link"],domProps:{innerHTML:e.ellipsisText}})])};n.push(this.hideGotoEndButtons?t(!1):r(1,this.labelFirstPage,this.firstText)),n.push(r(this.currentPage-1,this.labelPrevPage,this.prevText,1)),n.push(this.showFirstDots?o():t(!1)),this.pageList.forEach(function(r){var o=void 0,l=e.makePage(r.number);if(e.disabled)o=t("span",{class:["page-link"],domProps:{innerHTML:l}});else{var c=e.isActive(r.number);o=t("b-link",{class:e.pageLinkClasses(r),props:e.linkProps(r.number),attrs:{role:"menuitemradio",tabindex:c?"0":"-1","aria-controls":e.ariaControls||null,"aria-label":e.labelPage+" "+r.number,"aria-checked":c?"true":"false","aria-posinset":r.number,"aria-setsize":e.numberOfPages},domProps:{innerHTML:l},on:{click:function(t){e.onClick(r.number,t)},keydown:function(t){t.keyCode===Mt.SPACE&&(t.preventDefault(),e.onClick(r.number,t))}}})}n.push(t("li",{key:r.number,class:e.pageItemClasses(r),attrs:{role:"none presentation"}},[o]))}),n.push(this.showLastDots?o():t(!1)),n.push(r(this.currentPage+1,this.labelNextPage,this.nextText,this.numberOfPages)),n.push(this.hideGotoEndButtons?t(!1):r(this.numberOfPages,this.labelLastPage,this.lastText));var l=t("ul",{ref:"ul",class:["pagination","b-pagination",this.btnSize,this.alignment],attrs:{role:"menubar","aria-disabled":this.disabled?"true":"false","aria-label":this.ariaLabel||null},on:{keydown:function(t){var n=t.keyCode,r=t.shiftKey;n===Mt.LEFT?(t.preventDefault(),r?e.focusFirst():e.focusPrev()):n===Mt.RIGHT&&(t.preventDefault(),r?e.focusLast():e.focusNext())}}},n);return this.isNav?t("nav",{},[l]):l},watch:{currentPage:function(t,e){t!==e&&this.$emit("input",t)},value:function(t,e){t!==e&&(this.currentPage=t)}},computed:{btnSize:function(){return this.size?"pagination-"+this.size:""},alignment:function(){return"center"===this.align?"justify-content-center":"end"===this.align||"right"===this.align?"justify-content-end":""},pageList:function(){this.currentPage>this.numberOfPages?this.currentPage=this.numberOfPages:this.currentPage<1&&(this.currentPage=1),this.showFirstDots=!1,this.showLastDots=!1;var t=this.limit,e=1;this.numberOfPages<=this.limit?t=this.numberOfPages:this.currentPage<this.limit-1&&this.limit>3?this.hideEllipsis||(t=this.limit-1,this.showLastDots=!0):this.numberOfPages-this.currentPage+2<this.limit&&this.limit>3?(this.hideEllipsis||(this.showFirstDots=!0,t=this.limit-1),e=this.numberOfPages-t+1):(this.limit>3&&!this.hideEllipsis&&(this.showFirstDots=!0,this.showLastDots=!0,t=this.limit-2),e=this.currentPage-Math.floor(t/2)),e<1?e=1:e>this.numberOfPages-t&&(e=this.numberOfPages-t+1);var n=function(t,e){return Di(e).map(function(e,n){return{number:n+t,className:null}})}(e,t);if(n.length>3){var r=this.currentPage-e;if(0===r)for(var i=3;i<n.length;i++)n[i].className="d-none d-sm-flex";else if(r===n.length-1)for(var o=0;o<n.length-3;o++)n[o].className="d-none d-sm-flex";else{for(var l=0;l<r-1;l++)n[l].className="d-none d-sm-flex";for(var c=n.length-1;c>r+1;c--)n[c].className="d-none d-sm-flex"}}return n}},methods:{isActive:function(t){return t===this.currentPage},pageItemClasses:function(t){return["page-item",this.disabled?"disabled":"",this.isActive(t.number)?"active":"",t.className]},pageLinkClasses:function(t){return["page-link",this.disabled?"disabled":"",this.isActive(t.number)?"btn-primary":""]},getButtons:function(){return ot("a.page-link",this.$el).filter(function(t){return et(t)})},setBtnFocus:function(t){this.$nextTick(function(){t.focus()})},focusCurrent:function(){var t=this,e=this.getButtons().find(function(e){return parseInt(gt(e,"aria-posinset"),10)===t.currentPage});e&&e.focus?this.setBtnFocus(e):this.focusFirst()},focusFirst:function(){var t=this.getButtons().find(function(t){return!nt(t)});t&&t.focus&&t!==document.activeElement&&this.setBtnFocus(t)},focusLast:function(){var t=this.getButtons().reverse().find(function(t){return!nt(t)});t&&t.focus&&t!==document.activeElement&&this.setBtnFocus(t)},focusPrev:function(){var t=this.getButtons(),e=t.indexOf(document.activeElement);e>0&&!nt(t[e-1])&&t[e-1].focus&&this.setBtnFocus(t[e-1])},focusNext:function(){var t=this.getButtons(),e=t.indexOf(document.activeElement);e<t.length-1&&!nt(t[e+1])&&t[e+1].focus&&this.setBtnFocus(t[e+1])}}},Pi={bPagination:{mixins:[Oi],props:{perPage:{type:Number,default:20},totalRows:{type:Number,default:20},ariaControls:{type:String,default:null}},computed:{numberOfPages:function(){var t=Math.ceil(this.totalRows/this.perPage);return t<1?1:t}},methods:{onClick:function(t,e){var n=this;t>this.numberOfPages?t=this.numberOfPages:t<1&&(t=1),this.currentPage=t,this.$nextTick(function(){var t=e.target;et(t)&&n.$el.contains(t)&&t.focus?t.focus():n.focusCurrent()}),this.$emit("change",this.currentPage)},makePage:function(t){return t},linkProps:function(t){return{href:"#"}}}}},Ri={install:function(t){f(t,Pi)}};v(Ri);var Li,Mi,Fi=Ri,Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi=(Li="activeClass",Mi=V(),Li=L(Li),I(Mi).reduce(function(t,e){return R(Li,e)&&(t[e]=Mi[e]),t},{})),qi={bPaginationNav:{mixins:[Oi],props:x({numberOfPages:{type:Number,default:1},baseUrl:{type:String,default:"/"},useRouter:{type:Boolean,default:!1},linkGen:{type:Function,default:null},pageGen:{type:Function,default:null}},Vi),computed:{isNav:function(){return!0}},methods:{onClick:function(t,e){this.currentPage=t},makePage:function(t){return this.pageGen&&"function"==typeof this.pageGen?this.pageGen(t):t},makeLink:function(t){if(this.linkGen&&"function"==typeof this.linkGen)return this.linkGen(t);var link=""+this.baseUrl+t;return this.useRouter?{path:link}:link},linkProps:function(t){var link=this.makeLink(t),e={href:"string"==typeof link?link:void 0,target:this.target||null,rel:this.rel||null,disabled:this.disabled};return(this.useRouter||"object"===(void 0===link?"undefined":Bi(link)))&&(e=x(e,{to:link,exact:this.exact,activeClass:this.activeClass,exactActiveClass:this.exactActiveClass,append:this.append,replace:this.replace})),e}}}},ji={install:function(t){f(t,qi)}};v(ji);var Ui=ji,Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var zi=new RegExp("\\bbs-tooltip\\S+","g"),Hi={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOPLEFT:"top",TOPRIGHT:"top",RIGHTTOP:"right",RIGHTBOTTOM:"right",BOTTOMLEFT:"bottom",BOTTOMRIGHT:"bottom",LEFTTOP:"left",LEFTBOTTOM:"left"},Ki={AUTO:0,TOPLEFT:-1,TOP:0,TOPRIGHT:1,RIGHTTOP:-1,RIGHT:0,RIGHTBOTTOM:1,BOTTOMLEFT:-1,BOTTOM:0,BOTTOMRIGHT:1,LEFTTOP:-1,LEFT:0,LEFTBOTTOM:1},Qi="show",Gi="out",Yi="fade",Xi="show",Ji=".tooltip-inner",Zi=".arrow",to={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,placement:"top",offset:0,arrowPadding:6,container:!1,fallbackPlacement:"flip",callbacks:{},boundary:"scrollParent"},eo={WebkitTransition:["webkitTransitionEnd"],MozTransition:["transitionend"],OTransition:["otransitionend","oTransitionEnd"],transition:["transitionend"]},no=1;var ro=function(){function t(element,e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$isEnabled=!0,this.$fadeTimeout=null,this.$hoverTimeout=null,this.$visibleInterval=null,this.$hoverState="",this.$activeTrigger={},this.$popper=null,this.$element=element,this.$tip=null,this.$id="__BV_"+this.constructor.NAME+"_"+no+++"__",this.$root=n||null,this.$routeWatcher=null,this.$forceHide=this.forceHide.bind(this),this.$doHide=this.doHide.bind(this),this.$doShow=this.doShow.bind(this),this.$doDisable=this.doDisable.bind(this),this.$doEnable=this.doEnable.bind(this),this.updateConfig(e)}return $i(t,[{key:"updateConfig",value:function(t){var e=x({},this.constructor.Default,t);t.delay&&"number"==typeof t.delay&&(e.delay={show:t.delay,hide:t.delay}),t.title&&"number"==typeof t.title&&(e.title=t.title.toString()),t.content&&"number"==typeof t.content&&(e.content=t.content.toString()),this.fixTitle(),this.$config=e,this.unListen(),this.listen()}},{key:"destroy",value:function(){this.unListen(),this.setWhileOpenListeners(!1),clearTimeout(this.$hoverTimeout),this.$hoverTimeout=null,clearTimeout(this.$fadeTimeout),this.$fadeTimeout=null,this.$popper&&this.$popper.destroy(),this.$popper=null,this.$tip&&this.$tip.parentElement&&this.$tip.parentElement.removeChild(this.$tip),this.$tip=null,this.$id=null,this.$isEnabled=null,this.$root=null,this.$element=null,this.$config=null,this.$hoverState=null,this.$activeTrigger=null,this.$forceHide=null,this.$doHide=null,this.$doShow=null,this.$doDisable=null,this.$doEnable=null}},{key:"enable",value:function(){var t=new yn("enabled",{cancelable:!1,target:this.$element,relatedTarget:null});this.$isEnabled=!0,this.emitEvent(t)}},{key:"disable",value:function(){var t=new yn("disabled",{cancelable:!1,target:this.$element,relatedTarget:null});this.$isEnabled=!1,this.emitEvent(t)}},{key:"toggle",value:function(t){this.$isEnabled&&(t?(this.$activeTrigger.click=!this.$activeTrigger.click,this.isWithActiveTrigger()?this.enter(null):this.leave(null)):ht(this.getTipElement(),Xi)?this.leave(null):this.enter(null))}},{key:"show",value:function(){var t=this;if(document.body.contains(this.$element)&&et(this.$element)){var e=this.getTipElement();if(this.fixTitle(),this.setContent(e),this.isWithContent(e)){ft(e,"id",this.$id),this.addAriaDescribedby(),this.$config.animation?lt(e,Yi):ct(e,Yi);var n=this.getPlacement(),r=this.constructor.getAttachment(n);this.addAttachmentClass(r);var o=new yn("show",{cancelable:!0,target:this.$element,relatedTarget:e});if(this.emitEvent(o),o.defaultPrevented)this.$tip=null;else{var l=this.getContainer();document.body.contains(e)||l.appendChild(e),this.removePopper(),this.$popper=new gn.a(this.$element,e,this.getPopperConfig(n,e));this.setWhileOpenListeners(!0),lt(e,Xi),this.transitionOnce(e,function(){t.$config.animation&&t.fixTransition(e);var n=t.$hoverState;t.$hoverState=null,n===Gi&&t.leave(null);var r=new yn("shown",{cancelable:!1,target:t.$element,relatedTarget:e});t.emitEvent(r)})}}else this.$tip=null}}},{key:"visibleCheck",value:function(t){var e=this;clearInterval(this.$visibleInterval),this.$visibleInterval=null,t&&(this.$visibleInterval=setInterval(function(){var t=e.getTipElement();t&&!et(e.$element)&&ht(t,Xi)&&e.forceHide()},100))}},{key:"setWhileOpenListeners",value:function(t){this.setModalListener(t),this.visibleCheck(t),this.setRouteWatcher(t),this.setOnTouchStartListener(t),t&&/(focus|blur)/.test(this.$config.trigger)?_t(this.$tip,"focusout",this):St(this.$tip,"focusout",this)}},{key:"forceHide",value:function(){this.$tip&&ht(this.$tip,Xi)&&(this.setWhileOpenListeners(!1),clearTimeout(this.$hoverTimeout),this.$hoverTimeout=null,this.$hoverState="",this.hide(null,!0))}},{key:"hide",value:function(t,e){var n=this,r=this.$tip;if(r){var o=new yn("hide",{cancelable:!e,target:this.$element,relatedTarget:r});if(this.emitEvent(o),!o.defaultPrevented){this.setWhileOpenListeners(!1),e&&ct(r,Yi),ct(r,Xi),this.$activeTrigger.click=!1,this.$activeTrigger.focus=!1,this.$activeTrigger.hover=!1,this.transitionOnce(r,function(){n.$hoverState!==Qi&&r.parentNode&&(r.parentNode.removeChild(r),n.removeAriaDescribedby(),n.removePopper(),n.$tip=null),t&&t();var e=new yn("hidden",{cancelable:!1,target:n.$element,relatedTarget:null});n.emitEvent(e)}),this.$hoverState=""}}}},{key:"emitEvent",value:function(t){var e=t.type;this.$root&&this.$root.$emit&&this.$root.$emit("bv::"+this.constructor.NAME+"::"+e,t);var n=this.$config.callbacks||{};"function"==typeof n[e]&&n[e](t)}},{key:"getContainer",value:function(){var t=this.$config.container,body=document.body;return!1===t?ut(".modal-content",this.$element)||body:at(t,body)||body}},{key:"addAriaDescribedby",value:function(){var desc=gt(this.$element,"aria-describedby")||"";desc=desc.split(/\s+/).concat(this.$id).join(" ").trim(),ft(this.$element,"aria-describedby",desc)}},{key:"removeAriaDescribedby",value:function(){var t=this,desc=gt(this.$element,"aria-describedby")||"";(desc=desc.split(/\s+/).filter(function(e){return e!==t.$id}).join(" ").trim())?ft(this.$element,"aria-describedby",desc):pt(this.$element,"aria-describedby")}},{key:"removePopper",value:function(){this.$popper&&this.$popper.destroy(),this.$popper=null}},{key:"transitionOnce",value:function(t,e){var n=this,r=this.getTransitionEndEvents(),o=!1;clearTimeout(this.$fadeTimeout),this.$fadeTimeout=null;var l=function l(){o||(o=!0,clearTimeout(n.$fadeTimeout),n.$fadeTimeout=null,r.forEach(function(e){St(t,e,l)}),e())};ht(t,Yi)?(r.forEach(function(e){_t(t,e,l)}),this.$fadeTimeout=setTimeout(l,150)):l()}},{key:"getTransitionEndEvents",value:function(){for(var t in eo)if(void 0!==this.$element.style[t])return eo[t];return[]}},{key:"update",value:function(){null!==this.$popper&&this.$popper.scheduleUpdate()}},{key:"isWithContent",value:function(t){return!!(t=t||this.$tip)&&Boolean((at(Ji,t)||{}).innerHTML)}},{key:"addAttachmentClass",value:function(t){lt(this.getTipElement(),"bs-tooltip-"+t)}},{key:"getTipElement",value:function(){return this.$tip||(this.$tip=this.compileTemplate(this.$config.template)||this.compileTemplate(this.constructor.Default.template)),this.$tip.tabIndex=-1,this.$tip}},{key:"compileTemplate",value:function(html){if(!html||"string"!=typeof html)return null;var div=document.createElement("div");div.innerHTML=html.trim();var t=div.firstElementChild?div.removeChild(div.firstElementChild):null;return div=null,t}},{key:"setContent",value:function(t){this.setElementContent(at(Ji,t),this.getTitle()),ct(t,Yi),ct(t,Xi)}},{key:"setElementContent",value:function(t,content){if(t){var e=this.$config.html;"object"===(void 0===content?"undefined":Wi(content))&&content.nodeType?e?content.parentElement!==t&&(t.innerHtml="",t.appendChild(content)):t.innerText=content.innerText:t[e?"innerHTML":"innerText"]=content}}},{key:"getTitle",value:function(){var title=this.$config.title||"";return"function"==typeof title&&(title=title(this.$element)),"object"===(void 0===title?"undefined":Wi(title))&&title.nodeType&&!title.innerHTML.trim()&&(title=""),"string"==typeof title&&(title=title.trim()),title||(title=(title=gt(this.$element,"title")||gt(this.$element,"data-original-title")||"").trim()),title}},{key:"listen",value:function(){var t=this,e=this.$config.trigger.trim().split(/\s+/),n=this.$element;this.setRootListener(!0),e.forEach(function(e){"click"===e?_t(n,"click",t):"focus"===e?(_t(n,"focusin",t),_t(n,"focusout",t)):"blur"===e?_t(n,"focusout",t):"hover"===e&&(_t(n,"mouseenter",t),_t(n,"mouseleave",t))},this)}},{key:"unListen",value:function(){var t=this;["click","focusin","focusout","mouseenter","mouseleave"].forEach(function(e){St(t.$element,e,t)},this),this.setRootListener(!1)}},{key:"handleEvent",value:function(t){if(!nt(this.$element)&&this.$isEnabled){var e=t.type,n=t.target,r=t.relatedTarget,o=this.$element,l=this.$tip;if("click"===e)this.toggle(t);else if("focusin"===e||"mouseenter"===e)this.enter(t);else if("focusout"===e){if(l&&o&&o.contains(n)&&l.contains(r))return;if(l&&o&&l.contains(n)&&o.contains(r))return;if(l&&l.contains(n)&&l.contains(r))return;if(o&&o.contains(n)&&o.contains(r))return;this.leave(t)}else"mouseleave"===e&&this.leave(t)}}},{key:"setRouteWatcher",value:function(t){var e=this;t?(this.setRouteWatcher(!1),this.$root&&Boolean(this.$root.$route)&&(this.$routeWatcher=this.$root.$watch("$route",function(t,n){t!==n&&e.forceHide()}))):this.$routeWatcher&&(this.$routeWatcher(),this.$routeWatcher=null)}},{key:"setModalListener",value:function(t){ut(".modal-content",this.$element)&&this.$root&&this.$root[t?"$on":"$off"]("bv::modal::hidden",this.$forceHide)}},{key:"setRootListener",value:function(t){this.$root&&(this.$root[t?"$on":"$off"]("bv::hide::"+this.constructor.NAME,this.$doHide),this.$root[t?"$on":"$off"]("bv::show::"+this.constructor.NAME,this.$doShow),this.$root[t?"$on":"$off"]("bv::disable::"+this.constructor.NAME,this.$doDisable),this.$root[t?"$on":"$off"]("bv::enable::"+this.constructor.NAME,this.$doEnable))}},{key:"doHide",value:function(t){t?this.$element&&this.$element.id&&this.$element.id===t&&this.hide():this.forceHide()}},{key:"doShow",value:function(t){t?t&&this.$element&&this.$element.id&&this.$element.id===t&&this.show():this.show()}},{key:"doDisable",value:function(t){t?this.$element&&this.$element.id&&this.$element.id===t&&this.disable():this.disable()}},{key:"doEnable",value:function(t){t?this.$element&&this.$element.id&&this.$element.id===t&&this.enable():this.enable()}},{key:"setOnTouchStartListener",value:function(t){var e=this;"ontouchstart"in document.documentElement&&O(document.body.children).forEach(function(n){t?_t(n,"mouseover",e._noop):St(n,"mouseover",e._noop)})}},{key:"_noop",value:function(){}},{key:"fixTitle",value:function(){var t=this.$element,e=Wi(gt(t,"data-original-title"));(gt(t,"title")||"string"!==e)&&(ft(t,"data-original-title",gt(t,"title")||""),ft(t,"title",""))}},{key:"enter",value:function(t){var e=this;t&&(this.$activeTrigger["focusin"===t.type?"focus":"hover"]=!0),ht(this.getTipElement(),Xi)||this.$hoverState===Qi?this.$hoverState=Qi:(clearTimeout(this.$hoverTimeout),this.$hoverState=Qi,this.$config.delay&&this.$config.delay.show?this.$hoverTimeout=setTimeout(function(){e.$hoverState===Qi&&e.show()},this.$config.delay.show):this.show())}},{key:"leave",value:function(t){var e=this;t&&(this.$activeTrigger["focusout"===t.type?"focus":"hover"]=!1,"focusout"===t.type&&/blur/.test(this.$config.trigger)&&(this.$activeTrigger.click=!1,this.$activeTrigger.hover=!1)),this.isWithActiveTrigger()||(clearTimeout(this.$hoverTimeout),this.$hoverState=Gi,this.$config.delay&&this.$config.delay.hide?this.$hoverTimeout=setTimeout(function(){e.$hoverState===Gi&&e.hide()},this.$config.delay.hide):this.hide())}},{key:"getPopperConfig",value:function(t,e){var n=this;return{placement:this.constructor.getAttachment(t),modifiers:{offset:{offset:this.getOffset(t,e)},flip:{behavior:this.$config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.$config.boundary}},onCreate:function(data){data.originalPlacement!==data.placement&&n.handlePopperPlacementChange(data)},onUpdate:function(data){n.handlePopperPlacementChange(data)}}}},{key:"getOffset",value:function(t,e){if(!this.$config.offset){var n=at(Zi,e),r=parseFloat(yt(n).width)+parseFloat(this.$config.arrowPadding);switch(Ki[t.toUpperCase()]){case 1:return"+50%p - "+r+"px";case-1:return"-50%p + "+r+"px";default:return 0}}return this.$config.offset}},{key:"getPlacement",value:function(){var t=this.$config.placement;return"function"==typeof t?t.call(this,this.$tip,this.$element):t}},{key:"isWithActiveTrigger",value:function(){for(var t in this.$activeTrigger)if(this.$activeTrigger[t])return!0;return!1}},{key:"cleanTipClass",value:function(){var t=this.getTipElement(),e=t.className.match(zi);null!==e&&e.length>0&&e.forEach(function(e){ct(t,e)})}},{key:"handlePopperPlacementChange",value:function(data){this.cleanTipClass(),this.addAttachmentClass(this.constructor.getAttachment(data.placement))}},{key:"fixTransition",value:function(t){var e=this.$config.animation||!1;null===gt(t,"x-placement")&&(ct(t,Yi),this.$config.animation=!1,this.hide(),this.show(),this.$config.animation=e)}}],[{key:"getAttachment",value:function(t){return Hi[t.toUpperCase()]}},{key:"Default",get:function(){return to}},{key:"NAME",get:function(){return"tooltip"}}]),t}(),io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var ao=new RegExp("\\bbs-popover\\S+","g"),so=x({},ro.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),uo="fade",lo="show",co=".popover-header",ho=".popover-body",fo=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,ro),oo(e,[{key:"isWithContent",value:function(t){if(!(t=t||this.$tip))return!1;var e=Boolean((at(co,t)||{}).innerHTML),n=Boolean((at(ho,t)||{}).innerHTML);return e||n}},{key:"addAttachmentClass",value:function(t){lt(this.getTipElement(),"bs-popover-"+t)}},{key:"setContent",value:function(t){this.setElementContent(at(co,t),this.getTitle()),this.setElementContent(at(ho,t),this.getContent()),ct(t,uo),ct(t,lo)}},{key:"cleanTipClass",value:function(){var t=this.getTipElement(),e=t.className.match(ao);null!==e&&e.length>0&&e.forEach(function(e){ct(t,e)})}},{key:"getTitle",value:function(){var title=this.$config.title||"";return"function"==typeof title&&(title=title(this.$element)),"object"===(void 0===title?"undefined":io(title))&&title.nodeType&&!title.innerHTML.trim()&&(title=""),"string"==typeof title&&(title=title.trim()),title||(title=(title=gt(this.$element,"title")||gt(this.$element,"data-original-title")||"").trim()),title}},{key:"getContent",value:function(){var content=this.$config.content||"";return"function"==typeof content&&(content=content(this.$element)),"object"===(void 0===content?"undefined":io(content))&&content.nodeType&&!content.innerHTML.trim()&&(content=""),"string"==typeof content&&(content=content.trim()),content}}],[{key:"Default",get:function(){return so}},{key:"NAME",get:function(){return"popover"}}]),e}(),po="undefined"==typeof window?Object:window.HTMLElement,go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mo={top:"top",topleft:"topleft",topright:"topright",right:"right",righttop:"righttop",rightbottom:"rightbottom",bottom:"bottom",bottomleft:"bottomleft",bottomright:"bottomright",left:"left",lefttop:"lefttop",leftbottom:"leftbottom",auto:"auto"},bo={subtree:!0,childList:!0,characterData:!0,attributes:!0,attributeFilter:["class","style"]},yo={props:{target:{type:[String,Object,po,Function]},delay:{type:[Number,Object,String],default:0},offset:{type:[Number,String],default:0},noFade:{type:Boolean,default:!1},container:{type:String,default:null},boundary:{type:[String,Object],default:"scrollParent"},show:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},watch:{show:function(t,e){t!==e&&(t?this.onOpen():this.onClose())},disabled:function(t,e){t!==e&&(t?this.onDisable():this.onEnable())}},created:function(){this._toolpop=null,this._obs_title=null,this._obs_content=null},mounted:function(){var t=this;this.$nextTick(function(){t.createToolpop()&&(t.disabled&&t.onDisable(),t.$on("open",t.onOpen),t.$on("close",t.onClose),t.$on("disable",t.onDisable),t.$on("enable",t.onEnable),t.setObservers(!0),t.show&&t.onOpen())})},updated:function(){this._toolpop&&this._toolpop.updateConfig(this.getConfig())},activated:function(){this.setObservers(!0)},deactivated:function(){this._toolpop&&(this.setObservers(!1),this._toolpop.hide())},beforeDestroy:function(){this.$off("open",this.onOpen),this.$off("close",this.onClose),this.$off("disable",this.onDisable),this.$off("enable",this.onEnable),this.setObservers(!1),this.bringItBack(),this._toolpop&&(this._toolpop.destroy(),this._toolpop=null)},computed:{baseConfig:function(){var t=this.container,e="object"===go(this.delay)?this.delay:parseInt(this.delay,10)||0;return{title:(this.title||"").trim()||"",content:(this.content||"").trim()||"",placement:mo[this.placement]||"auto",container:!!t&&(/^#/.test(t)?t:"#"+t),boundary:this.boundary,delay:e||0,offset:this.offset||0,animation:!this.noFade,trigger:P(this.triggers)?this.triggers.join(" "):this.triggers,callbacks:{show:this.onShow,shown:this.onShown,hide:this.onHide,hidden:this.onHidden,enabled:this.onEnabled,disabled:this.onDisabled}}}},methods:{getConfig:function(){var t=x({},this.baseConfig);return this.$refs.title&&this.$refs.title.innerHTML.trim()&&(t.title=this.$refs.title,t.html=!0),this.$refs.content&&this.$refs.content.innerHTML.trim()&&(t.content=this.$refs.content,t.html=!0),t},onOpen:function(){this._toolpop&&this._toolpop.show()},onClose:function(t){this._toolpop?this._toolpop.hide(t):"function"==typeof t&&t()},onDisable:function(){this._toolpop&&this._toolpop.disable()},onEnable:function(){this._toolpop&&this._toolpop.enable()},updatePosition:function(){this._toolpop&&this._toolpop.update()},getTarget:function(){var t,e=this.target;return"function"==typeof e&&(e=e()),"string"==typeof e?(t=e,document.getElementById(/^#/.test(t)?t.slice(1):t)||null):"object"===(void 0===e?"undefined":go(e))&&tt(e.$el)?e.$el:"object"===(void 0===e?"undefined":go(e))&&tt(e)?e:null},onShow:function(t){this.$emit("show",t)},onShown:function(t){this.setObservers(!0),this.$emit("update:show",!0),this.$emit("shown",t)},onHide:function(t){this.$emit("hide",t)},onHidden:function(t){this.setObservers(!1),this.bringItBack(),this.$emit("update:show",!1),this.$emit("hidden",t)},onEnabled:function(t){t&&"enabled"===t.type&&(this.$emit("update:disabled",!1),this.$emit("disabled"))},onDisabled:function(t){t&&"disabled"===t.type&&(this.$emit("update:disabled",!0),this.$emit("enabled"))},bringItBack:function(){this.$el&&this.$refs.title&&this.$el.appendChild(this.$refs.title),this.$el&&this.$refs.content&&this.$el.appendChild(this.$refs.content)},setObservers:function(t){t?(this.$refs.title&&(this._obs_title=we(this.$refs.title,this.updatePosition.bind(this),bo)),this.$refs.content&&(this._obs_content=we(this.$refs.content,this.updatePosition.bind(this),bo))):(this._obs_title&&(this._obs_title.disconnect(),this._obs_title=null),this._obs_content&&(this._obs_content.disconnect(),this._obs_content=null))}}},vo={bPopover:{mixins:[yo],render:function(t){return t("div",{class:["d-none"],style:{display:"none"},attrs:{"aria-hidden":!0}},[t("div",{ref:"title"},this.$slots.title),t("div",{ref:"content"},this.$slots.default)])},data:function(){return{}},props:{title:{type:String,default:""},content:{type:String,default:""},triggers:{type:[String,Array],default:"click"},placement:{type:String,default:"right"}},methods:{createToolpop:function(){var t=this.getTarget();return t?this._toolpop=new fo(t,this.getConfig(),this.$root):(this._toolpop=null,Ie("b-popover: 'target' element not found!")),this._toolpop}}}},wo={install:function(t){f(t,vo)}};v(wo);var _o=wo,So={render:function(t){var e=t(!1);return this.$slots.default?e=this.$slots.default:this.label?e=t("span",{domProps:{innerHTML:this.label}}):this.computedShowProgress?e=this.progress.toFixed(this.computedPrecision):this.computedShowValue&&(e=this.value.toFixed(this.computedPrecision)),t("div",{class:this.progressBarClasses,style:this.progressBarStyles,attrs:{role:"progressbar","aria-valuemin":"0","aria-valuemax":this.computedMax.toString(),"aria-valuenow":this.value.toFixed(this.computedPrecision)}},[e])},computed:{progressBarClasses:function(){return["progress-bar",this.computedVariant?"bg-"+this.computedVariant:"",this.computedStriped||this.computedAnimated?"progress-bar-striped":"",this.computedAnimated?"progress-bar-animated":""]},progressBarStyles:function(){return{width:this.value/this.computedMax*100+"%"}},progress:function(){var p=Math.pow(10,this.computedPrecision);return Math.round(100*p*this.value/this.computedMax)/p},computedMax:function(){return"number"==typeof this.max?this.max:this.$parent.max||100},computedVariant:function(){return this.variant||this.$parent.variant},computedPrecision:function(){return"number"==typeof this.precision?this.precision:this.$parent.precision||0},computedStriped:function(){return"boolean"==typeof this.striped?this.striped:this.$parent.striped||!1},computedAnimated:function(){return"boolean"==typeof this.animated?this.animated:this.$parent.animated||!1},computedShowProgress:function(){return"boolean"==typeof this.showProgress?this.showProgress:this.$parent.showProgress||!1},computedShowValue:function(){return"boolean"==typeof this.showValue?this.showValue:this.$parent.showValue||!1}},props:{value:{type:Number,default:0},label:{type:String,default:null},max:{type:Number,default:null},precision:{type:Number,default:null},variant:{type:String,default:null},striped:{type:Boolean,default:null},animated:{type:Boolean,default:null},showProgress:{type:Boolean,default:null},showValue:{type:Boolean,default:null}}},Eo={bProgress:{components:{bProgressBar:So},render:function(t){var e=this.$slots.default;return e||(e=t("b-progress-bar",{props:{value:this.value,max:this.max,precision:this.precision,variant:this.variant,animated:this.animated,striped:this.striped,showProgress:this.showProgress,showValue:this.showValue}})),t("div",{class:["progress"],style:this.progressHeight},[e])},props:{variant:{type:String,default:null},striped:{type:Boolean,default:!1},animated:{type:Boolean,default:!1},height:{type:String,default:null},precision:{type:Number,default:0},showProgress:{type:Boolean,default:!1},showValue:{type:Boolean,default:!1},max:{type:Number,default:100},value:{type:Number,default:0}},computed:{progressHeight:function(){return{height:this.height||null}}}},bProgressBar:So},To={install:function(t){f(t,Eo)}};v(To);var Co=To,ko=n(69),xo=n.n(ko),Io=n(39),No=n.n(Io);n(262);var Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function Ao(t){return t?t instanceof Object?I(t).map(function(e){return Ao(t[e])}).join(" "):String(t):""}function Oo(t,e){var n=null;return"string"==typeof e?n={key:t,label:e}:"function"==typeof e?n={key:t,formatter:e}:"object"===(void 0===e?"undefined":Do(e))?(n=x({},e)).key=n.key||t:!1!==e&&(n={key:t}),n}var Po={bTable:{mixins:[_e,Ze],render:function(t){var e=this,n=this.$slots,r=this.$scopedSlots,o=this.computedFields,l=this.computedItems,caption=t(!1);if(this.caption||n["table-caption"]){var data={style:this.captionStyles};n["table-caption"]||(data.domProps={innerHTML:this.caption}),caption=t("caption",data,n["table-caption"])}var colgroup=n["table-colgroup"]?t("colgroup",{},n["table-colgroup"]):t(!1),c=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.map(function(o,l){var data={key:o.key,class:e.fieldClasses(o),style:o.thStyle||{},attrs:{tabindex:o.sortable?"0":null,abbr:o.headerAbbr||null,title:o.headerTitle||null,"aria-colindex":String(l+1),"aria-label":o.sortable?e.localSortDesc&&e.localSortBy===o.key?e.labelSortAsc:e.labelSortDesc:null,"aria-sort":o.sortable&&e.localSortBy===o.key?e.localSortDesc?"descending":"ascending":null},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.headClicked(t,o)},keydown:function(t){var n=t.keyCode;n!==Mt.ENTER&&n!==Mt.SPACE||(t.stopPropagation(),t.preventDefault(),e.headClicked(t,o))}}},slot=n&&r["FOOT_"+o.key]?r["FOOT_"+o.key]:r["HEAD_"+o.key];return slot?slot=[slot({label:o.label,column:o.key,field:o})]:data.domProps={innerHTML:o.label},t("th",data,slot)})},thead=t(!1);!0!==this.isStacked&&(thead=t("thead",{class:this.headClasses},[t("tr",{class:this.theadTrClass},c(!1))]));var tfoot=t(!1);this.footClone&&!0!==this.isStacked&&(tfoot=t("tfoot",{class:this.footClasses},[t("tr",{class:this.tfootTrClass},c(!0))]));var h=[];if(r["top-row"]&&!0!==this.isStacked?h.push(t("tr",{key:"top-row",class:["b-table-top-row",this.tbodyTrClass]},[r["top-row"]({columns:o.length,fields:o})])):h.push(t(!1)),l.forEach(function(n,l){var c=r["row-details"],d=Boolean(n._showDetails&&c),f=d?e.safeId("_details_"+l+"_"):null,m=function(){c&&e.$set(n,"_showDetails",!n._showDetails)},y=o.map(function(o,c){var data={key:"row-"+l+"-cell-"+c,class:e.tdClasses(o,n),attrs:e.tdAttrs(o,n,c),domProps:{}},h=void 0;if(r[o.key])h=[r[o.key]({item:n,index:l,field:o,unformatted:No()(n,o.key),value:e.getFormattedValue(n,o),toggleDetails:m,detailsShowing:Boolean(n._showDetails)})],e.isStacked&&(h=[t("div",{},[h])]);else{var d=e.getFormattedValue(n,o);h=e.isStacked?[t("div",d)]:d}return t(o.isRowHeader?"th":"td",data,h)}),v=null;if(e.currentPage&&e.perPage&&e.perPage>0&&(v=(e.currentPage-1)*e.perPage+l+1),h.push(t("tr",{key:"row-"+l,class:[e.rowClasses(n),{"b-table-has-details":d}],attrs:{"aria-describedby":f,"aria-rowindex":v,role:e.isStacked?"row":null},on:{click:function(t){e.rowClicked(t,n,l)},dblclick:function(t){e.rowDblClicked(t,n,l)},mouseenter:function(t){e.rowHovered(t,n,l)}}},y)),d){var w={colspan:String(o.length)},_={id:f};e.isStacked&&(w.role="cell",_.role="row");var details=t("td",{attrs:w},[c({item:n,index:l,fields:o,toggleDetails:m})]);h.push(t("tr",{key:"details-"+l,class:["b-table-details",e.tbodyTrClass],attrs:_},[details]))}else c&&h.push(t(!1))}),!this.showEmpty||l&&0!==l.length)h.push(t(!1));else{var d=this.filter?n.emptyfiltered:n.empty;d||(d=t("div",{class:["text-center","my-2"],domProps:{innerHTML:this.filter?this.emptyFilteredText:this.emptyText}})),d=t("td",{attrs:{colspan:String(o.length),role:this.isStacked?"cell":null}},[t("div",{attrs:{role:"alert","aria-live":"polite"}},[d])]),h.push(t("tr",{key:"empty-row",class:["b-table-empty-row",this.tbodyTrClass],attrs:this.isStacked?{role:"row"}:{}},[d]))}r["bottom-row"]&&!0!==this.isStacked?h.push(t("tr",{key:"bottom-row",class:["b-table-bottom-row",this.tbodyTrClass]},[r["bottom-row"]({columns:o.length,fields:o})])):h.push(t(!1));var tbody=t("tbody",{class:this.bodyClasses,attrs:this.isStacked?{role:"rowgroup"}:{}},h),table=t("table",{class:this.tableClasses,attrs:{id:this.safeId(),role:this.isStacked?"table":null,"aria-busy":this.computedBusy?"true":"false","aria-colcount":String(o.length),"aria-rowcount":this.$attrs["aria-rowcount"]||this.items.length>this.perPage?this.items.length:null}},[caption,colgroup,thead,tfoot,tbody]);return this.isResponsive?t("div",{class:this.responsiveClass},[table]):table},data:function(){return{localSortBy:this.sortBy||"",localSortDesc:this.sortDesc||!1,localItems:[],filteredItems:[],localBusy:!1}},props:{items:{type:[Array,Function],default:function(){return[]}},fields:{type:[Object,Array],default:null},sortBy:{type:String,default:null},sortDesc:{type:Boolean,default:!1},sortDirection:{type:String,default:"asc",validator:function(t){return R(["asc","desc","last"],t)}},caption:{type:String,default:null},captionTop:{type:Boolean,default:!1},striped:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},dark:{type:Boolean,default:function(){return!(!this||"boolean"!=typeof this.inverse)&&(Ie("b-table: prop 'inverse' has been deprecated. Use 'dark' instead"),this.dark)}},inverse:{type:Boolean,default:null},hover:{type:Boolean,default:!1},small:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},footClone:{type:Boolean,default:!1},responsive:{type:[Boolean,String],default:!1},stacked:{type:[Boolean,String],default:!1},headVariant:{type:String,default:""},footVariant:{type:String,default:""},theadClass:{type:[String,Array],default:null},theadTrClass:{type:[String,Array],default:null},tbodyClass:{type:[String,Array],default:null},tbodyTrClass:{type:[String,Array],default:null},tfootClass:{type:[String,Array],default:null},tfootTrClass:{type:[String,Array],default:null},perPage:{type:Number,default:0},currentPage:{type:Number,default:1},filter:{type:[String,RegExp,Function],default:null},sortCompare:{type:Function,default:null},noLocalSorting:{type:Boolean,default:!1},noProviderPaging:{type:Boolean,default:!1},noProviderSorting:{type:Boolean,default:!1},noProviderFiltering:{type:Boolean,default:!1},noSortReset:{type:Boolean,default:!1},busy:{type:Boolean,default:!1},value:{type:Array,default:function(){return[]}},labelSortAsc:{type:String,default:"Click to sort Ascending"},labelSortDesc:{type:String,default:"Click to sort Descending"},showEmpty:{type:Boolean,default:!1},emptyText:{type:String,default:"There are no records to show"},emptyFilteredText:{type:String,default:"There are no records matching your request"},apiUrl:{type:String,default:""}},watch:{items:function(t,e){e!==t&&this._providerUpdate()},context:function(t,e){Zn(t,e)||this.$emit("context-changed",t)},filteredItems:function(t,e){this.localFiltering&&t.length!==e.length&&this.$emit("filtered",t)},sortDesc:function(t,e){t!==this.localSortDesc&&(this.localSortDesc=t||!1)},localSortDesc:function(t,e){t!==e&&(this.$emit("update:sortDesc",t),this.noProviderSorting||this._providerUpdate())},sortBy:function(t,e){t!==this.localSortBy&&(this.localSortBy=t||null)},localSortBy:function(t,e){t!==e&&(this.$emit("update:sortBy",t),this.noProviderSorting||this._providerUpdate())},perPage:function(t,e){e===t||this.noProviderPaging||this._providerUpdate()},currentPage:function(t,e){e===t||this.noProviderPaging||this._providerUpdate()},filter:function(t,e){e===t||this.noProviderFiltering||this._providerUpdate()},localBusy:function(t,e){t!==e&&this.$emit("update:busy",t)}},mounted:function(){var t=this;this.localSortBy=this.sortBy,this.localSortDesc=this.sortDesc,this.hasProvider&&this._providerUpdate(),this.listenOnRoot("bv::refresh::table",function(e){e!==t.id&&e!==t||t._providerUpdate()})},computed:{isStacked:function(){return""===this.stacked||this.stacked},isResponsive:function(){var t=""===this.responsive||this.responsive;return!this.isStacked&&t},responsiveClass:function(){return!0===this.isResponsive?"table-responsive":this.isResponsive?"table-responsive-"+this.responsive:""},tableClasses:function(){return["table","b-table",this.striped?"table-striped":"",this.hover?"table-hover":"",this.dark?"table-dark":"",this.bordered?"table-bordered":"",this.small?"table-sm":"",this.outlined?"border":"",this.fixed?"b-table-fixed":"",!0===this.isStacked?"b-table-stacked":this.isStacked?"b-table-stacked-"+this.stacked:""]},headClasses:function(){return[this.headVariant?"thead-"+this.headVariant:"",this.theadClass]},bodyClasses:function(){return[this.tbodyClass]},footClasses:function(){var t=this.footVariant||this.headVariant||null;return[t?"thead-"+t:"",this.tfootClass]},captionStyles:function(){return this.captionTop?{captionSide:"top"}:{}},hasProvider:function(){return this.items instanceof Function},localFiltering:function(){return!this.hasProvider||this.noProviderFiltering},localSorting:function(){return this.hasProvider?this.noProviderSorting:!this.noLocalSorting},localPaging:function(){return!this.hasProvider||this.noProviderPaging},context:function(){return{perPage:this.perPage,currentPage:this.currentPage,filter:this.filter,sortBy:this.localSortBy,sortDesc:this.localSortDesc,apiUrl:this.apiUrl}},computedFields:function(){var t=this,e=[];if(P(this.fields)?this.fields.filter(function(t){return t}).forEach(function(t){if("string"==typeof t)e.push({key:t,label:xo()(t)});else if("object"===(void 0===t?"undefined":Do(t))&&t.key&&"string"==typeof t.key)e.push(x({},t));else if("object"===(void 0===t?"undefined":Do(t))&&1===I(t).length){var n=I(t)[0],r=Oo(n,t[n]);r&&e.push(r)}}):this.fields&&"object"===Do(this.fields)&&I(this.fields).length>0&&I(this.fields).forEach(function(n){var r=Oo(n,t.fields[n]);r&&e.push(r)}),0===e.length&&this.computedItems.length>0){var n=this.computedItems[0],r=["_rowVariant","_cellVariants","_showDetails"];I(n).forEach(function(t){r.includes(t)||e.push({key:t,label:xo()(t)})})}var o={};return e.filter(function(t){return!o[t.key]&&(o[t.key]=!0,t.label="string"==typeof t.label?t.label:xo()(t.key),!0)})},computedItems:function(){var t,e=this.perPage,n=this.currentPage,filter=this.filter,r=this.localSortBy,o=this.localSortDesc,l=this.sortCompare,c=this.localFiltering,h=this.localSorting,d=this.localPaging,f=this.hasProvider?this.localItems:this.items;if(!f)return this.$nextTick(this._providerUpdate),[];if(f=f.slice(),filter&&c)if(filter instanceof Function)f=f.filter(filter);else{var m=void 0;m=filter instanceof RegExp?filter:new RegExp(".*"+filter+".*","ig"),f=f.filter(function(t){var e,n=m.test((e=t)instanceof Object?Ao(I(e).reduce(function(t,n){return/^_/.test(n)||(t[n]=e[n]),t},{})):"");return m.lastIndex=0,n})}return c&&(this.filteredItems=f.slice()),r&&h&&(t=function(a,b){var t=null;return"function"==typeof l&&(t=l(a,b,r)),null==t&&(t=function(a,b,t){return"number"==typeof a[t]&&"number"==typeof b[t]?(a[t]<b[t]?-1:a[t]>b[t]&&1)||0:Ao(a[t]).localeCompare(Ao(b[t]),void 0,{numeric:!0})}(a,b,r)),(t||0)*(o?-1:1)},f=f.map(function(a,t){return[t,a]}).sort(function(a,b){return this(a[1],b[1])||a[0]-b[0]}.bind(t)).map(function(t){return t[1]})),Boolean(e)&&d&&(f=f.slice((n-1)*e,n*e)),this.$emit("input",f),f},computedBusy:function(){return this.busy||this.localBusy}},methods:{keys:I,fieldClasses:function(t){return[t.sortable?"sorting":"",t.sortable&&this.localSortBy===t.key?"sorting_"+(this.localSortDesc?"desc":"asc"):"",t.variant?"table-"+t.variant:"",t.class?t.class:"",t.thClass?t.thClass:""]},tdClasses:function(t,e){var n="";return e._cellVariants&&e._cellVariants[t.key]&&(n=(this.dark?"bg":"table")+"-"+e._cellVariants[t.key]),[t.variant&&!n?(this.dark?"bg":"table")+"-"+t.variant:"",n,t.class?t.class:"",this.getTdValues(e,t.key,t.tdClass,"")]},tdAttrs:function(t,e,n){var r={};return r["aria-colindex"]=String(n+1),this.isStacked&&(r["data-label"]=t.label,t.isRowHeader?r.role="rowheader":r.role="cell"),x({},r,this.getTdValues(e,t.key,t.tdAttr,{}))},rowClasses:function(t){return[t._rowVariant?(this.dark?"bg":"table")+"-"+t._rowVariant:"",this.tbodyTrClass]},rowClicked:function(t,e,n){this.stopIfBusy(t)||this.$emit("row-clicked",e,n,t)},rowDblClicked:function(t,e,n){this.stopIfBusy(t)||this.$emit("row-dblclicked",e,n,t)},rowHovered:function(t,e,n){this.stopIfBusy(t)||this.$emit("row-hovered",e,n,t)},headClicked:function(t,e){var n=this;if(!this.stopIfBusy(t)){var r=!1,o=function(){var t=e.sortDirection||n.sortDirection;"asc"===t?n.localSortDesc=!1:"desc"===t&&(n.localSortDesc=!0)};e.sortable?(e.key===this.localSortBy?this.localSortDesc=!this.localSortDesc:(this.localSortBy=e.key,o()),r=!0):this.localSortBy&&!this.noSortReset&&(this.localSortBy=null,o(),r=!0),this.$emit("head-clicked",e.key,e,t),r&&this.$emit("sort-changed",this.context)}},stopIfBusy:function(t){return!!this.computedBusy&&(t.preventDefault(),t.stopPropagation(),!0)},refresh:function(){this.hasProvider&&this._providerUpdate()},_providerSetLocal:function(t){this.localItems=t&&t.length>0?t.slice():[],this.localBusy=!1,this.$emit("refreshed"),this.emitOnRoot("table::refreshed",this.id),this.id&&this.emitOnRoot("bv::table::refreshed",this.id)},_providerUpdate:function(){var t=this;if(!this.computedBusy&&this.hasProvider){this.localBusy=!0;var data=this.items(this.context,this._providerSetLocal);data&&data.then&&"function"==typeof data.then?data.then(function(e){t._providerSetLocal(e)}):this._providerSetLocal(data)}},getTdValues:function(t,e,n,r){var o=this.$parent;if(n){if("function"==typeof n)return n(No()(t,e),e,t);if("string"==typeof n&&"function"==typeof o[n]){var l=No()(t,e);return o[n](l,e,t)}return n}return r},getFormattedValue:function(t,e){var n=e.key,r=e.formatter,o=this.$parent,l=No()(t,n);return r&&("function"==typeof r?l=r(l,n,t):"string"==typeof r&&"function"==typeof o[r]&&(l=o[r](l,n,t))),l}}}},Ro={install:function(t){f(t,Po)}};v(Ro);var Lo=Ro;function Mo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fo={name:"bTabButtonHelper",props:{content:{type:[String,Array],default:""},href:{type:String,default:"#"},posInSet:{type:Number,default:null},setSize:{type:Number,default:null},controls:{type:String,default:null},id:{type:String,default:null},active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},linkClass:{default:null},itemClass:{default:null},noKeyNav:{type:Boolean,default:!1}},render:function(t){var link=t("a",{class:["nav-link",{active:this.active,disabled:this.disabled},this.linkClass],attrs:{role:"tab",tabindex:this.noKeyNav?null:"-1",href:this.href,id:this.id,disabled:this.disabled,"aria-selected":this.active?"true":"false","aria-setsize":this.setSize,"aria-posinset":this.posInSet,"aria-controls":this.controls},on:{click:this.handleClick,keydown:this.handleClick}},this.content);return t("li",{class:["nav-item",this.itemClass],attrs:{role:"presentation"}},[link])},methods:{handleClick:function(t){function e(){t.preventDefault(),t.stopPropagation()}"click"!==t.type&&this.noKeyNav||(this.disabled?e():"click"!==t.type&&t.keyCode!==Mt.ENTER&&t.keyCode!==Mt.SPACE||(e(),this.$emit("click",t)))}}},Bo={bTabs:{mixins:[_e],render:function(t){var e,n=this,r=this.tabs,o=r.map(function(e,o){return t(Fo,{key:o,props:{content:e.$slots.title||e.title,href:e.href,id:e.controlledBy||n.safeId("_BV_tab_"+(o+1)+"_"),active:e.localActive,disabled:e.disabled,setSize:r.length,posInSet:o+1,controls:n.safeId("_BV_tab_container_"),linkClass:e.titleLinkClass,itemClass:e.titleItemClass,noKeyNav:n.noKeyNav},on:{click:function(t){n.setTab(o)}}})}),l=t("ul",{class:["nav",(e={},Mo(e,"nav-"+this.navStyle,!this.noNavStyle),Mo(e,"card-header-"+this.navStyle,this.card&&!this.vertical),Mo(e,"card-header",this.card&&this.vertical),Mo(e,"h-100",this.card&&this.vertical),Mo(e,"flex-column",this.vertical),Mo(e,"border-bottom-0",this.vertical),Mo(e,"rounded-0",this.vertical),Mo(e,"small",this.small),e),this.navClass],attrs:{role:"tablist",tabindex:this.noKeyNav?null:"0",id:this.safeId("_BV_tab_controls_")},on:{keydown:this.onKeynav}},[o,this.$slots.tabs]);l=t("div",{class:[{"card-header":this.card&&!this.vertical&&!(this.end||this.bottom),"card-footer":this.card&&!this.vertical&&(this.end||this.bottom),"col-auto":this.vertical},this.navWrapperClass]},[l]);var c=void 0;c=r&&r.length?t(!1):t("div",{class:["tab-pane","active",{"card-body":this.card}]},this.$slots.empty);var content=t("div",{ref:"tabsContainer",class:["tab-content",{col:this.vertical},this.contentClass],attrs:{id:this.safeId("_BV_tab_container_")}},[this.$slots.default,c]);return t(this.tag,{class:["tabs",{row:this.vertical,"no-gutters":this.vertical&&this.card}],attrs:{id:this.safeId()}},[this.end||this.bottom?content:t(!1),[l],this.end||this.bottom?t(!1):content])},data:function(){return{currentTab:this.value,tabs:[]}},props:{tag:{type:String,default:"div"},card:{type:Boolean,default:!1},small:{type:Boolean,default:!1},value:{type:Number,default:null},pills:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},end:{type:Boolean,default:!1},noFade:{type:Boolean,default:!1},noNavStyle:{type:Boolean,default:!1},noKeyNav:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},contentClass:{type:[String,Array,Object],default:null},navClass:{type:[String,Array,Object],default:null},navWrapperClass:{type:[String,Array,Object],default:null}},watch:{currentTab:function(t,e){t!==e&&(this.$root.$emit("changed::tab",this,t,this.tabs[t]),this.$emit("input",t),this.tabs[t].$emit("click"))},value:function(t,e){if(t!==e){"number"!=typeof e&&(e=0);var n=t<e?-1:1;this.setTab(t,!1,n)}}},computed:{fade:function(){return!this.noFade},navStyle:function(){return this.pills?"pills":"tabs"}},methods:{sign:function(t){return 0===t?0:t>0?1:-1},onKeynav:function(t){if(!this.noKeyNav){var e=t.keyCode,n=t.shiftKey;e===Mt.UP||e===Mt.LEFT?(r(),n?this.setTab(0,!1,1):this.previousTab()):e!==Mt.DOWN&&e!==Mt.RIGHT||(r(),n?this.setTab(this.tabs.length-1,!1,-1):this.nextTab())}function r(){t.preventDefault(),t.stopPropagation()}},nextTab:function(){this.setTab(this.currentTab+1,!1,1)},previousTab:function(){this.setTab(this.currentTab-1,!1,-1)},setTab:function(t,e,n){var r=this;if(n=this.sign(n||0),t=t||0,e||t!==this.currentTab){var o=this.tabs[t];o?o.disabled?n&&this.setTab(t+n,e,n):(this.tabs.forEach(function(t){t===o?r.$set(t,"localActive",!0):r.$set(t,"localActive",!1)}),this.currentTab=t):this.$emit("input",this.currentTab)}},updateTabs:function(){this.tabs=this.$children.filter(function(t){return t._isTab});var t=null;if(this.tabs.forEach(function(e,n){e.localActive&&!e.disabled&&(t=n)}),null===t){if(this.currentTab>=this.tabs.length)return void this.setTab(this.tabs.length-1,!0,-1);this.tabs[this.currentTab]&&!this.tabs[this.currentTab].disabled&&(t=this.currentTab)}null===t&&this.tabs.forEach(function(e,n){e.disabled||null!==t||(t=n)}),this.setTab(t||0,!0,0)}},mounted:function(){this.updateTabs(),we(this.$refs.tabsContainer,this.updateTabs.bind(this),{subtree:!1})}},bTab:{mixins:[_e],render:function(t){var content=t(!1);return!this.localActive&&this.computedLazy||(content=t(this.tag,{ref:"panel",class:this.tabClasses,directives:[{name:"show",value:this.localActive}],attrs:{role:"tabpanel",id:this.safeId(),"aria-hidden":this.localActive?"false":"true","aria-expanded":this.localActive?"true":"false","aria-lablelledby":this.controlledBy||null}},[this.$slots.default])),t("transition",{props:{mode:"out-in"},on:{beforeEnter:this.beforeEnter,beforeLeave:this.beforeLeave}},[content])},methods:{beforeEnter:function(){var t=this;window.requestAnimationFrame(function(){t.show=!0})},beforeLeave:function(){this.show=!1}},data:function(){return{localActive:this.active&&!this.disabled,show:!1}},mounted:function(){this.show=this.localActive},computed:{tabClasses:function(){return["tab-pane",this.$parent&&this.$parent.card&&!this.noBody?"card-body":"",this.show?"show":"",this.computedFade?"fade":"",this.disabled?"disabled":"",this.localActive?"active":""]},controlledBy:function(){return this.buttonId||this.safeId("__BV_tab_button__")},computedFade:function(){return this.$parent.fade},computedLazy:function(){return this.$parent.lazy},_isTab:function(){return!0}},props:{active:{type:Boolean,default:!1},tag:{type:String,default:"div"},buttonId:{type:String,default:""},title:{type:String,default:""},titleItemClass:{type:[String,Array,Object],default:null},titleLinkClass:{type:[String,Array,Object],default:null},headHtml:{type:String,default:null},disabled:{type:Boolean,default:!1},noBody:{type:Boolean,default:!1},href:{type:String,default:"#"}}}},Vo={install:function(t){f(t,Bo)}};v(Vo);var qo=Vo,jo={bTooltip:{mixins:[yo],render:function(t){return t("div",{class:["d-none"],style:{display:"none"},attrs:{"aria-hidden":!0}},[t("div",{ref:"title"},this.$slots.default)])},data:function(){return{}},props:{title:{type:String,default:""},triggers:{type:[String,Array],default:"hover focus"},placement:{type:String,default:"top"}},methods:{createToolpop:function(){var t=this.getTarget();return t?this._toolpop=new ro(t,this.getConfig(),this.$root):(this._toolpop=null,Ie("b-tooltip: 'target' element not found!")),this._toolpop}}}},Uo={install:function(t){f(t,jo)}};v(Uo);var Wo=Uo,$o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var zo={element:"body",offset:10,method:"auto",throttle:75},Ho={element:"(string|element|component)",offset:"number",method:"string",throttle:"number"},Ko="dropdown-item",Qo="active",Go={ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown, .dropup",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},Yo="offset",Xo="position",Jo=/^#[^\/!]+/,Zo=["webkitTransitionEnd","transitionend","otransitionend","oTransitionEnd"];var ta=function(){function t(element,e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$el=element,this.$scroller=null,this.$selector=[Go.NAV_LINKS,Go.LIST_ITEMS,Go.DROPDOWN_ITEMS].join(","),this.$offsets=[],this.$targets=[],this.$activeTarget=null,this.$scrollHeight=0,this.$resizeTimeout=null,this.$obs_scroller=null,this.$obs_targets=null,this.$root=n||null,this.$config=null,this.updateConfig(e)}return $o(t,[{key:"updateConfig",value:function(t,e){this.$scroller&&(this.unlisten(),this.$scroller=null);var n=x({},this.constructor.Default,t);if(e&&(this.$root=e),function(t,e,n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r],l=e[r],c=l&&tt(l)?"element":(h=l,{}.toString.call(h).match(/\s([a-zA-Z]+)/)[1].toLowerCase());c=l&&l._isVue?"component":c,new RegExp(o).test(c)||Ie(t+': Option "'+r+'" provided type "'+c+'", but expected type "'+o+'"')}var h}(this.constructor.Name,n,this.constructor.DefaultType),this.$config=n,this.$root){var r=this;this.$root.$nextTick(function(){r.listen()})}else this.listen()}},{key:"dispose",value:function(){this.unlisten(),clearTimeout(this.$resizeTimeout),this.$resizeTimeout=null,this.$el=null,this.$config=null,this.$scroller=null,this.$selector=null,this.$offsets=null,this.$targets=null,this.$activeTarget=null,this.$scrollHeight=null}},{key:"listen",value:function(){var t=this,e=this.getScroller();e&&"BODY"!==e.tagName&&_t(e,"scroll",this),_t(window,"scroll",this),_t(window,"resize",this),_t(window,"orientationchange",this),Zo.forEach(function(e){_t(window,e,t)}),this.setObservers(!0),this.handleEvent("refresh")}},{key:"unlisten",value:function(){var t=this,e=this.getScroller();this.setObservers(!1),e&&"BODY"!==e.tagName&&St(e,"scroll",this),St(window,"scroll",this),St(window,"resize",this),St(window,"orientationchange",this),Zo.forEach(function(e){St(window,e,t)})}},{key:"setObservers",value:function(t){var e=this;this.$obs_scroller&&(this.$obs_scroller.disconnect(),this.$obs_scroller=null),this.$obs_targets&&(this.$obs_targets.disconnect(),this.$obs_targets=null),t&&(this.$obs_targets=we(this.$el,function(){e.handleEvent("mutation")},{subtree:!0,childList:!0,attributes:!0,attributeFilter:["href"]}),this.$obs_scroller=we(this.getScroller(),function(){e.handleEvent("mutation")},{subtree:!0,childList:!0,characterData:!0,attributes:!0,attributeFilter:["id","style","class"]}))}},{key:"handleEvent",value:function(t){var e="string"==typeof t?t:t.type,n=this;"scroll"===e?(this.$obs_scroller||this.listen(),this.process()):/(resize|orientationchange|mutation|refresh)/.test(e)&&(n.$resizeTimeout||(n.$resizeTimeout=setTimeout(function(){n.refresh(),n.process(),n.$resizeTimeout=null},n.$config.throttle)))}},{key:"refresh",value:function(){var t=this,e=this.getScroller();if(e){var n=e!==e.window?Xo:Yo,r="auto"===this.$config.method?n:this.$config.method,o=r===Xo?wt:vt,l=r===Xo?this.getScrollTop():0;return this.$offsets=[],this.$targets=[],this.$scrollHeight=this.getScrollHeight(),ot(this.$selector,this.$el).map(function(link){return gt(link,"href")}).filter(function(t){return Jo.test(t||"")}).map(function(t){var n=at(t,e);return et(n)?{offset:parseInt(o(n).top,10)+l,target:t}:null}).filter(function(t){return t}).sort(function(a,b){return a.offset-b.offset}).reduce(function(e,n){return e[n.target]||(t.$offsets.push(n.offset),t.$targets.push(n.target),e[n.target]=!0),e},{}),this}}},{key:"process",value:function(){var t=this.getScrollTop()+this.$config.offset,e=this.getScrollHeight(),n=this.$config.offset+e-this.getOffsetHeight();if(this.$scrollHeight!==e&&this.refresh(),t>=n){var r=this.$targets[this.$targets.length-1];this.$activeTarget!==r&&this.activate(r)}else{if(this.$activeTarget&&t<this.$offsets[0]&&this.$offsets[0]>0)return this.$activeTarget=null,void this.clear();for(var i=this.$offsets.length;i--;){this.$activeTarget!==this.$targets[i]&&t>=this.$offsets[i]&&(void 0===this.$offsets[i+1]||t<this.$offsets[i+1])&&this.activate(this.$targets[i])}}}},{key:"getScroller",value:function(){if(this.$scroller)return this.$scroller;var t=this.$config.element;return t?(tt(t.$el)?t=t.$el:"string"==typeof t&&(t=at(t)),t?(this.$scroller="BODY"===t.tagName?window:t,this.$scroller):null):null}},{key:"getScrollTop",value:function(){var t=this.getScroller();return t===window?t.pageYOffset:t.scrollTop}},{key:"getScrollHeight",value:function(){return this.getScroller().scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"getOffsetHeight",value:function(){var t=this.getScroller();return t===window?window.innerHeight:bt(t).height}},{key:"activate",value:function(t){var e=this;this.$activeTarget=t,this.clear();var n=ot(this.$selector.split(",").map(function(e){return e+'[href="'+t+'"]'}).join(","),this.$el);n.forEach(function(link){if(ht(link,Ko)){var t=ut(Go.DROPDOWN,link);t&&e.setActiveState(at(Go.DROPDOWN_TOGGLE,t),!0),e.setActiveState(link,!0)}else{e.setActiveState(link,!0),st(link.parentElement,Go.NAV_ITEMS)&&e.setActiveState(link.parentElement,!0);for(var n=link;n;){var r=(n=ut(Go.NAV_LIST_GROUP,n))?n.previousElementSibling:null;st(r,Go.NAV_LINKS+", "+Go.LIST_ITEMS)&&e.setActiveState(r,!0),st(r,Go.NAV_ITEMS)&&(e.setActiveState(at(Go.NAV_LINKS,r),!0),e.setActiveState(r,!0))}}}),n&&n.length>0&&this.$root&&this.$root.$emit("bv::scrollspy::activate",t,n)}},{key:"clear",value:function(){var t=this;ot(this.$selector+", "+Go.NAV_ITEMS,this.$el).filter(function(t){return ht(t,Qo)}).forEach(function(e){return t.setActiveState(e,!1)})}},{key:"setActiveState",value:function(t,e){t&&(e?lt(t,Qo):ct(t,Qo))}}],[{key:"Name",get:function(){return"v-b-scrollspy"}},{key:"Default",get:function(){return zo}},{key:"DefaultType",get:function(){return Ho}}]),t}(),ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},na=!("undefined"!=typeof window),ra="__BV_ScrollSpy__";function ia(t,e,n){if(!na){var r=function(t){var e={};return t.arg&&(e.element="#"+t.arg),I(t.modifiers).forEach(function(t){/^\d+$/.test(t)?e.offset=parseInt(t,10):/^(auto|position|offset)$/.test(t)&&(e.method=t)}),"string"==typeof t.value?e.element=t.value:"number"==typeof t.value?e.offset=Math.round(t.value):"object"===ea(t.value)&&I(t.value).filter(function(t){return Boolean(ta.DefaultType[t])}).forEach(function(n){e[n]=t.value[n]}),e}(e);return t[ra]?t[ra].updateConfig(r,n.context.$root):t[ra]=new ta(t,r,n.context.$root),t[ra]}}var oa={bScrollspy:{bind:function(t,e,n){ia(t,e,n)},inserted:function(t,e,n){ia(t,e,n)},update:function(t,e,n){ia(t,e,n)},componentUpdated:function(t,e,n){ia(t,e,n)},unbind:function(t){na||function(t){t[ra]&&(t[ra].dispose(),t[ra]=null)}(t)}}},aa={install:function(t){y(t,oa)}};v(aa);var sa=aa,ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},la="undefined"!=typeof window&&"undefined"!=typeof document,ca="__BV_ToolTip__",ha={focus:!0,hover:!0,click:!0,blur:!0};function da(t){var e={};"string"==typeof t.value?e.title=t.value:"function"==typeof t.value?e.title=t.value:"object"===ua(t.value)&&(e=x(t.value)),t.arg&&(e.container="#"+t.arg),I(t.modifiers).forEach(function(t){if(/^html$/.test(t))e.html=!0;else if(/^nofade$/.test(t))e.animation=!1;else if(/^(auto|top(left|right)?|bottom(left|right)?|left(top|bottom)?|right(top|bottom)?)$/.test(t))e.placement=t;else if(/^(window|viewport)$/.test(t))e.boundary=t;else if(/^d\d+$/.test(t)){var n=parseInt(t.slice(1),10)||0;n&&(e.delay=n)}else if(/^o-?\d+$/.test(t)){var r=parseInt(t.slice(1),10)||0;r&&(e.offset=r)}});var n={};return("string"==typeof e.trigger?e.trigger.trim().split(/\s+/):[]).forEach(function(t){ha[t]&&(n[t]=!0)}),I(ha).forEach(function(e){t.modifiers[e]&&(n[e]=!0)}),e.trigger=I(n).join(" "),"blur"===e.trigger&&(e.trigger="focus"),e.trigger||delete e.trigger,e}function fa(t,e,n){la&&(gn.a?t[ca]?t[ca].updateConfig(da(e)):t[ca]=new ro(t,da(e),n.context.$root):Ie("v-b-tooltip: Popper.js is required for tooltips to work"))}var pa={bTooltip:{bind:function(t,e,n){fa(t,e,n)},inserted:function(t,e,n){fa(t,e,n)},update:function(t,e,n){e.value!==e.oldValue&&fa(t,e,n)},componentUpdated:function(t,e,n){e.value!==e.oldValue&&fa(t,e,n)},unbind:function(t){!function(t){la&&t[ca]&&(t[ca].destroy(),t[ca]=null,delete t[ca])}(t)}}},ga={install:function(t){y(t,pa)}};v(ga);var ma=ga,ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ya="undefined"!=typeof window&&"undefined"!=typeof document,va="__BV_PopOver__",wa={focus:!0,hover:!0,click:!0,blur:!0};function _a(t){var e={};"string"==typeof t.value?e.content=t.value:"function"==typeof t.value?e.content=t.value:"object"===ba(t.value)&&(e=x(t.value)),t.arg&&(e.container="#"+t.arg),I(t.modifiers).forEach(function(t){if(/^html$/.test(t))e.html=!0;else if(/^nofade$/.test(t))e.animation=!1;else if(/^(auto|top(left|right)?|bottom(left|right)?|left(top|bottom)?|right(top|bottom)?)$/.test(t))e.placement=t;else if(/^(window|viewport)$/.test(t))e.boundary=t;else if(/^d\d+$/.test(t)){var n=parseInt(t.slice(1),10)||0;n&&(e.delay=n)}else if(/^o-?\d+$/.test(t)){var r=parseInt(t.slice(1),10)||0;r&&(e.offset=r)}});var n={};return("string"==typeof e.trigger?e.trigger.trim().split(/\s+/):[]).forEach(function(t){wa[t]&&(n[t]=!0)}),I(wa).forEach(function(e){t.modifiers[e]&&(n[e]=!0)}),e.trigger=I(n).join(" "),"blur"===e.trigger&&(e.trigger="focus"),e.trigger||delete e.trigger,e}function Sa(t,e,n){ya&&(gn.a?t[va]?t[va].updateConfig(_a(e)):t[va]=new fo(t,_a(e),n.context.$root):Ie("v-b-popover: Popper.js is required for popovers to work"))}var Ea={bPopover:{bind:function(t,e,n){Sa(t,e,n)},inserted:function(t,e,n){Sa(t,e,n)},update:function(t,e,n){e.value!==e.oldValue&&Sa(t,e,n)},componentUpdated:function(t,e,n){e.value!==e.oldValue&&Sa(t,e,n)},unbind:function(t){!function(t){ya&&t[va]&&(t[va].destroy(),t[va]=null,delete t[va])}(t)}}},Ta={install:function(t){y(t,Ea)}};v(Ta);var Ca=Ta,ka={install:function(t){if(!t._bootstrap_vue_installed){for(var e in t._bootstrap_vue_installed=!0,r)t.use(r[e]);for(var n in o)t.use(o[n])}}};v(ka);e.a=ka},175:function(t,e,n){var content=n(176);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(4).default)("29755fa6",content,!0,{sourceMap:!1})},176:function(t,e,n){e=t.exports=n(3)(!1);var r=n(90),o=r(n(112)),l=r(n(112)+"?#iefix"),c=r(n(177)),h=r(n(178)),d=r(n(179)),f=r(n(180)+"#glyphicons_halflingsregular");e.push([t.i,'/*!\n * Bootstrap v3.4.0 (https://getbootstrap.com/)\n * Copyright 2011-2018 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n */\n/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}\n/*! Source: https://github.com/h5bp/html5-boilerplate/blob/master/src/css/main.css */@media print{*,:after,:before{color:#000!important;text-shadow:none!important;background:transparent!important;box-shadow:none!important}a,a:visited{text-decoration:underline}a[href]:after{content:" (" attr(href) ")"}abbr[title]:after{content:" (" attr(title) ")"}a[href^="#"]:after,a[href^="javascript:"]:after{content:""}blockquote,pre{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}img,tr{page-break-inside:avoid}img{max-width:100%!important}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}.navbar{display:none}.btn>.caret,.dropup>.btn>.caret{border-top-color:#000!important}.label{border:1px solid #000}.table{border-collapse:collapse!important}.table td,.table th{background-color:#fff!important}.table-bordered td,.table-bordered th{border:1px solid #ddd!important}}@font-face{font-family:Glyphicons Halflings;src:url('+o+");src:url("+l+') format("embedded-opentype"),url('+c+') format("woff2"),url('+h+') format("woff"),url('+d+') format("truetype"),url('+f+') format("svg")}.glyphicon{position:relative;top:1px;display:inline-block;font-family:Glyphicons Halflings;font-style:normal;font-weight:400;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.glyphicon-asterisk:before{content:"\\002a"}.glyphicon-plus:before{content:"\\002b"}.glyphicon-eur:before,.glyphicon-euro:before{content:"\\20ac"}.glyphicon-minus:before{content:"\\2212"}.glyphicon-cloud:before{content:"\\2601"}.glyphicon-envelope:before{content:"\\2709"}.glyphicon-pencil:before{content:"\\270f"}.glyphicon-glass:before{content:"\\e001"}.glyphicon-music:before{content:"\\e002"}.glyphicon-search:before{content:"\\e003"}.glyphicon-heart:before{content:"\\e005"}.glyphicon-star:before{content:"\\e006"}.glyphicon-star-empty:before{content:"\\e007"}.glyphicon-user:before{content:"\\e008"}.glyphicon-film:before{content:"\\e009"}.glyphicon-th-large:before{content:"\\e010"}.glyphicon-th:before{content:"\\e011"}.glyphicon-th-list:before{content:"\\e012"}.glyphicon-ok:before{content:"\\e013"}.glyphicon-remove:before{content:"\\e014"}.glyphicon-zoom-in:before{content:"\\e015"}.glyphicon-zoom-out:before{content:"\\e016"}.glyphicon-off:before{content:"\\e017"}.glyphicon-signal:before{content:"\\e018"}.glyphicon-cog:before{content:"\\e019"}.glyphicon-trash:before{content:"\\e020"}.glyphicon-home:before{content:"\\e021"}.glyphicon-file:before{content:"\\e022"}.glyphicon-time:before{content:"\\e023"}.glyphicon-road:before{content:"\\e024"}.glyphicon-download-alt:before{content:"\\e025"}.glyphicon-download:before{content:"\\e026"}.glyphicon-upload:before{content:"\\e027"}.glyphicon-inbox:before{content:"\\e028"}.glyphicon-play-circle:before{content:"\\e029"}.glyphicon-repeat:before{content:"\\e030"}.glyphicon-refresh:before{content:"\\e031"}.glyphicon-list-alt:before{content:"\\e032"}.glyphicon-lock:before{content:"\\e033"}.glyphicon-flag:before{content:"\\e034"}.glyphicon-headphones:before{content:"\\e035"}.glyphicon-volume-off:before{content:"\\e036"}.glyphicon-volume-down:before{content:"\\e037"}.glyphicon-volume-up:before{content:"\\e038"}.glyphicon-qrcode:before{content:"\\e039"}.glyphicon-barcode:before{content:"\\e040"}.glyphicon-tag:before{content:"\\e041"}.glyphicon-tags:before{content:"\\e042"}.glyphicon-book:before{content:"\\e043"}.glyphicon-bookmark:before{content:"\\e044"}.glyphicon-print:before{content:"\\e045"}.glyphicon-camera:before{content:"\\e046"}.glyphicon-font:before{content:"\\e047"}.glyphicon-bold:before{content:"\\e048"}.glyphicon-italic:before{content:"\\e049"}.glyphicon-text-height:before{content:"\\e050"}.glyphicon-text-width:before{content:"\\e051"}.glyphicon-align-left:before{content:"\\e052"}.glyphicon-align-center:before{content:"\\e053"}.glyphicon-align-right:before{content:"\\e054"}.glyphicon-align-justify:before{content:"\\e055"}.glyphicon-list:before{content:"\\e056"}.glyphicon-indent-left:before{content:"\\e057"}.glyphicon-indent-right:before{content:"\\e058"}.glyphicon-facetime-video:before{content:"\\e059"}.glyphicon-picture:before{content:"\\e060"}.glyphicon-map-marker:before{content:"\\e062"}.glyphicon-adjust:before{content:"\\e063"}.glyphicon-tint:before{content:"\\e064"}.glyphicon-edit:before{content:"\\e065"}.glyphicon-share:before{content:"\\e066"}.glyphicon-check:before{content:"\\e067"}.glyphicon-move:before{content:"\\e068"}.glyphicon-step-backward:before{content:"\\e069"}.glyphicon-fast-backward:before{content:"\\e070"}.glyphicon-backward:before{content:"\\e071"}.glyphicon-play:before{content:"\\e072"}.glyphicon-pause:before{content:"\\e073"}.glyphicon-stop:before{content:"\\e074"}.glyphicon-forward:before{content:"\\e075"}.glyphicon-fast-forward:before{content:"\\e076"}.glyphicon-step-forward:before{content:"\\e077"}.glyphicon-eject:before{content:"\\e078"}.glyphicon-chevron-left:before{content:"\\e079"}.glyphicon-chevron-right:before{content:"\\e080"}.glyphicon-plus-sign:before{content:"\\e081"}.glyphicon-minus-sign:before{content:"\\e082"}.glyphicon-remove-sign:before{content:"\\e083"}.glyphicon-ok-sign:before{content:"\\e084"}.glyphicon-question-sign:before{content:"\\e085"}.glyphicon-info-sign:before{content:"\\e086"}.glyphicon-screenshot:before{content:"\\e087"}.glyphicon-remove-circle:before{content:"\\e088"}.glyphicon-ok-circle:before{content:"\\e089"}.glyphicon-ban-circle:before{content:"\\e090"}.glyphicon-arrow-left:before{content:"\\e091"}.glyphicon-arrow-right:before{content:"\\e092"}.glyphicon-arrow-up:before{content:"\\e093"}.glyphicon-arrow-down:before{content:"\\e094"}.glyphicon-share-alt:before{content:"\\e095"}.glyphicon-resize-full:before{content:"\\e096"}.glyphicon-resize-small:before{content:"\\e097"}.glyphicon-exclamation-sign:before{content:"\\e101"}.glyphicon-gift:before{content:"\\e102"}.glyphicon-leaf:before{content:"\\e103"}.glyphicon-fire:before{content:"\\e104"}.glyphicon-eye-open:before{content:"\\e105"}.glyphicon-eye-close:before{content:"\\e106"}.glyphicon-warning-sign:before{content:"\\e107"}.glyphicon-plane:before{content:"\\e108"}.glyphicon-calendar:before{content:"\\e109"}.glyphicon-random:before{content:"\\e110"}.glyphicon-comment:before{content:"\\e111"}.glyphicon-magnet:before{content:"\\e112"}.glyphicon-chevron-up:before{content:"\\e113"}.glyphicon-chevron-down:before{content:"\\e114"}.glyphicon-retweet:before{content:"\\e115"}.glyphicon-shopping-cart:before{content:"\\e116"}.glyphicon-folder-close:before{content:"\\e117"}.glyphicon-folder-open:before{content:"\\e118"}.glyphicon-resize-vertical:before{content:"\\e119"}.glyphicon-resize-horizontal:before{content:"\\e120"}.glyphicon-hdd:before{content:"\\e121"}.glyphicon-bullhorn:before{content:"\\e122"}.glyphicon-bell:before{content:"\\e123"}.glyphicon-certificate:before{content:"\\e124"}.glyphicon-thumbs-up:before{content:"\\e125"}.glyphicon-thumbs-down:before{content:"\\e126"}.glyphicon-hand-right:before{content:"\\e127"}.glyphicon-hand-left:before{content:"\\e128"}.glyphicon-hand-up:before{content:"\\e129"}.glyphicon-hand-down:before{content:"\\e130"}.glyphicon-circle-arrow-right:before{content:"\\e131"}.glyphicon-circle-arrow-left:before{content:"\\e132"}.glyphicon-circle-arrow-up:before{content:"\\e133"}.glyphicon-circle-arrow-down:before{content:"\\e134"}.glyphicon-globe:before{content:"\\e135"}.glyphicon-wrench:before{content:"\\e136"}.glyphicon-tasks:before{content:"\\e137"}.glyphicon-filter:before{content:"\\e138"}.glyphicon-briefcase:before{content:"\\e139"}.glyphicon-fullscreen:before{content:"\\e140"}.glyphicon-dashboard:before{content:"\\e141"}.glyphicon-paperclip:before{content:"\\e142"}.glyphicon-heart-empty:before{content:"\\e143"}.glyphicon-link:before{content:"\\e144"}.glyphicon-phone:before{content:"\\e145"}.glyphicon-pushpin:before{content:"\\e146"}.glyphicon-usd:before{content:"\\e148"}.glyphicon-gbp:before{content:"\\e149"}.glyphicon-sort:before{content:"\\e150"}.glyphicon-sort-by-alphabet:before{content:"\\e151"}.glyphicon-sort-by-alphabet-alt:before{content:"\\e152"}.glyphicon-sort-by-order:before{content:"\\e153"}.glyphicon-sort-by-order-alt:before{content:"\\e154"}.glyphicon-sort-by-attributes:before{content:"\\e155"}.glyphicon-sort-by-attributes-alt:before{content:"\\e156"}.glyphicon-unchecked:before{content:"\\e157"}.glyphicon-expand:before{content:"\\e158"}.glyphicon-collapse-down:before{content:"\\e159"}.glyphicon-collapse-up:before{content:"\\e160"}.glyphicon-log-in:before{content:"\\e161"}.glyphicon-flash:before{content:"\\e162"}.glyphicon-log-out:before{content:"\\e163"}.glyphicon-new-window:before{content:"\\e164"}.glyphicon-record:before{content:"\\e165"}.glyphicon-save:before{content:"\\e166"}.glyphicon-open:before{content:"\\e167"}.glyphicon-saved:before{content:"\\e168"}.glyphicon-import:before{content:"\\e169"}.glyphicon-export:before{content:"\\e170"}.glyphicon-send:before{content:"\\e171"}.glyphicon-floppy-disk:before{content:"\\e172"}.glyphicon-floppy-saved:before{content:"\\e173"}.glyphicon-floppy-remove:before{content:"\\e174"}.glyphicon-floppy-save:before{content:"\\e175"}.glyphicon-floppy-open:before{content:"\\e176"}.glyphicon-credit-card:before{content:"\\e177"}.glyphicon-transfer:before{content:"\\e178"}.glyphicon-cutlery:before{content:"\\e179"}.glyphicon-header:before{content:"\\e180"}.glyphicon-compressed:before{content:"\\e181"}.glyphicon-earphone:before{content:"\\e182"}.glyphicon-phone-alt:before{content:"\\e183"}.glyphicon-tower:before{content:"\\e184"}.glyphicon-stats:before{content:"\\e185"}.glyphicon-sd-video:before{content:"\\e186"}.glyphicon-hd-video:before{content:"\\e187"}.glyphicon-subtitles:before{content:"\\e188"}.glyphicon-sound-stereo:before{content:"\\e189"}.glyphicon-sound-dolby:before{content:"\\e190"}.glyphicon-sound-5-1:before{content:"\\e191"}.glyphicon-sound-6-1:before{content:"\\e192"}.glyphicon-sound-7-1:before{content:"\\e193"}.glyphicon-copyright-mark:before{content:"\\e194"}.glyphicon-registration-mark:before{content:"\\e195"}.glyphicon-cloud-download:before{content:"\\e197"}.glyphicon-cloud-upload:before{content:"\\e198"}.glyphicon-tree-conifer:before{content:"\\e199"}.glyphicon-tree-deciduous:before{content:"\\e200"}.glyphicon-cd:before{content:"\\e201"}.glyphicon-save-file:before{content:"\\e202"}.glyphicon-open-file:before{content:"\\e203"}.glyphicon-level-up:before{content:"\\e204"}.glyphicon-copy:before{content:"\\e205"}.glyphicon-paste:before{content:"\\e206"}.glyphicon-alert:before{content:"\\e209"}.glyphicon-equalizer:before{content:"\\e210"}.glyphicon-king:before{content:"\\e211"}.glyphicon-queen:before{content:"\\e212"}.glyphicon-pawn:before{content:"\\e213"}.glyphicon-bishop:before{content:"\\e214"}.glyphicon-knight:before{content:"\\e215"}.glyphicon-baby-formula:before{content:"\\e216"}.glyphicon-tent:before{content:"\\26fa"}.glyphicon-blackboard:before{content:"\\e218"}.glyphicon-bed:before{content:"\\e219"}.glyphicon-apple:before{content:"\\f8ff"}.glyphicon-erase:before{content:"\\e221"}.glyphicon-hourglass:before{content:"\\231b"}.glyphicon-lamp:before{content:"\\e223"}.glyphicon-duplicate:before{content:"\\e224"}.glyphicon-piggy-bank:before{content:"\\e225"}.glyphicon-scissors:before{content:"\\e226"}.glyphicon-bitcoin:before,.glyphicon-btc:before,.glyphicon-xbt:before{content:"\\e227"}.glyphicon-jpy:before,.glyphicon-yen:before{content:"\\00a5"}.glyphicon-rub:before,.glyphicon-ruble:before{content:"\\20bd"}.glyphicon-scale:before{content:"\\e230"}.glyphicon-ice-lolly:before{content:"\\e231"}.glyphicon-ice-lolly-tasted:before{content:"\\e232"}.glyphicon-education:before{content:"\\e233"}.glyphicon-option-horizontal:before{content:"\\e234"}.glyphicon-option-vertical:before{content:"\\e235"}.glyphicon-menu-hamburger:before{content:"\\e236"}.glyphicon-modal-window:before{content:"\\e237"}.glyphicon-oil:before{content:"\\e238"}.glyphicon-grain:before{content:"\\e239"}.glyphicon-sunglasses:before{content:"\\e240"}.glyphicon-text-size:before{content:"\\e241"}.glyphicon-text-color:before{content:"\\e242"}.glyphicon-text-background:before{content:"\\e243"}.glyphicon-object-align-top:before{content:"\\e244"}.glyphicon-object-align-bottom:before{content:"\\e245"}.glyphicon-object-align-horizontal:before{content:"\\e246"}.glyphicon-object-align-left:before{content:"\\e247"}.glyphicon-object-align-vertical:before{content:"\\e248"}.glyphicon-object-align-right:before{content:"\\e249"}.glyphicon-triangle-right:before{content:"\\e250"}.glyphicon-triangle-left:before{content:"\\e251"}.glyphicon-triangle-bottom:before{content:"\\e252"}.glyphicon-triangle-top:before{content:"\\e253"}.glyphicon-console:before{content:"\\e254"}.glyphicon-superscript:before{content:"\\e255"}.glyphicon-subscript:before{content:"\\e256"}.glyphicon-menu-left:before{content:"\\e257"}.glyphicon-menu-right:before{content:"\\e258"}.glyphicon-menu-down:before{content:"\\e259"}.glyphicon-menu-up:before{content:"\\e260"}*,:after,:before{box-sizing:border-box}html{font-size:10px;-webkit-tap-highlight-color:rgba(0,0,0,0)}body{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;line-height:1.42857143;color:#333;background-color:#fff}button,input,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit}a{color:#337ab7;text-decoration:none}a:focus,a:hover{color:#23527c;text-decoration:underline}a:focus{outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}figure{margin:0}img{vertical-align:middle}.carousel-inner>.item>a>img,.carousel-inner>.item>img,.img-responsive,.thumbnail>img,.thumbnail a>img{display:block;max-width:100%;height:auto}.img-rounded{border-radius:6px}.img-thumbnail{padding:4px;line-height:1.42857143;background-color:#fff;border:1px solid #ddd;border-radius:4px;transition:all .2s ease-in-out;display:inline-block;max-width:100%;height:auto}.img-circle{border-radius:50%}hr{margin-top:20px;margin-bottom:20px;border:0;border-top:1px solid #eee}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}[role=button]{cursor:pointer}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{font-family:inherit;font-weight:500;line-height:1.1;color:inherit}.h1 .small,.h1 small,.h2 .small,.h2 small,.h3 .small,.h3 small,.h4 .small,.h4 small,.h5 .small,.h5 small,.h6 .small,.h6 small,h1 .small,h1 small,h2 .small,h2 small,h3 .small,h3 small,h4 .small,h4 small,h5 .small,h5 small,h6 .small,h6 small{font-weight:400;line-height:1;color:#777}.h1,.h2,.h3,h1,h2,h3{margin-top:20px;margin-bottom:10px}.h1 .small,.h1 small,.h2 .small,.h2 small,.h3 .small,.h3 small,h1 .small,h1 small,h2 .small,h2 small,h3 .small,h3 small{font-size:65%}.h4,.h5,.h6,h4,h5,h6{margin-top:10px;margin-bottom:10px}.h4 .small,.h4 small,.h5 .small,.h5 small,.h6 .small,.h6 small,h4 .small,h4 small,h5 .small,h5 small,h6 .small,h6 small{font-size:75%}.h1,h1{font-size:36px}.h2,h2{font-size:30px}.h3,h3{font-size:24px}.h4,h4{font-size:18px}.h5,h5{font-size:14px}.h6,h6{font-size:12px}p{margin:0 0 10px}.lead{margin-bottom:20px;font-size:16px;font-weight:300;line-height:1.4}@media (min-width:768px){.lead{font-size:21px}}.small,small{font-size:85%}.mark,mark{padding:.2em;background-color:#fcf8e3}.text-left{text-align:left}.text-right{text-align:right}.text-center{text-align:center}.text-justify{text-align:justify}.text-nowrap{white-space:nowrap}.text-lowercase{text-transform:lowercase}.text-uppercase{text-transform:uppercase}.text-capitalize{text-transform:capitalize}.text-muted{color:#777}.text-primary{color:#337ab7}a.text-primary:focus,a.text-primary:hover{color:#286090}.text-success{color:#3c763d}a.text-success:focus,a.text-success:hover{color:#2b542c}.text-info{color:#31708f}a.text-info:focus,a.text-info:hover{color:#245269}.text-warning{color:#8a6d3b}a.text-warning:focus,a.text-warning:hover{color:#66512c}.text-danger{color:#a94442}a.text-danger:focus,a.text-danger:hover{color:#843534}.bg-primary{color:#fff;background-color:#337ab7}a.bg-primary:focus,a.bg-primary:hover{background-color:#286090}.bg-success{background-color:#dff0d8}a.bg-success:focus,a.bg-success:hover{background-color:#c1e2b3}.bg-info{background-color:#d9edf7}a.bg-info:focus,a.bg-info:hover{background-color:#afd9ee}.bg-warning{background-color:#fcf8e3}a.bg-warning:focus,a.bg-warning:hover{background-color:#f7ecb5}.bg-danger{background-color:#f2dede}a.bg-danger:focus,a.bg-danger:hover{background-color:#e4b9b9}.page-header{padding-bottom:9px;margin:40px 0 20px;border-bottom:1px solid #eee}ol,ul{margin-top:0;margin-bottom:10px}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}.list-inline,.list-unstyled{padding-left:0;list-style:none}.list-inline{margin-left:-5px}.list-inline>li{display:inline-block;padding-right:5px;padding-left:5px}dl{margin-top:0;margin-bottom:20px}dd,dt{line-height:1.42857143}dt{font-weight:700}dd{margin-left:0}@media (min-width:768px){.dl-horizontal dt{float:left;width:160px;clear:left;text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dl-horizontal dd{margin-left:180px}}abbr[data-original-title],abbr[title]{cursor:help}.initialism{font-size:90%;text-transform:uppercase}blockquote{padding:10px 20px;margin:0 0 20px;font-size:17.5px;border-left:5px solid #eee}blockquote ol:last-child,blockquote p:last-child,blockquote ul:last-child{margin-bottom:0}blockquote .small,blockquote footer,blockquote small{display:block;font-size:80%;line-height:1.42857143;color:#777}blockquote .small:before,blockquote footer:before,blockquote small:before{content:"\\2014 \\00A0"}.blockquote-reverse,blockquote.pull-right{padding-right:15px;padding-left:0;text-align:right;border-right:5px solid #eee;border-left:0}.blockquote-reverse .small:before,.blockquote-reverse footer:before,.blockquote-reverse small:before,blockquote.pull-right .small:before,blockquote.pull-right footer:before,blockquote.pull-right small:before{content:""}.blockquote-reverse .small:after,.blockquote-reverse footer:after,.blockquote-reverse small:after,blockquote.pull-right .small:after,blockquote.pull-right footer:after,blockquote.pull-right small:after{content:"\\00A0 \\2014"}address{margin-bottom:20px;font-style:normal;line-height:1.42857143}code,kbd,pre,samp{font-family:Menlo,Monaco,Consolas,Courier New,monospace}code{color:#c7254e;background-color:#f9f2f4;border-radius:4px}code,kbd{padding:2px 4px;font-size:90%}kbd{color:#fff;background-color:#333;border-radius:3px;box-shadow:inset 0 -1px 0 rgba(0,0,0,.25)}kbd kbd{padding:0;font-size:100%;font-weight:700;box-shadow:none}pre{display:block;padding:9.5px;margin:0 0 10px;font-size:13px;line-height:1.42857143;color:#333;word-break:break-all;word-wrap:break-word;background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px}pre code{padding:0;font-size:inherit;color:inherit;white-space:pre-wrap;background-color:transparent;border-radius:0}.pre-scrollable{max-height:340px;overflow-y:scroll}.container{padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media (min-width:768px){.container{width:750px}}@media (min-width:992px){.container{width:970px}}@media (min-width:1200px){.container{width:1170px}}.container-fluid{padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}.row{margin-right:-15px;margin-left:-15px}.row-no-gutters{margin-right:0;margin-left:0}.row-no-gutters [class*=col-]{padding-right:0;padding-left:0}.col-lg-1,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-10,.col-lg-11,.col-lg-12,.col-md-1,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-10,.col-md-11,.col-md-12,.col-sm-1,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-10,.col-sm-11,.col-sm-12,.col-xs-1,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9,.col-xs-10,.col-xs-11,.col-xs-12{position:relative;min-height:1px;padding-right:15px;padding-left:15px}.col-xs-1,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9,.col-xs-10,.col-xs-11,.col-xs-12{float:left}.col-xs-12{width:100%}.col-xs-11{width:91.66666667%}.col-xs-10{width:83.33333333%}.col-xs-9{width:75%}.col-xs-8{width:66.66666667%}.col-xs-7{width:58.33333333%}.col-xs-6{width:50%}.col-xs-5{width:41.66666667%}.col-xs-4{width:33.33333333%}.col-xs-3{width:25%}.col-xs-2{width:16.66666667%}.col-xs-1{width:8.33333333%}.col-xs-pull-12{right:100%}.col-xs-pull-11{right:91.66666667%}.col-xs-pull-10{right:83.33333333%}.col-xs-pull-9{right:75%}.col-xs-pull-8{right:66.66666667%}.col-xs-pull-7{right:58.33333333%}.col-xs-pull-6{right:50%}.col-xs-pull-5{right:41.66666667%}.col-xs-pull-4{right:33.33333333%}.col-xs-pull-3{right:25%}.col-xs-pull-2{right:16.66666667%}.col-xs-pull-1{right:8.33333333%}.col-xs-pull-0{right:auto}.col-xs-push-12{left:100%}.col-xs-push-11{left:91.66666667%}.col-xs-push-10{left:83.33333333%}.col-xs-push-9{left:75%}.col-xs-push-8{left:66.66666667%}.col-xs-push-7{left:58.33333333%}.col-xs-push-6{left:50%}.col-xs-push-5{left:41.66666667%}.col-xs-push-4{left:33.33333333%}.col-xs-push-3{left:25%}.col-xs-push-2{left:16.66666667%}.col-xs-push-1{left:8.33333333%}.col-xs-push-0{left:auto}.col-xs-offset-12{margin-left:100%}.col-xs-offset-11{margin-left:91.66666667%}.col-xs-offset-10{margin-left:83.33333333%}.col-xs-offset-9{margin-left:75%}.col-xs-offset-8{margin-left:66.66666667%}.col-xs-offset-7{margin-left:58.33333333%}.col-xs-offset-6{margin-left:50%}.col-xs-offset-5{margin-left:41.66666667%}.col-xs-offset-4{margin-left:33.33333333%}.col-xs-offset-3{margin-left:25%}.col-xs-offset-2{margin-left:16.66666667%}.col-xs-offset-1{margin-left:8.33333333%}.col-xs-offset-0{margin-left:0}@media (min-width:768px){.col-sm-1,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-10,.col-sm-11,.col-sm-12{float:left}.col-sm-12{width:100%}.col-sm-11{width:91.66666667%}.col-sm-10{width:83.33333333%}.col-sm-9{width:75%}.col-sm-8{width:66.66666667%}.col-sm-7{width:58.33333333%}.col-sm-6{width:50%}.col-sm-5{width:41.66666667%}.col-sm-4{width:33.33333333%}.col-sm-3{width:25%}.col-sm-2{width:16.66666667%}.col-sm-1{width:8.33333333%}.col-sm-pull-12{right:100%}.col-sm-pull-11{right:91.66666667%}.col-sm-pull-10{right:83.33333333%}.col-sm-pull-9{right:75%}.col-sm-pull-8{right:66.66666667%}.col-sm-pull-7{right:58.33333333%}.col-sm-pull-6{right:50%}.col-sm-pull-5{right:41.66666667%}.col-sm-pull-4{right:33.33333333%}.col-sm-pull-3{right:25%}.col-sm-pull-2{right:16.66666667%}.col-sm-pull-1{right:8.33333333%}.col-sm-pull-0{right:auto}.col-sm-push-12{left:100%}.col-sm-push-11{left:91.66666667%}.col-sm-push-10{left:83.33333333%}.col-sm-push-9{left:75%}.col-sm-push-8{left:66.66666667%}.col-sm-push-7{left:58.33333333%}.col-sm-push-6{left:50%}.col-sm-push-5{left:41.66666667%}.col-sm-push-4{left:33.33333333%}.col-sm-push-3{left:25%}.col-sm-push-2{left:16.66666667%}.col-sm-push-1{left:8.33333333%}.col-sm-push-0{left:auto}.col-sm-offset-12{margin-left:100%}.col-sm-offset-11{margin-left:91.66666667%}.col-sm-offset-10{margin-left:83.33333333%}.col-sm-offset-9{margin-left:75%}.col-sm-offset-8{margin-left:66.66666667%}.col-sm-offset-7{margin-left:58.33333333%}.col-sm-offset-6{margin-left:50%}.col-sm-offset-5{margin-left:41.66666667%}.col-sm-offset-4{margin-left:33.33333333%}.col-sm-offset-3{margin-left:25%}.col-sm-offset-2{margin-left:16.66666667%}.col-sm-offset-1{margin-left:8.33333333%}.col-sm-offset-0{margin-left:0}}@media (min-width:992px){.col-md-1,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-10,.col-md-11,.col-md-12{float:left}.col-md-12{width:100%}.col-md-11{width:91.66666667%}.col-md-10{width:83.33333333%}.col-md-9{width:75%}.col-md-8{width:66.66666667%}.col-md-7{width:58.33333333%}.col-md-6{width:50%}.col-md-5{width:41.66666667%}.col-md-4{width:33.33333333%}.col-md-3{width:25%}.col-md-2{width:16.66666667%}.col-md-1{width:8.33333333%}.col-md-pull-12{right:100%}.col-md-pull-11{right:91.66666667%}.col-md-pull-10{right:83.33333333%}.col-md-pull-9{right:75%}.col-md-pull-8{right:66.66666667%}.col-md-pull-7{right:58.33333333%}.col-md-pull-6{right:50%}.col-md-pull-5{right:41.66666667%}.col-md-pull-4{right:33.33333333%}.col-md-pull-3{right:25%}.col-md-pull-2{right:16.66666667%}.col-md-pull-1{right:8.33333333%}.col-md-pull-0{right:auto}.col-md-push-12{left:100%}.col-md-push-11{left:91.66666667%}.col-md-push-10{left:83.33333333%}.col-md-push-9{left:75%}.col-md-push-8{left:66.66666667%}.col-md-push-7{left:58.33333333%}.col-md-push-6{left:50%}.col-md-push-5{left:41.66666667%}.col-md-push-4{left:33.33333333%}.col-md-push-3{left:25%}.col-md-push-2{left:16.66666667%}.col-md-push-1{left:8.33333333%}.col-md-push-0{left:auto}.col-md-offset-12{margin-left:100%}.col-md-offset-11{margin-left:91.66666667%}.col-md-offset-10{margin-left:83.33333333%}.col-md-offset-9{margin-left:75%}.col-md-offset-8{margin-left:66.66666667%}.col-md-offset-7{margin-left:58.33333333%}.col-md-offset-6{margin-left:50%}.col-md-offset-5{margin-left:41.66666667%}.col-md-offset-4{margin-left:33.33333333%}.col-md-offset-3{margin-left:25%}.col-md-offset-2{margin-left:16.66666667%}.col-md-offset-1{margin-left:8.33333333%}.col-md-offset-0{margin-left:0}}@media (min-width:1200px){.col-lg-1,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-10,.col-lg-11,.col-lg-12{float:left}.col-lg-12{width:100%}.col-lg-11{width:91.66666667%}.col-lg-10{width:83.33333333%}.col-lg-9{width:75%}.col-lg-8{width:66.66666667%}.col-lg-7{width:58.33333333%}.col-lg-6{width:50%}.col-lg-5{width:41.66666667%}.col-lg-4{width:33.33333333%}.col-lg-3{width:25%}.col-lg-2{width:16.66666667%}.col-lg-1{width:8.33333333%}.col-lg-pull-12{right:100%}.col-lg-pull-11{right:91.66666667%}.col-lg-pull-10{right:83.33333333%}.col-lg-pull-9{right:75%}.col-lg-pull-8{right:66.66666667%}.col-lg-pull-7{right:58.33333333%}.col-lg-pull-6{right:50%}.col-lg-pull-5{right:41.66666667%}.col-lg-pull-4{right:33.33333333%}.col-lg-pull-3{right:25%}.col-lg-pull-2{right:16.66666667%}.col-lg-pull-1{right:8.33333333%}.col-lg-pull-0{right:auto}.col-lg-push-12{left:100%}.col-lg-push-11{left:91.66666667%}.col-lg-push-10{left:83.33333333%}.col-lg-push-9{left:75%}.col-lg-push-8{left:66.66666667%}.col-lg-push-7{left:58.33333333%}.col-lg-push-6{left:50%}.col-lg-push-5{left:41.66666667%}.col-lg-push-4{left:33.33333333%}.col-lg-push-3{left:25%}.col-lg-push-2{left:16.66666667%}.col-lg-push-1{left:8.33333333%}.col-lg-push-0{left:auto}.col-lg-offset-12{margin-left:100%}.col-lg-offset-11{margin-left:91.66666667%}.col-lg-offset-10{margin-left:83.33333333%}.col-lg-offset-9{margin-left:75%}.col-lg-offset-8{margin-left:66.66666667%}.col-lg-offset-7{margin-left:58.33333333%}.col-lg-offset-6{margin-left:50%}.col-lg-offset-5{margin-left:41.66666667%}.col-lg-offset-4{margin-left:33.33333333%}.col-lg-offset-3{margin-left:25%}.col-lg-offset-2{margin-left:16.66666667%}.col-lg-offset-1{margin-left:8.33333333%}.col-lg-offset-0{margin-left:0}}table{background-color:transparent}table col[class*=col-]{position:static;display:table-column;float:none}table td[class*=col-],table th[class*=col-]{position:static;display:table-cell;float:none}caption{padding-top:8px;padding-bottom:8px;color:#777}caption,th{text-align:left}.table{width:100%;max-width:100%;margin-bottom:20px}.table>tbody>tr>td,.table>tbody>tr>th,.table>tfoot>tr>td,.table>tfoot>tr>th,.table>thead>tr>td,.table>thead>tr>th{padding:8px;line-height:1.42857143;vertical-align:top;border-top:1px solid #ddd}.table>thead>tr>th{vertical-align:bottom;border-bottom:2px solid #ddd}.table>caption+thead>tr:first-child>td,.table>caption+thead>tr:first-child>th,.table>colgroup+thead>tr:first-child>td,.table>colgroup+thead>tr:first-child>th,.table>thead:first-child>tr:first-child>td,.table>thead:first-child>tr:first-child>th{border-top:0}.table>tbody+tbody{border-top:2px solid #ddd}.table .table{background-color:#fff}.table-condensed>tbody>tr>td,.table-condensed>tbody>tr>th,.table-condensed>tfoot>tr>td,.table-condensed>tfoot>tr>th,.table-condensed>thead>tr>td,.table-condensed>thead>tr>th{padding:5px}.table-bordered,.table-bordered>tbody>tr>td,.table-bordered>tbody>tr>th,.table-bordered>tfoot>tr>td,.table-bordered>tfoot>tr>th,.table-bordered>thead>tr>td,.table-bordered>thead>tr>th{border:1px solid #ddd}.table-bordered>thead>tr>td,.table-bordered>thead>tr>th{border-bottom-width:2px}.table-striped>tbody>tr:nth-of-type(odd){background-color:#f9f9f9}.table-hover>tbody>tr:hover,.table>tbody>tr.active>td,.table>tbody>tr.active>th,.table>tbody>tr>td.active,.table>tbody>tr>th.active,.table>tfoot>tr.active>td,.table>tfoot>tr.active>th,.table>tfoot>tr>td.active,.table>tfoot>tr>th.active,.table>thead>tr.active>td,.table>thead>tr.active>th,.table>thead>tr>td.active,.table>thead>tr>th.active{background-color:#f5f5f5}.table-hover>tbody>tr.active:hover>td,.table-hover>tbody>tr.active:hover>th,.table-hover>tbody>tr:hover>.active,.table-hover>tbody>tr>td.active:hover,.table-hover>tbody>tr>th.active:hover{background-color:#e8e8e8}.table>tbody>tr.success>td,.table>tbody>tr.success>th,.table>tbody>tr>td.success,.table>tbody>tr>th.success,.table>tfoot>tr.success>td,.table>tfoot>tr.success>th,.table>tfoot>tr>td.success,.table>tfoot>tr>th.success,.table>thead>tr.success>td,.table>thead>tr.success>th,.table>thead>tr>td.success,.table>thead>tr>th.success{background-color:#dff0d8}.table-hover>tbody>tr.success:hover>td,.table-hover>tbody>tr.success:hover>th,.table-hover>tbody>tr:hover>.success,.table-hover>tbody>tr>td.success:hover,.table-hover>tbody>tr>th.success:hover{background-color:#d0e9c6}.table>tbody>tr.info>td,.table>tbody>tr.info>th,.table>tbody>tr>td.info,.table>tbody>tr>th.info,.table>tfoot>tr.info>td,.table>tfoot>tr.info>th,.table>tfoot>tr>td.info,.table>tfoot>tr>th.info,.table>thead>tr.info>td,.table>thead>tr.info>th,.table>thead>tr>td.info,.table>thead>tr>th.info{background-color:#d9edf7}.table-hover>tbody>tr.info:hover>td,.table-hover>tbody>tr.info:hover>th,.table-hover>tbody>tr:hover>.info,.table-hover>tbody>tr>td.info:hover,.table-hover>tbody>tr>th.info:hover{background-color:#c4e3f3}.table>tbody>tr.warning>td,.table>tbody>tr.warning>th,.table>tbody>tr>td.warning,.table>tbody>tr>th.warning,.table>tfoot>tr.warning>td,.table>tfoot>tr.warning>th,.table>tfoot>tr>td.warning,.table>tfoot>tr>th.warning,.table>thead>tr.warning>td,.table>thead>tr.warning>th,.table>thead>tr>td.warning,.table>thead>tr>th.warning{background-color:#fcf8e3}.table-hover>tbody>tr.warning:hover>td,.table-hover>tbody>tr.warning:hover>th,.table-hover>tbody>tr:hover>.warning,.table-hover>tbody>tr>td.warning:hover,.table-hover>tbody>tr>th.warning:hover{background-color:#faf2cc}.table>tbody>tr.danger>td,.table>tbody>tr.danger>th,.table>tbody>tr>td.danger,.table>tbody>tr>th.danger,.table>tfoot>tr.danger>td,.table>tfoot>tr.danger>th,.table>tfoot>tr>td.danger,.table>tfoot>tr>th.danger,.table>thead>tr.danger>td,.table>thead>tr.danger>th,.table>thead>tr>td.danger,.table>thead>tr>th.danger{background-color:#f2dede}.table-hover>tbody>tr.danger:hover>td,.table-hover>tbody>tr.danger:hover>th,.table-hover>tbody>tr:hover>.danger,.table-hover>tbody>tr>td.danger:hover,.table-hover>tbody>tr>th.danger:hover{background-color:#ebcccc}.table-responsive{min-height:.01%;overflow-x:auto}@media screen and (max-width:767px){.table-responsive{width:100%;margin-bottom:15px;overflow-y:hidden;-ms-overflow-style:-ms-autohiding-scrollbar;border:1px solid #ddd}.table-responsive>.table{margin-bottom:0}.table-responsive>.table>tbody>tr>td,.table-responsive>.table>tbody>tr>th,.table-responsive>.table>tfoot>tr>td,.table-responsive>.table>tfoot>tr>th,.table-responsive>.table>thead>tr>td,.table-responsive>.table>thead>tr>th{white-space:nowrap}.table-responsive>.table-bordered{border:0}.table-responsive>.table-bordered>tbody>tr>td:first-child,.table-responsive>.table-bordered>tbody>tr>th:first-child,.table-responsive>.table-bordered>tfoot>tr>td:first-child,.table-responsive>.table-bordered>tfoot>tr>th:first-child,.table-responsive>.table-bordered>thead>tr>td:first-child,.table-responsive>.table-bordered>thead>tr>th:first-child{border-left:0}.table-responsive>.table-bordered>tbody>tr>td:last-child,.table-responsive>.table-bordered>tbody>tr>th:last-child,.table-responsive>.table-bordered>tfoot>tr>td:last-child,.table-responsive>.table-bordered>tfoot>tr>th:last-child,.table-responsive>.table-bordered>thead>tr>td:last-child,.table-responsive>.table-bordered>thead>tr>th:last-child{border-right:0}.table-responsive>.table-bordered>tbody>tr:last-child>td,.table-responsive>.table-bordered>tbody>tr:last-child>th,.table-responsive>.table-bordered>tfoot>tr:last-child>td,.table-responsive>.table-bordered>tfoot>tr:last-child>th{border-bottom:0}}fieldset{min-width:0;margin:0}fieldset,legend{padding:0;border:0}legend{display:block;width:100%;margin-bottom:20px;font-size:21px;line-height:inherit;color:#333;border-bottom:1px solid #e5e5e5}label{display:inline-block;max-width:100%;margin-bottom:5px;font-weight:700}input[type=search]{box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}input[type=checkbox],input[type=radio]{margin:4px 0 0;margin-top:1px\\9;line-height:normal}fieldset[disabled] input[type=checkbox],fieldset[disabled] input[type=radio],input[type=checkbox].disabled,input[type=checkbox][disabled],input[type=radio].disabled,input[type=radio][disabled]{cursor:not-allowed}input[type=file]{display:block}input[type=range]{display:block;width:100%}select[multiple],select[size]{height:auto}input[type=checkbox]:focus,input[type=file]:focus,input[type=radio]:focus{outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}output{padding-top:7px}.form-control,output{display:block;font-size:14px;line-height:1.42857143;color:#555}.form-control{width:100%;height:34px;padding:6px 12px;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;box-shadow:inset 0 1px 1px rgba(0,0,0,.075);transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-control:focus{border-color:#66afe9;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.form-control::-moz-placeholder{color:#999;opacity:1}.form-control:-ms-input-placeholder{color:#999}.form-control::-webkit-input-placeholder{color:#999}.form-control::-ms-expand{background-color:transparent;border:0}.form-control[disabled],.form-control[readonly],fieldset[disabled] .form-control{background-color:#eee;opacity:1}.form-control[disabled],fieldset[disabled] .form-control{cursor:not-allowed}textarea.form-control{height:auto}@media screen and (-webkit-min-device-pixel-ratio:0){input[type=date].form-control,input[type=datetime-local].form-control,input[type=month].form-control,input[type=time].form-control{line-height:34px}.input-group-sm input[type=date],.input-group-sm input[type=datetime-local],.input-group-sm input[type=month],.input-group-sm input[type=time],input[type=date].input-sm,input[type=datetime-local].input-sm,input[type=month].input-sm,input[type=time].input-sm{line-height:30px}.input-group-lg input[type=date],.input-group-lg input[type=datetime-local],.input-group-lg input[type=month],.input-group-lg input[type=time],input[type=date].input-lg,input[type=datetime-local].input-lg,input[type=month].input-lg,input[type=time].input-lg{line-height:46px}}.form-group{margin-bottom:15px}.checkbox,.radio{position:relative;display:block;margin-top:10px;margin-bottom:10px}.checkbox.disabled label,.radio.disabled label,fieldset[disabled] .checkbox label,fieldset[disabled] .radio label{cursor:not-allowed}.checkbox label,.radio label{min-height:20px;padding-left:20px;margin-bottom:0;font-weight:400;cursor:pointer}.checkbox-inline input[type=checkbox],.checkbox input[type=checkbox],.radio-inline input[type=radio],.radio input[type=radio]{position:absolute;margin-top:4px\\9;margin-left:-20px}.checkbox+.checkbox,.radio+.radio{margin-top:-5px}.checkbox-inline,.radio-inline{position:relative;display:inline-block;padding-left:20px;margin-bottom:0;font-weight:400;vertical-align:middle;cursor:pointer}.checkbox-inline.disabled,.radio-inline.disabled,fieldset[disabled] .checkbox-inline,fieldset[disabled] .radio-inline{cursor:not-allowed}.checkbox-inline+.checkbox-inline,.radio-inline+.radio-inline{margin-top:0;margin-left:10px}.form-control-static{min-height:34px;padding-top:7px;padding-bottom:7px;margin-bottom:0}.form-control-static.input-lg,.form-control-static.input-sm{padding-right:0;padding-left:0}.input-sm{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}select.input-sm{height:30px;line-height:30px}select[multiple].input-sm,textarea.input-sm{height:auto}.form-group-sm .form-control{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}.form-group-sm select.form-control{height:30px;line-height:30px}.form-group-sm select[multiple].form-control,.form-group-sm textarea.form-control{height:auto}.form-group-sm .form-control-static{height:30px;min-height:32px;padding:6px 10px;font-size:12px;line-height:1.5}.input-lg{height:46px;padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}select.input-lg{height:46px;line-height:46px}select[multiple].input-lg,textarea.input-lg{height:auto}.form-group-lg .form-control{height:46px;padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}.form-group-lg select.form-control{height:46px;line-height:46px}.form-group-lg select[multiple].form-control,.form-group-lg textarea.form-control{height:auto}.form-group-lg .form-control-static{height:46px;min-height:38px;padding:11px 16px;font-size:18px;line-height:1.3333333}.has-feedback{position:relative}.has-feedback .form-control{padding-right:42.5px}.form-control-feedback{position:absolute;top:0;right:0;z-index:2;display:block;width:34px;height:34px;line-height:34px;text-align:center;pointer-events:none}.form-group-lg .form-control+.form-control-feedback,.input-group-lg+.form-control-feedback,.input-lg+.form-control-feedback{width:46px;height:46px;line-height:46px}.form-group-sm .form-control+.form-control-feedback,.input-group-sm+.form-control-feedback,.input-sm+.form-control-feedback{width:30px;height:30px;line-height:30px}.has-success .checkbox,.has-success .checkbox-inline,.has-success.checkbox-inline label,.has-success.checkbox label,.has-success .control-label,.has-success .help-block,.has-success .radio,.has-success .radio-inline,.has-success.radio-inline label,.has-success.radio label{color:#3c763d}.has-success .form-control{border-color:#3c763d;box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-success .form-control:focus{border-color:#2b542c;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168}.has-success .input-group-addon{color:#3c763d;background-color:#dff0d8;border-color:#3c763d}.has-success .form-control-feedback{color:#3c763d}.has-warning .checkbox,.has-warning .checkbox-inline,.has-warning.checkbox-inline label,.has-warning.checkbox label,.has-warning .control-label,.has-warning .help-block,.has-warning .radio,.has-warning .radio-inline,.has-warning.radio-inline label,.has-warning.radio label{color:#8a6d3b}.has-warning .form-control{border-color:#8a6d3b;box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-warning .form-control:focus{border-color:#66512c;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b}.has-warning .input-group-addon{color:#8a6d3b;background-color:#fcf8e3;border-color:#8a6d3b}.has-warning .form-control-feedback{color:#8a6d3b}.has-error .checkbox,.has-error .checkbox-inline,.has-error.checkbox-inline label,.has-error.checkbox label,.has-error .control-label,.has-error .help-block,.has-error .radio,.has-error .radio-inline,.has-error.radio-inline label,.has-error.radio label{color:#a94442}.has-error .form-control{border-color:#a94442;box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-error .form-control:focus{border-color:#843534;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483}.has-error .input-group-addon{color:#a94442;background-color:#f2dede;border-color:#a94442}.has-error .form-control-feedback{color:#a94442}.has-feedback label~.form-control-feedback{top:25px}.has-feedback label.sr-only~.form-control-feedback{top:0}.help-block{display:block;margin-top:5px;margin-bottom:10px;color:#737373}@media (min-width:768px){.form-inline .form-group{display:inline-block;margin-bottom:0;vertical-align:middle}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.form-inline .form-control-static{display:inline-block}.form-inline .input-group{display:inline-table;vertical-align:middle}.form-inline .input-group .form-control,.form-inline .input-group .input-group-addon,.form-inline .input-group .input-group-btn{width:auto}.form-inline .input-group>.form-control{width:100%}.form-inline .control-label{margin-bottom:0;vertical-align:middle}.form-inline .checkbox,.form-inline .radio{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.form-inline .checkbox label,.form-inline .radio label{padding-left:0}.form-inline .checkbox input[type=checkbox],.form-inline .radio input[type=radio]{position:relative;margin-left:0}.form-inline .has-feedback .form-control-feedback{top:0}}.form-horizontal .checkbox,.form-horizontal .checkbox-inline,.form-horizontal .radio,.form-horizontal .radio-inline{padding-top:7px;margin-top:0;margin-bottom:0}.form-horizontal .checkbox,.form-horizontal .radio{min-height:27px}.form-horizontal .form-group{margin-right:-15px;margin-left:-15px}@media (min-width:768px){.form-horizontal .control-label{padding-top:7px;margin-bottom:0;text-align:right}}.form-horizontal .has-feedback .form-control-feedback{right:15px}@media (min-width:768px){.form-horizontal .form-group-lg .control-label{padding-top:11px;font-size:18px}}@media (min-width:768px){.form-horizontal .form-group-sm .control-label{padding-top:6px;font-size:12px}}.btn{display:inline-block;margin-bottom:0;font-weight:400;text-align:center;white-space:nowrap;vertical-align:middle;touch-action:manipulation;cursor:pointer;background-image:none;border:1px solid transparent;padding:6px 12px;font-size:14px;line-height:1.42857143;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.btn.active.focus,.btn.active:focus,.btn.focus,.btn:active.focus,.btn:active:focus,.btn:focus{outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.btn.focus,.btn:focus,.btn:hover{color:#333;text-decoration:none}.btn.active,.btn:active{background-image:none;outline:0;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn.disabled,.btn[disabled],fieldset[disabled] .btn{cursor:not-allowed;filter:alpha(opacity=65);opacity:.65;box-shadow:none}a.btn.disabled,fieldset[disabled] a.btn{pointer-events:none}.btn-default{color:#333;background-color:#fff;border-color:#ccc}.btn-default.focus,.btn-default:focus{color:#333;background-color:#e6e6e6;border-color:#8c8c8c}.btn-default:hover{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default.active,.btn-default:active,.open>.dropdown-toggle.btn-default{color:#333;background-color:#e6e6e6;background-image:none;border-color:#adadad}.btn-default.active.focus,.btn-default.active:focus,.btn-default.active:hover,.btn-default:active.focus,.btn-default:active:focus,.btn-default:active:hover,.open>.dropdown-toggle.btn-default.focus,.open>.dropdown-toggle.btn-default:focus,.open>.dropdown-toggle.btn-default:hover{color:#333;background-color:#d4d4d4;border-color:#8c8c8c}.btn-default.disabled.focus,.btn-default.disabled:focus,.btn-default.disabled:hover,.btn-default[disabled].focus,.btn-default[disabled]:focus,.btn-default[disabled]:hover,fieldset[disabled] .btn-default.focus,fieldset[disabled] .btn-default:focus,fieldset[disabled] .btn-default:hover{background-color:#fff;border-color:#ccc}.btn-default .badge{color:#fff;background-color:#333}.btn-primary{color:#fff;background-color:#337ab7;border-color:#2e6da4}.btn-primary.focus,.btn-primary:focus{color:#fff;background-color:#286090;border-color:#122b40}.btn-primary:hover{color:#fff;background-color:#286090;border-color:#204d74}.btn-primary.active,.btn-primary:active,.open>.dropdown-toggle.btn-primary{color:#fff;background-color:#286090;background-image:none;border-color:#204d74}.btn-primary.active.focus,.btn-primary.active:focus,.btn-primary.active:hover,.btn-primary:active.focus,.btn-primary:active:focus,.btn-primary:active:hover,.open>.dropdown-toggle.btn-primary.focus,.open>.dropdown-toggle.btn-primary:focus,.open>.dropdown-toggle.btn-primary:hover{color:#fff;background-color:#204d74;border-color:#122b40}.btn-primary.disabled.focus,.btn-primary.disabled:focus,.btn-primary.disabled:hover,.btn-primary[disabled].focus,.btn-primary[disabled]:focus,.btn-primary[disabled]:hover,fieldset[disabled] .btn-primary.focus,fieldset[disabled] .btn-primary:focus,fieldset[disabled] .btn-primary:hover{background-color:#337ab7;border-color:#2e6da4}.btn-primary .badge{color:#337ab7;background-color:#fff}.btn-success{color:#fff;background-color:#5cb85c;border-color:#4cae4c}.btn-success.focus,.btn-success:focus{color:#fff;background-color:#449d44;border-color:#255625}.btn-success:hover{color:#fff;background-color:#449d44;border-color:#398439}.btn-success.active,.btn-success:active,.open>.dropdown-toggle.btn-success{color:#fff;background-color:#449d44;background-image:none;border-color:#398439}.btn-success.active.focus,.btn-success.active:focus,.btn-success.active:hover,.btn-success:active.focus,.btn-success:active:focus,.btn-success:active:hover,.open>.dropdown-toggle.btn-success.focus,.open>.dropdown-toggle.btn-success:focus,.open>.dropdown-toggle.btn-success:hover{color:#fff;background-color:#398439;border-color:#255625}.btn-success.disabled.focus,.btn-success.disabled:focus,.btn-success.disabled:hover,.btn-success[disabled].focus,.btn-success[disabled]:focus,.btn-success[disabled]:hover,fieldset[disabled] .btn-success.focus,fieldset[disabled] .btn-success:focus,fieldset[disabled] .btn-success:hover{background-color:#5cb85c;border-color:#4cae4c}.btn-success .badge{color:#5cb85c;background-color:#fff}.btn-info{color:#fff;background-color:#5bc0de;border-color:#46b8da}.btn-info.focus,.btn-info:focus{color:#fff;background-color:#31b0d5;border-color:#1b6d85}.btn-info:hover{color:#fff;background-color:#31b0d5;border-color:#269abc}.btn-info.active,.btn-info:active,.open>.dropdown-toggle.btn-info{color:#fff;background-color:#31b0d5;background-image:none;border-color:#269abc}.btn-info.active.focus,.btn-info.active:focus,.btn-info.active:hover,.btn-info:active.focus,.btn-info:active:focus,.btn-info:active:hover,.open>.dropdown-toggle.btn-info.focus,.open>.dropdown-toggle.btn-info:focus,.open>.dropdown-toggle.btn-info:hover{color:#fff;background-color:#269abc;border-color:#1b6d85}.btn-info.disabled.focus,.btn-info.disabled:focus,.btn-info.disabled:hover,.btn-info[disabled].focus,.btn-info[disabled]:focus,.btn-info[disabled]:hover,fieldset[disabled] .btn-info.focus,fieldset[disabled] .btn-info:focus,fieldset[disabled] .btn-info:hover{background-color:#5bc0de;border-color:#46b8da}.btn-info .badge{color:#5bc0de;background-color:#fff}.btn-warning{color:#fff;background-color:#f0ad4e;border-color:#eea236}.btn-warning.focus,.btn-warning:focus{color:#fff;background-color:#ec971f;border-color:#985f0d}.btn-warning:hover{color:#fff;background-color:#ec971f;border-color:#d58512}.btn-warning.active,.btn-warning:active,.open>.dropdown-toggle.btn-warning{color:#fff;background-color:#ec971f;background-image:none;border-color:#d58512}.btn-warning.active.focus,.btn-warning.active:focus,.btn-warning.active:hover,.btn-warning:active.focus,.btn-warning:active:focus,.btn-warning:active:hover,.open>.dropdown-toggle.btn-warning.focus,.open>.dropdown-toggle.btn-warning:focus,.open>.dropdown-toggle.btn-warning:hover{color:#fff;background-color:#d58512;border-color:#985f0d}.btn-warning.disabled.focus,.btn-warning.disabled:focus,.btn-warning.disabled:hover,.btn-warning[disabled].focus,.btn-warning[disabled]:focus,.btn-warning[disabled]:hover,fieldset[disabled] .btn-warning.focus,fieldset[disabled] .btn-warning:focus,fieldset[disabled] .btn-warning:hover{background-color:#f0ad4e;border-color:#eea236}.btn-warning .badge{color:#f0ad4e;background-color:#fff}.btn-danger{color:#fff;background-color:#d9534f;border-color:#d43f3a}.btn-danger.focus,.btn-danger:focus{color:#fff;background-color:#c9302c;border-color:#761c19}.btn-danger:hover{color:#fff;background-color:#c9302c;border-color:#ac2925}.btn-danger.active,.btn-danger:active,.open>.dropdown-toggle.btn-danger{color:#fff;background-color:#c9302c;background-image:none;border-color:#ac2925}.btn-danger.active.focus,.btn-danger.active:focus,.btn-danger.active:hover,.btn-danger:active.focus,.btn-danger:active:focus,.btn-danger:active:hover,.open>.dropdown-toggle.btn-danger.focus,.open>.dropdown-toggle.btn-danger:focus,.open>.dropdown-toggle.btn-danger:hover{color:#fff;background-color:#ac2925;border-color:#761c19}.btn-danger.disabled.focus,.btn-danger.disabled:focus,.btn-danger.disabled:hover,.btn-danger[disabled].focus,.btn-danger[disabled]:focus,.btn-danger[disabled]:hover,fieldset[disabled] .btn-danger.focus,fieldset[disabled] .btn-danger:focus,fieldset[disabled] .btn-danger:hover{background-color:#d9534f;border-color:#d43f3a}.btn-danger .badge{color:#d9534f;background-color:#fff}.btn-link{font-weight:400;color:#337ab7;border-radius:0}.btn-link,.btn-link.active,.btn-link:active,.btn-link[disabled],fieldset[disabled] .btn-link{background-color:transparent;box-shadow:none}.btn-link,.btn-link:active,.btn-link:focus,.btn-link:hover{border-color:transparent}.btn-link:focus,.btn-link:hover{color:#23527c;text-decoration:underline;background-color:transparent}.btn-link[disabled]:focus,.btn-link[disabled]:hover,fieldset[disabled] .btn-link:focus,fieldset[disabled] .btn-link:hover{color:#777;text-decoration:none}.btn-group-lg>.btn,.btn-lg{padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}.btn-group-sm>.btn,.btn-sm{padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}.btn-group-xs>.btn,.btn-xs{padding:1px 5px;font-size:12px;line-height:1.5;border-radius:3px}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:5px}input[type=button].btn-block,input[type=reset].btn-block,input[type=submit].btn-block{width:100%}.fade{opacity:0;transition:opacity .15s linear}.fade.in{opacity:1}.collapse{display:none}.collapse.in{display:block}tr.collapse.in{display:table-row}tbody.collapse.in{display:table-row-group}.collapsing{position:relative;height:0;overflow:hidden;transition-property:height,visibility;transition-duration:.35s;transition-timing-function:ease}.caret{display:inline-block;width:0;height:0;margin-left:2px;vertical-align:middle;border-top:4px dashed;border-top:4px solid\\9;border-right:4px solid transparent;border-left:4px solid transparent}.dropdown,.dropup{position:relative}.dropdown-toggle:focus{outline:0}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:160px;padding:5px 0;margin:2px 0 0;font-size:14px;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid #ccc;border:1px solid rgba(0,0,0,.15);border-radius:4px;box-shadow:0 6px 12px rgba(0,0,0,.175)}.dropdown-menu.pull-right{right:0;left:auto}.dropdown-menu .divider{height:1px;margin:9px 0;overflow:hidden;background-color:#e5e5e5}.dropdown-menu>li>a{display:block;padding:3px 20px;clear:both;font-weight:400;line-height:1.42857143;color:#333;white-space:nowrap}.dropdown-menu>li>a:focus,.dropdown-menu>li>a:hover{color:#262626;text-decoration:none;background-color:#f5f5f5}.dropdown-menu>.active>a,.dropdown-menu>.active>a:focus,.dropdown-menu>.active>a:hover{color:#fff;text-decoration:none;background-color:#337ab7;outline:0}.dropdown-menu>.disabled>a,.dropdown-menu>.disabled>a:focus,.dropdown-menu>.disabled>a:hover{color:#777}.dropdown-menu>.disabled>a:focus,.dropdown-menu>.disabled>a:hover{text-decoration:none;cursor:not-allowed;background-color:transparent;background-image:none;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false)}.open>.dropdown-menu{display:block}.open>a{outline:0}.dropdown-menu-right{right:0;left:auto}.dropdown-menu-left{right:auto;left:0}.dropdown-header{display:block;padding:3px 20px;font-size:12px;line-height:1.42857143;color:#777;white-space:nowrap}.dropdown-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:990}.pull-right>.dropdown-menu{right:0;left:auto}.dropup .caret,.navbar-fixed-bottom .dropdown .caret{content:"";border-top:0;border-bottom:4px dashed;border-bottom:4px solid\\9}.dropup .dropdown-menu,.navbar-fixed-bottom .dropdown .dropdown-menu{top:auto;bottom:100%;margin-bottom:2px}@media (min-width:768px){.navbar-right .dropdown-menu{right:0;left:auto}.navbar-right .dropdown-menu-left{right:auto;left:0}}.btn-group,.btn-group-vertical{position:relative;display:inline-block;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;float:left}.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group-vertical>.btn:hover,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus,.btn-group>.btn:hover{z-index:2}.btn-group .btn+.btn,.btn-group .btn+.btn-group,.btn-group .btn-group+.btn,.btn-group .btn-group+.btn-group{margin-left:-1px}.btn-toolbar{margin-left:-5px}.btn-toolbar .btn,.btn-toolbar .btn-group,.btn-toolbar .input-group{float:left}.btn-toolbar>.btn,.btn-toolbar>.btn-group,.btn-toolbar>.input-group{margin-left:5px}.btn-group>.btn:not(:first-child):not(:last-child):not(.dropdown-toggle){border-radius:0}.btn-group>.btn:first-child{margin-left:0}.btn-group>.btn:first-child:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn:last-child:not(:first-child),.btn-group>.dropdown-toggle:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.btn-group>.btn-group{float:left}.btn-group>.btn-group:not(:first-child):not(:last-child)>.btn{border-radius:0}.btn-group>.btn-group:first-child:not(:last-child)>.btn:last-child,.btn-group>.btn-group:first-child:not(:last-child)>.dropdown-toggle{border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:last-child:not(:first-child)>.btn:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.btn-group .dropdown-toggle:active,.btn-group.open .dropdown-toggle{outline:0}.btn-group>.btn+.dropdown-toggle{padding-right:8px;padding-left:8px}.btn-group>.btn-lg+.dropdown-toggle{padding-right:12px;padding-left:12px}.btn-group.open .dropdown-toggle{box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn-group.open .dropdown-toggle.btn-link{box-shadow:none}.btn .caret{margin-left:0}.btn-lg .caret{border-width:5px 5px 0}.dropup .btn-lg .caret{border-width:0 5px 5px}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group,.btn-group-vertical>.btn-group>.btn{display:block;float:none;width:100%;max-width:100%}.btn-group-vertical>.btn-group>.btn{float:none}.btn-group-vertical>.btn+.btn,.btn-group-vertical>.btn+.btn-group,.btn-group-vertical>.btn-group+.btn,.btn-group-vertical>.btn-group+.btn-group{margin-top:-1px;margin-left:0}.btn-group-vertical>.btn:not(:first-child):not(:last-child){border-radius:0}.btn-group-vertical>.btn:first-child:not(:last-child){border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn:last-child:not(:first-child){border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:4px;border-bottom-left-radius:4px}.btn-group-vertical>.btn-group:not(:first-child):not(:last-child)>.btn{border-radius:0}.btn-group-vertical>.btn-group:first-child:not(:last-child)>.btn:last-child,.btn-group-vertical>.btn-group:first-child:not(:last-child)>.dropdown-toggle{border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:last-child:not(:first-child)>.btn:first-child{border-top-left-radius:0;border-top-right-radius:0}.btn-group-justified{display:table;width:100%;table-layout:fixed;border-collapse:separate}.btn-group-justified>.btn,.btn-group-justified>.btn-group{display:table-cell;float:none;width:1%}.btn-group-justified>.btn-group .btn{width:100%}.btn-group-justified>.btn-group .dropdown-menu{left:auto}[data-toggle=buttons]>.btn-group>.btn input[type=checkbox],[data-toggle=buttons]>.btn-group>.btn input[type=radio],[data-toggle=buttons]>.btn input[type=checkbox],[data-toggle=buttons]>.btn input[type=radio]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.input-group{position:relative;display:table;border-collapse:separate}.input-group[class*=col-]{float:none;padding-right:0;padding-left:0}.input-group .form-control{position:relative;z-index:2;float:left;width:100%;margin-bottom:0}.input-group .form-control:focus{z-index:3}.input-group-lg>.form-control,.input-group-lg>.input-group-addon,.input-group-lg>.input-group-btn>.btn{height:46px;padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}select.input-group-lg>.form-control,select.input-group-lg>.input-group-addon,select.input-group-lg>.input-group-btn>.btn{height:46px;line-height:46px}select[multiple].input-group-lg>.form-control,select[multiple].input-group-lg>.input-group-addon,select[multiple].input-group-lg>.input-group-btn>.btn,textarea.input-group-lg>.form-control,textarea.input-group-lg>.input-group-addon,textarea.input-group-lg>.input-group-btn>.btn{height:auto}.input-group-sm>.form-control,.input-group-sm>.input-group-addon,.input-group-sm>.input-group-btn>.btn{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}select.input-group-sm>.form-control,select.input-group-sm>.input-group-addon,select.input-group-sm>.input-group-btn>.btn{height:30px;line-height:30px}select[multiple].input-group-sm>.form-control,select[multiple].input-group-sm>.input-group-addon,select[multiple].input-group-sm>.input-group-btn>.btn,textarea.input-group-sm>.form-control,textarea.input-group-sm>.input-group-addon,textarea.input-group-sm>.input-group-btn>.btn{height:auto}.input-group-addon,.input-group-btn,.input-group .form-control{display:table-cell}.input-group-addon:not(:first-child):not(:last-child),.input-group-btn:not(:first-child):not(:last-child),.input-group .form-control:not(:first-child):not(:last-child){border-radius:0}.input-group-addon,.input-group-btn{width:1%;white-space:nowrap;vertical-align:middle}.input-group-addon{padding:6px 12px;font-size:14px;font-weight:400;line-height:1;color:#555;text-align:center;background-color:#eee;border:1px solid #ccc;border-radius:4px}.input-group-addon.input-sm{padding:5px 10px;font-size:12px;border-radius:3px}.input-group-addon.input-lg{padding:10px 16px;font-size:18px;border-radius:6px}.input-group-addon input[type=checkbox],.input-group-addon input[type=radio]{margin-top:0}.input-group-addon:first-child,.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group>.btn,.input-group-btn:first-child>.dropdown-toggle,.input-group-btn:last-child>.btn-group:not(:last-child)>.btn,.input-group-btn:last-child>.btn:not(:last-child):not(.dropdown-toggle),.input-group .form-control:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.input-group-addon:first-child{border-right:0}.input-group-addon:last-child,.input-group-btn:first-child>.btn-group:not(:first-child)>.btn,.input-group-btn:first-child>.btn:not(:first-child),.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group>.btn,.input-group-btn:last-child>.dropdown-toggle,.input-group .form-control:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.input-group-addon:last-child{border-left:0}.input-group-btn{font-size:0;white-space:nowrap}.input-group-btn,.input-group-btn>.btn{position:relative}.input-group-btn>.btn+.btn{margin-left:-1px}.input-group-btn>.btn:active,.input-group-btn>.btn:focus,.input-group-btn>.btn:hover{z-index:2}.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group{margin-right:-1px}.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group{z-index:2;margin-left:-1px}.nav{padding-left:0;margin-bottom:0;list-style:none}.nav>li,.nav>li>a{position:relative;display:block}.nav>li>a{padding:10px 15px}.nav>li>a:focus,.nav>li>a:hover{text-decoration:none;background-color:#eee}.nav>li.disabled>a{color:#777}.nav>li.disabled>a:focus,.nav>li.disabled>a:hover{color:#777;text-decoration:none;cursor:not-allowed;background-color:transparent}.nav .open>a,.nav .open>a:focus,.nav .open>a:hover{background-color:#eee;border-color:#337ab7}.nav .nav-divider{height:1px;margin:9px 0;overflow:hidden;background-color:#e5e5e5}.nav>li>a>img{max-width:none}.nav-tabs{border-bottom:1px solid #ddd}.nav-tabs>li{float:left;margin-bottom:-1px}.nav-tabs>li>a{margin-right:2px;line-height:1.42857143;border:1px solid transparent;border-radius:4px 4px 0 0}.nav-tabs>li>a:hover{border-color:#eee #eee #ddd}.nav-tabs>li.active>a,.nav-tabs>li.active>a:focus,.nav-tabs>li.active>a:hover{color:#555;cursor:default;background-color:#fff;border:1px solid;border-color:#ddd #ddd transparent}.nav-tabs.nav-justified{width:100%;border-bottom:0}.nav-tabs.nav-justified>li{float:none}.nav-tabs.nav-justified>li>a{margin-bottom:5px;text-align:center}.nav-tabs.nav-justified>.dropdown .dropdown-menu{top:auto;left:auto}@media (min-width:768px){.nav-tabs.nav-justified>li{display:table-cell;width:1%}.nav-tabs.nav-justified>li>a{margin-bottom:0}}.nav-tabs.nav-justified>li>a{margin-right:0;border-radius:4px}.nav-tabs.nav-justified>.active>a,.nav-tabs.nav-justified>.active>a:focus,.nav-tabs.nav-justified>.active>a:hover{border:1px solid #ddd}@media (min-width:768px){.nav-tabs.nav-justified>li>a{border-bottom:1px solid #ddd;border-radius:4px 4px 0 0}.nav-tabs.nav-justified>.active>a,.nav-tabs.nav-justified>.active>a:focus,.nav-tabs.nav-justified>.active>a:hover{border-bottom-color:#fff}}.nav-pills>li{float:left}.nav-pills>li>a{border-radius:4px}.nav-pills>li+li{margin-left:2px}.nav-pills>li.active>a,.nav-pills>li.active>a:focus,.nav-pills>li.active>a:hover{color:#fff;background-color:#337ab7}.nav-stacked>li{float:none}.nav-stacked>li+li{margin-top:2px;margin-left:0}.nav-justified{width:100%}.nav-justified>li{float:none}.nav-justified>li>a{margin-bottom:5px;text-align:center}.nav-justified>.dropdown .dropdown-menu{top:auto;left:auto}@media (min-width:768px){.nav-justified>li{display:table-cell;width:1%}.nav-justified>li>a{margin-bottom:0}}.nav-tabs-justified{border-bottom:0}.nav-tabs-justified>li>a{margin-right:0;border-radius:4px}.nav-tabs-justified>.active>a,.nav-tabs-justified>.active>a:focus,.nav-tabs-justified>.active>a:hover{border:1px solid #ddd}@media (min-width:768px){.nav-tabs-justified>li>a{border-bottom:1px solid #ddd;border-radius:4px 4px 0 0}.nav-tabs-justified>.active>a,.nav-tabs-justified>.active>a:focus,.nav-tabs-justified>.active>a:hover{border-bottom-color:#fff}}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.nav-tabs .dropdown-menu{margin-top:-1px;border-top-left-radius:0;border-top-right-radius:0}.navbar{position:relative;min-height:50px;margin-bottom:20px;border:1px solid transparent}@media (min-width:768px){.navbar{border-radius:4px}}@media (min-width:768px){.navbar-header{float:left}}.navbar-collapse{padding-right:15px;padding-left:15px;overflow-x:visible;border-top:1px solid transparent;box-shadow:inset 0 1px 0 hsla(0,0%,100%,.1);-webkit-overflow-scrolling:touch}.navbar-collapse.in{overflow-y:auto}@media (min-width:768px){.navbar-collapse{width:auto;border-top:0;box-shadow:none}.navbar-collapse.collapse{display:block!important;height:auto!important;padding-bottom:0;overflow:visible!important}.navbar-collapse.in{overflow-y:visible}.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse,.navbar-static-top .navbar-collapse{padding-right:0;padding-left:0}}.navbar-fixed-bottom,.navbar-fixed-top{position:fixed;right:0;left:0;z-index:1030}.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse{max-height:340px}@media (max-device-width:480px) and (orientation:landscape){.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse{max-height:200px}}@media (min-width:768px){.navbar-fixed-bottom,.navbar-fixed-top{border-radius:0}}.navbar-fixed-top{top:0;border-width:0 0 1px}.navbar-fixed-bottom{bottom:0;margin-bottom:0;border-width:1px 0 0}.container-fluid>.navbar-collapse,.container-fluid>.navbar-header,.container>.navbar-collapse,.container>.navbar-header{margin-right:-15px;margin-left:-15px}@media (min-width:768px){.container-fluid>.navbar-collapse,.container-fluid>.navbar-header,.container>.navbar-collapse,.container>.navbar-header{margin-right:0;margin-left:0}}.navbar-static-top{z-index:1000;border-width:0 0 1px}@media (min-width:768px){.navbar-static-top{border-radius:0}}.navbar-brand{float:left;height:50px;padding:15px;font-size:18px;line-height:20px}.navbar-brand:focus,.navbar-brand:hover{text-decoration:none}.navbar-brand>img{display:block}@media (min-width:768px){.navbar>.container-fluid .navbar-brand,.navbar>.container .navbar-brand{margin-left:-15px}}.navbar-toggle{position:relative;float:right;padding:9px 10px;margin-right:15px;margin-top:8px;margin-bottom:8px;background-color:transparent;background-image:none;border:1px solid transparent;border-radius:4px}.navbar-toggle:focus{outline:0}.navbar-toggle .icon-bar{display:block;width:22px;height:2px;border-radius:1px}.navbar-toggle .icon-bar+.icon-bar{margin-top:4px}@media (min-width:768px){.navbar-toggle{display:none}}.navbar-nav{margin:7.5px -15px}.navbar-nav>li>a{padding-top:10px;padding-bottom:10px;line-height:20px}@media (max-width:767px){.navbar-nav .open .dropdown-menu{position:static;float:none;width:auto;margin-top:0;background-color:transparent;border:0;box-shadow:none}.navbar-nav .open .dropdown-menu .dropdown-header,.navbar-nav .open .dropdown-menu>li>a{padding:5px 15px 5px 25px}.navbar-nav .open .dropdown-menu>li>a{line-height:20px}.navbar-nav .open .dropdown-menu>li>a:focus,.navbar-nav .open .dropdown-menu>li>a:hover{background-image:none}}@media (min-width:768px){.navbar-nav{float:left;margin:0}.navbar-nav>li{float:left}.navbar-nav>li>a{padding-top:15px;padding-bottom:15px}}.navbar-form{padding:10px 15px;border-top:1px solid transparent;border-bottom:1px solid transparent;box-shadow:inset 0 1px 0 hsla(0,0%,100%,.1),0 1px 0 hsla(0,0%,100%,.1);margin:8px -15px}@media (min-width:768px){.navbar-form .form-group{display:inline-block;margin-bottom:0;vertical-align:middle}.navbar-form .form-control{display:inline-block;width:auto;vertical-align:middle}.navbar-form .form-control-static{display:inline-block}.navbar-form .input-group{display:inline-table;vertical-align:middle}.navbar-form .input-group .form-control,.navbar-form .input-group .input-group-addon,.navbar-form .input-group .input-group-btn{width:auto}.navbar-form .input-group>.form-control{width:100%}.navbar-form .control-label{margin-bottom:0;vertical-align:middle}.navbar-form .checkbox,.navbar-form .radio{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.navbar-form .checkbox label,.navbar-form .radio label{padding-left:0}.navbar-form .checkbox input[type=checkbox],.navbar-form .radio input[type=radio]{position:relative;margin-left:0}.navbar-form .has-feedback .form-control-feedback{top:0}}@media (max-width:767px){.navbar-form .form-group{margin-bottom:5px}.navbar-form .form-group:last-child{margin-bottom:0}}@media (min-width:768px){.navbar-form{width:auto;padding-top:0;padding-bottom:0;margin-right:0;margin-left:0;border:0;box-shadow:none}}.navbar-nav>li>.dropdown-menu{margin-top:0;border-top-left-radius:0;border-top-right-radius:0}.navbar-fixed-bottom .navbar-nav>li>.dropdown-menu{margin-bottom:0;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.navbar-btn{margin-top:8px;margin-bottom:8px}.navbar-btn.btn-sm{margin-top:10px;margin-bottom:10px}.navbar-btn.btn-xs{margin-top:14px;margin-bottom:14px}.navbar-text{margin-top:15px;margin-bottom:15px}@media (min-width:768px){.navbar-text{float:left;margin-right:15px;margin-left:15px}}@media (min-width:768px){.navbar-left{float:left!important}.navbar-right{float:right!important;margin-right:-15px}.navbar-right~.navbar-right{margin-right:0}}.navbar-default{background-color:#f8f8f8;border-color:#e7e7e7}.navbar-default .navbar-brand{color:#777}.navbar-default .navbar-brand:focus,.navbar-default .navbar-brand:hover{color:#5e5e5e;background-color:transparent}.navbar-default .navbar-nav>li>a,.navbar-default .navbar-text{color:#777}.navbar-default .navbar-nav>li>a:focus,.navbar-default .navbar-nav>li>a:hover{color:#333;background-color:transparent}.navbar-default .navbar-nav>.active>a,.navbar-default .navbar-nav>.active>a:focus,.navbar-default .navbar-nav>.active>a:hover{color:#555;background-color:#e7e7e7}.navbar-default .navbar-nav>.disabled>a,.navbar-default .navbar-nav>.disabled>a:focus,.navbar-default .navbar-nav>.disabled>a:hover{color:#ccc;background-color:transparent}.navbar-default .navbar-nav>.open>a,.navbar-default .navbar-nav>.open>a:focus,.navbar-default .navbar-nav>.open>a:hover{color:#555;background-color:#e7e7e7}@media (max-width:767px){.navbar-default .navbar-nav .open .dropdown-menu>li>a{color:#777}.navbar-default .navbar-nav .open .dropdown-menu>li>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>li>a:hover{color:#333;background-color:transparent}.navbar-default .navbar-nav .open .dropdown-menu>.active>a,.navbar-default .navbar-nav .open .dropdown-menu>.active>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>.active>a:hover{color:#555;background-color:#e7e7e7}.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a,.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a:hover{color:#ccc;background-color:transparent}}.navbar-default .navbar-toggle{border-color:#ddd}.navbar-default .navbar-toggle:focus,.navbar-default .navbar-toggle:hover{background-color:#ddd}.navbar-default .navbar-toggle .icon-bar{background-color:#888}.navbar-default .navbar-collapse,.navbar-default .navbar-form{border-color:#e7e7e7}.navbar-default .navbar-link{color:#777}.navbar-default .navbar-link:hover{color:#333}.navbar-default .btn-link{color:#777}.navbar-default .btn-link:focus,.navbar-default .btn-link:hover{color:#333}.navbar-default .btn-link[disabled]:focus,.navbar-default .btn-link[disabled]:hover,fieldset[disabled] .navbar-default .btn-link:focus,fieldset[disabled] .navbar-default .btn-link:hover{color:#ccc}.navbar-inverse{background-color:#222;border-color:#080808}.navbar-inverse .navbar-brand{color:#9d9d9d}.navbar-inverse .navbar-brand:focus,.navbar-inverse .navbar-brand:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-nav>li>a,.navbar-inverse .navbar-text{color:#9d9d9d}.navbar-inverse .navbar-nav>li>a:focus,.navbar-inverse .navbar-nav>li>a:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-nav>.active>a,.navbar-inverse .navbar-nav>.active>a:focus,.navbar-inverse .navbar-nav>.active>a:hover{color:#fff;background-color:#080808}.navbar-inverse .navbar-nav>.disabled>a,.navbar-inverse .navbar-nav>.disabled>a:focus,.navbar-inverse .navbar-nav>.disabled>a:hover{color:#444;background-color:transparent}.navbar-inverse .navbar-nav>.open>a,.navbar-inverse .navbar-nav>.open>a:focus,.navbar-inverse .navbar-nav>.open>a:hover{color:#fff;background-color:#080808}@media (max-width:767px){.navbar-inverse .navbar-nav .open .dropdown-menu>.dropdown-header{border-color:#080808}.navbar-inverse .navbar-nav .open .dropdown-menu .divider{background-color:#080808}.navbar-inverse .navbar-nav .open .dropdown-menu>li>a{color:#9d9d9d}.navbar-inverse .navbar-nav .open .dropdown-menu>li>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>li>a:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a,.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:hover{color:#fff;background-color:#080808}.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a,.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:hover{color:#444;background-color:transparent}}.navbar-inverse .navbar-toggle{border-color:#333}.navbar-inverse .navbar-toggle:focus,.navbar-inverse .navbar-toggle:hover{background-color:#333}.navbar-inverse .navbar-toggle .icon-bar{background-color:#fff}.navbar-inverse .navbar-collapse,.navbar-inverse .navbar-form{border-color:#101010}.navbar-inverse .navbar-link{color:#9d9d9d}.navbar-inverse .navbar-link:hover{color:#fff}.navbar-inverse .btn-link{color:#9d9d9d}.navbar-inverse .btn-link:focus,.navbar-inverse .btn-link:hover{color:#fff}.navbar-inverse .btn-link[disabled]:focus,.navbar-inverse .btn-link[disabled]:hover,fieldset[disabled] .navbar-inverse .btn-link:focus,fieldset[disabled] .navbar-inverse .btn-link:hover{color:#444}.breadcrumb{padding:8px 15px;margin-bottom:20px;list-style:none;background-color:#f5f5f5;border-radius:4px}.breadcrumb>li{display:inline-block}.breadcrumb>li+li:before{padding:0 5px;color:#ccc;content:"/\\00a0"}.breadcrumb>.active{color:#777}.pagination{display:inline-block;padding-left:0;margin:20px 0;border-radius:4px}.pagination>li{display:inline}.pagination>li>a,.pagination>li>span{position:relative;float:left;padding:6px 12px;margin-left:-1px;line-height:1.42857143;color:#337ab7;text-decoration:none;background-color:#fff;border:1px solid #ddd}.pagination>li>a:focus,.pagination>li>a:hover,.pagination>li>span:focus,.pagination>li>span:hover{z-index:2;color:#23527c;background-color:#eee;border-color:#ddd}.pagination>li:first-child>a,.pagination>li:first-child>span{margin-left:0;border-top-left-radius:4px;border-bottom-left-radius:4px}.pagination>li:last-child>a,.pagination>li:last-child>span{border-top-right-radius:4px;border-bottom-right-radius:4px}.pagination>.active>a,.pagination>.active>a:focus,.pagination>.active>a:hover,.pagination>.active>span,.pagination>.active>span:focus,.pagination>.active>span:hover{z-index:3;color:#fff;cursor:default;background-color:#337ab7;border-color:#337ab7}.pagination>.disabled>a,.pagination>.disabled>a:focus,.pagination>.disabled>a:hover,.pagination>.disabled>span,.pagination>.disabled>span:focus,.pagination>.disabled>span:hover{color:#777;cursor:not-allowed;background-color:#fff;border-color:#ddd}.pagination-lg>li>a,.pagination-lg>li>span{padding:10px 16px;font-size:18px;line-height:1.3333333}.pagination-lg>li:first-child>a,.pagination-lg>li:first-child>span{border-top-left-radius:6px;border-bottom-left-radius:6px}.pagination-lg>li:last-child>a,.pagination-lg>li:last-child>span{border-top-right-radius:6px;border-bottom-right-radius:6px}.pagination-sm>li>a,.pagination-sm>li>span{padding:5px 10px;font-size:12px;line-height:1.5}.pagination-sm>li:first-child>a,.pagination-sm>li:first-child>span{border-top-left-radius:3px;border-bottom-left-radius:3px}.pagination-sm>li:last-child>a,.pagination-sm>li:last-child>span{border-top-right-radius:3px;border-bottom-right-radius:3px}.pager{padding-left:0;margin:20px 0;text-align:center;list-style:none}.pager li{display:inline}.pager li>a,.pager li>span{display:inline-block;padding:5px 14px;background-color:#fff;border:1px solid #ddd;border-radius:15px}.pager li>a:focus,.pager li>a:hover{text-decoration:none;background-color:#eee}.pager .next>a,.pager .next>span{float:right}.pager .previous>a,.pager .previous>span{float:left}.pager .disabled>a,.pager .disabled>a:focus,.pager .disabled>a:hover,.pager .disabled>span{color:#777;cursor:not-allowed;background-color:#fff}.label{display:inline;padding:.2em .6em .3em;font-size:75%;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25em}a.label:focus,a.label:hover{color:#fff;text-decoration:none;cursor:pointer}.label:empty{display:none}.btn .label{position:relative;top:-1px}.label-default{background-color:#777}.label-default[href]:focus,.label-default[href]:hover{background-color:#5e5e5e}.label-primary{background-color:#337ab7}.label-primary[href]:focus,.label-primary[href]:hover{background-color:#286090}.label-success{background-color:#5cb85c}.label-success[href]:focus,.label-success[href]:hover{background-color:#449d44}.label-info{background-color:#5bc0de}.label-info[href]:focus,.label-info[href]:hover{background-color:#31b0d5}.label-warning{background-color:#f0ad4e}.label-warning[href]:focus,.label-warning[href]:hover{background-color:#ec971f}.label-danger{background-color:#d9534f}.label-danger[href]:focus,.label-danger[href]:hover{background-color:#c9302c}.badge{display:inline-block;min-width:10px;padding:3px 7px;font-size:12px;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:middle;background-color:#777;border-radius:10px}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.btn-group-xs>.btn .badge,.btn-xs .badge{top:0;padding:1px 5px}a.badge:focus,a.badge:hover{color:#fff;text-decoration:none;cursor:pointer}.list-group-item.active>.badge,.nav-pills>.active>a>.badge{color:#337ab7;background-color:#fff}.list-group-item>.badge{float:right}.list-group-item>.badge+.badge{margin-right:5px}.nav-pills>li>a>.badge{margin-left:3px}.jumbotron{padding-top:30px;padding-bottom:30px;margin-bottom:30px;background-color:#eee}.jumbotron,.jumbotron .h1,.jumbotron h1{color:inherit}.jumbotron p{margin-bottom:15px;font-size:21px;font-weight:200}.jumbotron>hr{border-top-color:#d5d5d5}.container-fluid .jumbotron,.container .jumbotron{padding-right:15px;padding-left:15px;border-radius:6px}.jumbotron .container{max-width:100%}@media screen and (min-width:768px){.jumbotron{padding-top:48px;padding-bottom:48px}.container-fluid .jumbotron,.container .jumbotron{padding-right:60px;padding-left:60px}.jumbotron .h1,.jumbotron h1{font-size:63px}}.thumbnail{display:block;padding:4px;margin-bottom:20px;line-height:1.42857143;background-color:#fff;border:1px solid #ddd;border-radius:4px;transition:border .2s ease-in-out}.thumbnail>img,.thumbnail a>img{margin-right:auto;margin-left:auto}a.thumbnail.active,a.thumbnail:focus,a.thumbnail:hover{border-color:#337ab7}.thumbnail .caption{padding:9px;color:#333}.alert{padding:15px;margin-bottom:20px;border:1px solid transparent;border-radius:4px}.alert h4{margin-top:0;color:inherit}.alert .alert-link{font-weight:700}.alert>p,.alert>ul{margin-bottom:0}.alert>p+p{margin-top:5px}.alert-dismissable,.alert-dismissible{padding-right:35px}.alert-dismissable .close,.alert-dismissible .close{position:relative;top:-2px;right:-21px;color:inherit}.alert-success{color:#3c763d;background-color:#dff0d8;border-color:#d6e9c6}.alert-success hr{border-top-color:#c9e2b3}.alert-success .alert-link{color:#2b542c}.alert-info{color:#31708f;background-color:#d9edf7;border-color:#bce8f1}.alert-info hr{border-top-color:#a6e1ec}.alert-info .alert-link{color:#245269}.alert-warning{color:#8a6d3b;background-color:#fcf8e3;border-color:#faebcc}.alert-warning hr{border-top-color:#f7e1b5}.alert-warning .alert-link{color:#66512c}.alert-danger{color:#a94442;background-color:#f2dede;border-color:#ebccd1}.alert-danger hr{border-top-color:#e4b9c0}.alert-danger .alert-link{color:#843534}@-webkit-keyframes progress-bar-stripes{0%{background-position:40px 0}to{background-position:0 0}}@keyframes progress-bar-stripes{0%{background-position:40px 0}to{background-position:0 0}}.progress{height:20px;margin-bottom:20px;overflow:hidden;background-color:#f5f5f5;border-radius:4px;box-shadow:inset 0 1px 2px rgba(0,0,0,.1)}.progress-bar{float:left;width:0;height:100%;font-size:12px;line-height:20px;color:#fff;text-align:center;background-color:#337ab7;box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);transition:width .6s ease}.progress-bar-striped,.progress-striped .progress-bar{background-image:linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent);background-size:40px 40px}.progress-bar.active,.progress.active .progress-bar{-webkit-animation:progress-bar-stripes 2s linear infinite;animation:progress-bar-stripes 2s linear infinite}.progress-bar-success{background-color:#5cb85c}.progress-striped .progress-bar-success{background-image:linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent)}.progress-bar-info{background-color:#5bc0de}.progress-striped .progress-bar-info{background-image:linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent)}.progress-bar-warning{background-color:#f0ad4e}.progress-striped .progress-bar-warning{background-image:linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent)}.progress-bar-danger{background-color:#d9534f}.progress-striped .progress-bar-danger{background-image:linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent)}.media{margin-top:15px}.media:first-child{margin-top:0}.media,.media-body{overflow:hidden;zoom:1}.media-body{width:10000px}.media-object{display:block}.media-object.img-thumbnail{max-width:none}.media-right,.media>.pull-right{padding-left:10px}.media-left,.media>.pull-left{padding-right:10px}.media-body,.media-left,.media-right{display:table-cell;vertical-align:top}.media-middle{vertical-align:middle}.media-bottom{vertical-align:bottom}.media-heading{margin-top:0;margin-bottom:5px}.media-list{padding-left:0;list-style:none}.list-group{padding-left:0;margin-bottom:20px}.list-group-item{position:relative;display:block;padding:10px 15px;margin-bottom:-1px;background-color:#fff;border:1px solid #ddd}.list-group-item:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.list-group-item:last-child{margin-bottom:0;border-bottom-right-radius:4px;border-bottom-left-radius:4px}.list-group-item.disabled,.list-group-item.disabled:focus,.list-group-item.disabled:hover{color:#777;cursor:not-allowed;background-color:#eee}.list-group-item.disabled .list-group-item-heading,.list-group-item.disabled:focus .list-group-item-heading,.list-group-item.disabled:hover .list-group-item-heading{color:inherit}.list-group-item.disabled .list-group-item-text,.list-group-item.disabled:focus .list-group-item-text,.list-group-item.disabled:hover .list-group-item-text{color:#777}.list-group-item.active,.list-group-item.active:focus,.list-group-item.active:hover{z-index:2;color:#fff;background-color:#337ab7;border-color:#337ab7}.list-group-item.active .list-group-item-heading,.list-group-item.active .list-group-item-heading>.small,.list-group-item.active .list-group-item-heading>small,.list-group-item.active:focus .list-group-item-heading,.list-group-item.active:focus .list-group-item-heading>.small,.list-group-item.active:focus .list-group-item-heading>small,.list-group-item.active:hover .list-group-item-heading,.list-group-item.active:hover .list-group-item-heading>.small,.list-group-item.active:hover .list-group-item-heading>small{color:inherit}.list-group-item.active .list-group-item-text,.list-group-item.active:focus .list-group-item-text,.list-group-item.active:hover .list-group-item-text{color:#c7ddef}a.list-group-item,button.list-group-item{color:#555}a.list-group-item .list-group-item-heading,button.list-group-item .list-group-item-heading{color:#333}a.list-group-item:focus,a.list-group-item:hover,button.list-group-item:focus,button.list-group-item:hover{color:#555;text-decoration:none;background-color:#f5f5f5}button.list-group-item{width:100%;text-align:left}.list-group-item-success{color:#3c763d;background-color:#dff0d8}a.list-group-item-success,button.list-group-item-success{color:#3c763d}a.list-group-item-success .list-group-item-heading,button.list-group-item-success .list-group-item-heading{color:inherit}a.list-group-item-success:focus,a.list-group-item-success:hover,button.list-group-item-success:focus,button.list-group-item-success:hover{color:#3c763d;background-color:#d0e9c6}a.list-group-item-success.active,a.list-group-item-success.active:focus,a.list-group-item-success.active:hover,button.list-group-item-success.active,button.list-group-item-success.active:focus,button.list-group-item-success.active:hover{color:#fff;background-color:#3c763d;border-color:#3c763d}.list-group-item-info{color:#31708f;background-color:#d9edf7}a.list-group-item-info,button.list-group-item-info{color:#31708f}a.list-group-item-info .list-group-item-heading,button.list-group-item-info .list-group-item-heading{color:inherit}a.list-group-item-info:focus,a.list-group-item-info:hover,button.list-group-item-info:focus,button.list-group-item-info:hover{color:#31708f;background-color:#c4e3f3}a.list-group-item-info.active,a.list-group-item-info.active:focus,a.list-group-item-info.active:hover,button.list-group-item-info.active,button.list-group-item-info.active:focus,button.list-group-item-info.active:hover{color:#fff;background-color:#31708f;border-color:#31708f}.list-group-item-warning{color:#8a6d3b;background-color:#fcf8e3}a.list-group-item-warning,button.list-group-item-warning{color:#8a6d3b}a.list-group-item-warning .list-group-item-heading,button.list-group-item-warning .list-group-item-heading{color:inherit}a.list-group-item-warning:focus,a.list-group-item-warning:hover,button.list-group-item-warning:focus,button.list-group-item-warning:hover{color:#8a6d3b;background-color:#faf2cc}a.list-group-item-warning.active,a.list-group-item-warning.active:focus,a.list-group-item-warning.active:hover,button.list-group-item-warning.active,button.list-group-item-warning.active:focus,button.list-group-item-warning.active:hover{color:#fff;background-color:#8a6d3b;border-color:#8a6d3b}.list-group-item-danger{color:#a94442;background-color:#f2dede}a.list-group-item-danger,button.list-group-item-danger{color:#a94442}a.list-group-item-danger .list-group-item-heading,button.list-group-item-danger .list-group-item-heading{color:inherit}a.list-group-item-danger:focus,a.list-group-item-danger:hover,button.list-group-item-danger:focus,button.list-group-item-danger:hover{color:#a94442;background-color:#ebcccc}a.list-group-item-danger.active,a.list-group-item-danger.active:focus,a.list-group-item-danger.active:hover,button.list-group-item-danger.active,button.list-group-item-danger.active:focus,button.list-group-item-danger.active:hover{color:#fff;background-color:#a94442;border-color:#a94442}.list-group-item-heading{margin-top:0;margin-bottom:5px}.list-group-item-text{margin-bottom:0;line-height:1.3}.panel{margin-bottom:20px;background-color:#fff;border:1px solid transparent;border-radius:4px;box-shadow:0 1px 1px rgba(0,0,0,.05)}.panel-body{padding:15px}.panel-heading{padding:10px 15px;border-bottom:1px solid transparent;border-top-left-radius:3px;border-top-right-radius:3px}.panel-heading>.dropdown .dropdown-toggle,.panel-title{color:inherit}.panel-title{margin-top:0;margin-bottom:0;font-size:16px}.panel-title>.small,.panel-title>.small>a,.panel-title>a,.panel-title>small,.panel-title>small>a{color:inherit}.panel-footer{padding:10px 15px;background-color:#f5f5f5;border-top:1px solid #ddd;border-bottom-right-radius:3px;border-bottom-left-radius:3px}.panel>.list-group,.panel>.panel-collapse>.list-group{margin-bottom:0}.panel>.list-group .list-group-item,.panel>.panel-collapse>.list-group .list-group-item{border-width:1px 0;border-radius:0}.panel>.list-group:first-child .list-group-item:first-child,.panel>.panel-collapse>.list-group:first-child .list-group-item:first-child{border-top:0;border-top-left-radius:3px;border-top-right-radius:3px}.panel>.list-group:last-child .list-group-item:last-child,.panel>.panel-collapse>.list-group:last-child .list-group-item:last-child{border-bottom:0;border-bottom-right-radius:3px;border-bottom-left-radius:3px}.panel>.panel-heading+.panel-collapse>.list-group .list-group-item:first-child{border-top-left-radius:0;border-top-right-radius:0}.list-group+.panel-footer,.panel-heading+.list-group .list-group-item:first-child{border-top-width:0}.panel>.panel-collapse>.table,.panel>.table,.panel>.table-responsive>.table{margin-bottom:0}.panel>.panel-collapse>.table caption,.panel>.table-responsive>.table caption,.panel>.table caption{padding-right:15px;padding-left:15px}.panel>.table-responsive:first-child>.table:first-child,.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child,.panel>.table:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child,.panel>.table:first-child>thead:first-child>tr:first-child{border-top-left-radius:3px;border-top-right-radius:3px}.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child td:first-child,.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child th:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child td:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child th:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child td:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child th:first-child,.panel>.table:first-child>thead:first-child>tr:first-child td:first-child,.panel>.table:first-child>thead:first-child>tr:first-child th:first-child{border-top-left-radius:3px}.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child td:last-child,.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child th:last-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child td:last-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child th:last-child,.panel>.table:first-child>tbody:first-child>tr:first-child td:last-child,.panel>.table:first-child>tbody:first-child>tr:first-child th:last-child,.panel>.table:first-child>thead:first-child>tr:first-child td:last-child,.panel>.table:first-child>thead:first-child>tr:first-child th:last-child{border-top-right-radius:3px}.panel>.table-responsive:last-child>.table:last-child,.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child,.panel>.table:last-child,.panel>.table:last-child>tbody:last-child>tr:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child{border-bottom-right-radius:3px;border-bottom-left-radius:3px}.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child td:first-child,.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child th:first-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child td:first-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child th:first-child,.panel>.table:last-child>tbody:last-child>tr:last-child td:first-child,.panel>.table:last-child>tbody:last-child>tr:last-child th:first-child,.panel>.table:last-child>tfoot:last-child>tr:last-child td:first-child,.panel>.table:last-child>tfoot:last-child>tr:last-child th:first-child{border-bottom-left-radius:3px}.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child td:last-child,.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child th:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child td:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child th:last-child,.panel>.table:last-child>tbody:last-child>tr:last-child td:last-child,.panel>.table:last-child>tbody:last-child>tr:last-child th:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child td:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child th:last-child{border-bottom-right-radius:3px}.panel>.panel-body+.table,.panel>.panel-body+.table-responsive,.panel>.table+.panel-body,.panel>.table-responsive+.panel-body{border-top:1px solid #ddd}.panel>.table>tbody:first-child>tr:first-child td,.panel>.table>tbody:first-child>tr:first-child th{border-top:0}.panel>.table-bordered,.panel>.table-responsive>.table-bordered{border:0}.panel>.table-bordered>tbody>tr>td:first-child,.panel>.table-bordered>tbody>tr>th:first-child,.panel>.table-bordered>tfoot>tr>td:first-child,.panel>.table-bordered>tfoot>tr>th:first-child,.panel>.table-bordered>thead>tr>td:first-child,.panel>.table-bordered>thead>tr>th:first-child,.panel>.table-responsive>.table-bordered>tbody>tr>td:first-child,.panel>.table-responsive>.table-bordered>tbody>tr>th:first-child,.panel>.table-responsive>.table-bordered>tfoot>tr>td:first-child,.panel>.table-responsive>.table-bordered>tfoot>tr>th:first-child,.panel>.table-responsive>.table-bordered>thead>tr>td:first-child,.panel>.table-responsive>.table-bordered>thead>tr>th:first-child{border-left:0}.panel>.table-bordered>tbody>tr>td:last-child,.panel>.table-bordered>tbody>tr>th:last-child,.panel>.table-bordered>tfoot>tr>td:last-child,.panel>.table-bordered>tfoot>tr>th:last-child,.panel>.table-bordered>thead>tr>td:last-child,.panel>.table-bordered>thead>tr>th:last-child,.panel>.table-responsive>.table-bordered>tbody>tr>td:last-child,.panel>.table-responsive>.table-bordered>tbody>tr>th:last-child,.panel>.table-responsive>.table-bordered>tfoot>tr>td:last-child,.panel>.table-responsive>.table-bordered>tfoot>tr>th:last-child,.panel>.table-responsive>.table-bordered>thead>tr>td:last-child,.panel>.table-responsive>.table-bordered>thead>tr>th:last-child{border-right:0}.panel>.table-bordered>tbody>tr:first-child>td,.panel>.table-bordered>tbody>tr:first-child>th,.panel>.table-bordered>tbody>tr:last-child>td,.panel>.table-bordered>tbody>tr:last-child>th,.panel>.table-bordered>tfoot>tr:last-child>td,.panel>.table-bordered>tfoot>tr:last-child>th,.panel>.table-bordered>thead>tr:first-child>td,.panel>.table-bordered>thead>tr:first-child>th,.panel>.table-responsive>.table-bordered>tbody>tr:first-child>td,.panel>.table-responsive>.table-bordered>tbody>tr:first-child>th,.panel>.table-responsive>.table-bordered>tbody>tr:last-child>td,.panel>.table-responsive>.table-bordered>tbody>tr:last-child>th,.panel>.table-responsive>.table-bordered>tfoot>tr:last-child>td,.panel>.table-responsive>.table-bordered>tfoot>tr:last-child>th,.panel>.table-responsive>.table-bordered>thead>tr:first-child>td,.panel>.table-responsive>.table-bordered>thead>tr:first-child>th{border-bottom:0}.panel>.table-responsive{margin-bottom:0;border:0}.panel-group{margin-bottom:20px}.panel-group .panel{margin-bottom:0;border-radius:4px}.panel-group .panel+.panel{margin-top:5px}.panel-group .panel-heading{border-bottom:0}.panel-group .panel-heading+.panel-collapse>.list-group,.panel-group .panel-heading+.panel-collapse>.panel-body{border-top:1px solid #ddd}.panel-group .panel-footer{border-top:0}.panel-group .panel-footer+.panel-collapse .panel-body{border-bottom:1px solid #ddd}.panel-default{border-color:#ddd}.panel-default>.panel-heading{color:#333;background-color:#f5f5f5;border-color:#ddd}.panel-default>.panel-heading+.panel-collapse>.panel-body{border-top-color:#ddd}.panel-default>.panel-heading .badge{color:#f5f5f5;background-color:#333}.panel-default>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#ddd}.panel-primary{border-color:#337ab7}.panel-primary>.panel-heading{color:#fff;background-color:#337ab7;border-color:#337ab7}.panel-primary>.panel-heading+.panel-collapse>.panel-body{border-top-color:#337ab7}.panel-primary>.panel-heading .badge{color:#337ab7;background-color:#fff}.panel-primary>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#337ab7}.panel-success{border-color:#d6e9c6}.panel-success>.panel-heading{color:#3c763d;background-color:#dff0d8;border-color:#d6e9c6}.panel-success>.panel-heading+.panel-collapse>.panel-body{border-top-color:#d6e9c6}.panel-success>.panel-heading .badge{color:#dff0d8;background-color:#3c763d}.panel-success>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#d6e9c6}.panel-info{border-color:#bce8f1}.panel-info>.panel-heading{color:#31708f;background-color:#d9edf7;border-color:#bce8f1}.panel-info>.panel-heading+.panel-collapse>.panel-body{border-top-color:#bce8f1}.panel-info>.panel-heading .badge{color:#d9edf7;background-color:#31708f}.panel-info>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#bce8f1}.panel-warning{border-color:#faebcc}.panel-warning>.panel-heading{color:#8a6d3b;background-color:#fcf8e3;border-color:#faebcc}.panel-warning>.panel-heading+.panel-collapse>.panel-body{border-top-color:#faebcc}.panel-warning>.panel-heading .badge{color:#fcf8e3;background-color:#8a6d3b}.panel-warning>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#faebcc}.panel-danger{border-color:#ebccd1}.panel-danger>.panel-heading{color:#a94442;background-color:#f2dede;border-color:#ebccd1}.panel-danger>.panel-heading+.panel-collapse>.panel-body{border-top-color:#ebccd1}.panel-danger>.panel-heading .badge{color:#f2dede;background-color:#a94442}.panel-danger>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#ebccd1}.embed-responsive{position:relative;display:block;height:0;padding:0;overflow:hidden}.embed-responsive .embed-responsive-item,.embed-responsive embed,.embed-responsive iframe,.embed-responsive object,.embed-responsive video{position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;border:0}.embed-responsive-16by9{padding-bottom:56.25%}.embed-responsive-4by3{padding-bottom:75%}.well{min-height:20px;padding:19px;margin-bottom:20px;background-color:#f5f5f5;border:1px solid #e3e3e3;border-radius:4px;box-shadow:inset 0 1px 1px rgba(0,0,0,.05)}.well blockquote{border-color:#ddd;border-color:rgba(0,0,0,.15)}.well-lg{padding:24px;border-radius:6px}.well-sm{padding:9px;border-radius:3px}.close{float:right;font-size:21px;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;filter:alpha(opacity=20);opacity:.2}.close:focus,.close:hover{color:#000;text-decoration:none;cursor:pointer;filter:alpha(opacity=50);opacity:.5}button.close{padding:0;cursor:pointer;background:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.modal,.modal-open{overflow:hidden}.modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1050;display:none;-webkit-overflow-scrolling:touch;outline:0}.modal.fade .modal-dialog{-webkit-transform:translateY(-25%);transform:translateY(-25%);transition:-webkit-transform .3s ease-out;transition:transform .3s ease-out;transition:transform .3s ease-out,-webkit-transform .3s ease-out}.modal.in .modal-dialog{-webkit-transform:translate(0);transform:translate(0)}.modal-open .modal{overflow-x:hidden;overflow-y:auto}.modal-dialog{position:relative;width:auto;margin:10px}.modal-content{position:relative;background-color:#fff;background-clip:padding-box;border:1px solid #999;border:1px solid rgba(0,0,0,.2);border-radius:6px;box-shadow:0 3px 9px rgba(0,0,0,.5);outline:0}.modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1040;background-color:#000}.modal-backdrop.fade{filter:alpha(opacity=0);opacity:0}.modal-backdrop.in{filter:alpha(opacity=50);opacity:.5}.modal-header{padding:15px;border-bottom:1px solid #e5e5e5}.modal-header .close{margin-top:-2px}.modal-title{margin:0;line-height:1.42857143}.modal-body{position:relative;padding:15px}.modal-footer{padding:15px;text-align:right;border-top:1px solid #e5e5e5}.modal-footer .btn+.btn{margin-bottom:0;margin-left:5px}.modal-footer .btn-group .btn+.btn{margin-left:-1px}.modal-footer .btn-block+.btn-block{margin-left:0}.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}@media (min-width:768px){.modal-dialog{width:600px;margin:30px auto}.modal-content{box-shadow:0 5px 15px rgba(0,0,0,.5)}.modal-sm{width:300px}}@media (min-width:992px){.modal-lg{width:900px}}[dir=ltr] .tooltip{text-align:left}[dir=rtl] .tooltip{text-align:right}.tooltip{position:absolute;z-index:1070;display:block;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-style:normal;font-weight:400;line-height:1.42857143;line-break:auto;text-align:left;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;word-wrap:normal;white-space:normal;font-size:12px;filter:alpha(opacity=0);opacity:0}.tooltip.in{filter:alpha(opacity=90);opacity:.9}.tooltip.top{padding:5px 0;margin-top:-3px}.tooltip.right{padding:0 5px;margin-left:3px}.tooltip.bottom{padding:5px 0;margin-top:3px}.tooltip.left{padding:0 5px;margin-left:-3px}.tooltip.top .tooltip-arrow{bottom:0;left:50%;margin-left:-5px;border-width:5px 5px 0;border-top-color:#000}.tooltip.top-left .tooltip-arrow{right:5px}.tooltip.top-left .tooltip-arrow,.tooltip.top-right .tooltip-arrow{bottom:0;margin-bottom:-5px;border-width:5px 5px 0;border-top-color:#000}.tooltip.top-right .tooltip-arrow{left:5px}.tooltip.right .tooltip-arrow{top:50%;left:0;margin-top:-5px;border-width:5px 5px 5px 0;border-right-color:#000}.tooltip.left .tooltip-arrow{top:50%;right:0;margin-top:-5px;border-width:5px 0 5px 5px;border-left-color:#000}.tooltip.bottom .tooltip-arrow{top:0;left:50%;margin-left:-5px;border-width:0 5px 5px;border-bottom-color:#000}.tooltip.bottom-left .tooltip-arrow{top:0;right:5px;margin-top:-5px;border-width:0 5px 5px;border-bottom-color:#000}.tooltip.bottom-right .tooltip-arrow{top:0;left:5px;margin-top:-5px;border-width:0 5px 5px;border-bottom-color:#000}.tooltip-inner{max-width:200px;padding:3px 8px;color:#fff;text-align:center;background-color:#000;border-radius:4px}.tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}[dir=ltr] .popover{text-align:left}[dir=rtl] .popover{text-align:right}.popover{position:absolute;top:0;left:0;z-index:1060;display:none;max-width:276px;padding:1px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-style:normal;font-weight:400;line-height:1.42857143;line-break:auto;text-align:left;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;word-wrap:normal;white-space:normal;font-size:14px;background-color:#fff;background-clip:padding-box;border:1px solid #ccc;border:1px solid rgba(0,0,0,.2);border-radius:6px;box-shadow:0 5px 10px rgba(0,0,0,.2)}.popover.top{margin-top:-10px}.popover.right{margin-left:10px}.popover.bottom{margin-top:10px}.popover.left{margin-left:-10px}.popover>.arrow{border-width:11px}.popover>.arrow,.popover>.arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid}.popover>.arrow:after{content:"";border-width:10px}.popover.top>.arrow{bottom:-11px;left:50%;margin-left:-11px;border-top-color:#999;border-top-color:rgba(0,0,0,.25);border-bottom-width:0}.popover.top>.arrow:after{bottom:1px;margin-left:-10px;content:" ";border-top-color:#fff;border-bottom-width:0}.popover.right>.arrow{top:50%;left:-11px;margin-top:-11px;border-right-color:#999;border-right-color:rgba(0,0,0,.25);border-left-width:0}.popover.right>.arrow:after{bottom:-10px;left:1px;content:" ";border-right-color:#fff;border-left-width:0}.popover.bottom>.arrow{top:-11px;left:50%;margin-left:-11px;border-top-width:0;border-bottom-color:#999;border-bottom-color:rgba(0,0,0,.25)}.popover.bottom>.arrow:after{top:1px;margin-left:-10px;content:" ";border-top-width:0;border-bottom-color:#fff}.popover.left>.arrow{top:50%;right:-11px;margin-top:-11px;border-right-width:0;border-left-color:#999;border-left-color:rgba(0,0,0,.25)}.popover.left>.arrow:after{right:1px;bottom:-10px;content:" ";border-right-width:0;border-left-color:#fff}.popover-title{padding:8px 14px;margin:0;font-size:14px;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;border-radius:5px 5px 0 0}.popover-content{padding:9px 14px}.carousel,.carousel-inner{position:relative}.carousel-inner{width:100%;overflow:hidden}.carousel-inner>.item{position:relative;display:none;transition:left .6s ease-in-out}.carousel-inner>.item>a>img,.carousel-inner>.item>img{line-height:1}@media (-webkit-transform-3d),(transform-3d){.carousel-inner>.item{transition:-webkit-transform .6s ease-in-out;transition:transform .6s ease-in-out;transition:transform .6s ease-in-out,-webkit-transform .6s ease-in-out;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-perspective:1000px;perspective:1000px}.carousel-inner>.item.active.right,.carousel-inner>.item.next{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);left:0}.carousel-inner>.item.active.left,.carousel-inner>.item.prev{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);left:0}.carousel-inner>.item.active,.carousel-inner>.item.next.left,.carousel-inner>.item.prev.right{-webkit-transform:translateZ(0);transform:translateZ(0);left:0}}.carousel-inner>.active,.carousel-inner>.next,.carousel-inner>.prev{display:block}.carousel-inner>.active{left:0}.carousel-inner>.next,.carousel-inner>.prev{position:absolute;top:0;width:100%}.carousel-inner>.next{left:100%}.carousel-inner>.prev{left:-100%}.carousel-inner>.next.left,.carousel-inner>.prev.right{left:0}.carousel-inner>.active.left{left:-100%}.carousel-inner>.active.right{left:100%}.carousel-control{position:absolute;top:0;bottom:0;left:0;width:15%;font-size:20px;color:#fff;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,.6);background-color:transparent;filter:alpha(opacity=50);opacity:.5}.carousel-control.left{background-image:linear-gradient(90deg,rgba(0,0,0,.5) 0,rgba(0,0,0,.0001));filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#80000000",endColorstr="#00000000",GradientType=1);background-repeat:repeat-x}.carousel-control.right{right:0;left:auto;background-image:linear-gradient(90deg,rgba(0,0,0,.0001) 0,rgba(0,0,0,.5));filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00000000",endColorstr="#80000000",GradientType=1);background-repeat:repeat-x}.carousel-control:focus,.carousel-control:hover{color:#fff;text-decoration:none;outline:0;filter:alpha(opacity=90);opacity:.9}.carousel-control .glyphicon-chevron-left,.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next,.carousel-control .icon-prev{position:absolute;top:50%;z-index:5;display:inline-block;margin-top:-10px}.carousel-control .glyphicon-chevron-left,.carousel-control .icon-prev{left:50%;margin-left:-10px}.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next{right:50%;margin-right:-10px}.carousel-control .icon-next,.carousel-control .icon-prev{width:20px;height:20px;font-family:serif;line-height:1}.carousel-control .icon-prev:before{content:"\\2039"}.carousel-control .icon-next:before{content:"\\203a"}.carousel-indicators{position:absolute;bottom:10px;left:50%;z-index:15;width:60%;padding-left:0;margin-left:-30%;text-align:center;list-style:none}.carousel-indicators li{display:inline-block;width:10px;height:10px;margin:1px;text-indent:-999px;cursor:pointer;background-color:#000\\9;background-color:transparent;border:1px solid #fff;border-radius:10px}.carousel-indicators .active{width:12px;height:12px;margin:0;background-color:#fff}.carousel-caption{position:absolute;right:15%;bottom:20px;left:15%;z-index:10;padding-top:20px;padding-bottom:20px;color:#fff;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,.6)}.carousel-caption .btn{text-shadow:none}@media screen and (min-width:768px){.carousel-control .glyphicon-chevron-left,.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next,.carousel-control .icon-prev{width:30px;height:30px;margin-top:-10px;font-size:30px}.carousel-control .glyphicon-chevron-left,.carousel-control .icon-prev{margin-left:-10px}.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next{margin-right:-10px}.carousel-caption{right:20%;left:20%;padding-bottom:30px}.carousel-indicators{bottom:20px}}.btn-group-vertical>.btn-group:after,.btn-group-vertical>.btn-group:before,.btn-toolbar:after,.btn-toolbar:before,.clearfix:after,.clearfix:before,.container-fluid:after,.container-fluid:before,.container:after,.container:before,.dl-horizontal dd:after,.dl-horizontal dd:before,.form-horizontal .form-group:after,.form-horizontal .form-group:before,.modal-footer:after,.modal-footer:before,.modal-header:after,.modal-header:before,.nav:after,.nav:before,.navbar-collapse:after,.navbar-collapse:before,.navbar-header:after,.navbar-header:before,.navbar:after,.navbar:before,.pager:after,.pager:before,.panel-body:after,.panel-body:before,.row:after,.row:before{display:table;content:" "}.btn-group-vertical>.btn-group:after,.btn-toolbar:after,.clearfix:after,.container-fluid:after,.container:after,.dl-horizontal dd:after,.form-horizontal .form-group:after,.modal-footer:after,.modal-header:after,.nav:after,.navbar-collapse:after,.navbar-header:after,.navbar:after,.pager:after,.panel-body:after,.row:after{clear:both}.center-block{display:block;margin-right:auto;margin-left:auto}.pull-right{float:right!important}.pull-left{float:left!important}.hide{display:none!important}.show{display:block!important}.invisible{visibility:hidden}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.hidden{display:none!important}.affix{position:fixed}@-ms-viewport{width:device-width}.visible-lg,.visible-lg-block,.visible-lg-inline,.visible-lg-inline-block,.visible-md,.visible-md-block,.visible-md-inline,.visible-md-inline-block,.visible-sm,.visible-sm-block,.visible-sm-inline,.visible-sm-inline-block,.visible-xs,.visible-xs-block,.visible-xs-inline,.visible-xs-inline-block{display:none!important}@media (max-width:767px){.visible-xs{display:block!important}table.visible-xs{display:table!important}tr.visible-xs{display:table-row!important}td.visible-xs,th.visible-xs{display:table-cell!important}}@media (max-width:767px){.visible-xs-block{display:block!important}}@media (max-width:767px){.visible-xs-inline{display:inline!important}}@media (max-width:767px){.visible-xs-inline-block{display:inline-block!important}}@media (min-width:768px) and (max-width:991px){.visible-sm{display:block!important}table.visible-sm{display:table!important}tr.visible-sm{display:table-row!important}td.visible-sm,th.visible-sm{display:table-cell!important}}@media (min-width:768px) and (max-width:991px){.visible-sm-block{display:block!important}}@media (min-width:768px) and (max-width:991px){.visible-sm-inline{display:inline!important}}@media (min-width:768px) and (max-width:991px){.visible-sm-inline-block{display:inline-block!important}}@media (min-width:992px) and (max-width:1199px){.visible-md{display:block!important}table.visible-md{display:table!important}tr.visible-md{display:table-row!important}td.visible-md,th.visible-md{display:table-cell!important}}@media (min-width:992px) and (max-width:1199px){.visible-md-block{display:block!important}}@media (min-width:992px) and (max-width:1199px){.visible-md-inline{display:inline!important}}@media (min-width:992px) and (max-width:1199px){.visible-md-inline-block{display:inline-block!important}}@media (min-width:1200px){.visible-lg{display:block!important}table.visible-lg{display:table!important}tr.visible-lg{display:table-row!important}td.visible-lg,th.visible-lg{display:table-cell!important}}@media (min-width:1200px){.visible-lg-block{display:block!important}}@media (min-width:1200px){.visible-lg-inline{display:inline!important}}@media (min-width:1200px){.visible-lg-inline-block{display:inline-block!important}}@media (max-width:767px){.hidden-xs{display:none!important}}@media (min-width:768px) and (max-width:991px){.hidden-sm{display:none!important}}@media (min-width:992px) and (max-width:1199px){.hidden-md{display:none!important}}@media (min-width:1200px){.hidden-lg{display:none!important}}.visible-print{display:none!important}@media print{.visible-print{display:block!important}table.visible-print{display:table!important}tr.visible-print{display:table-row!important}td.visible-print,th.visible-print{display:table-cell!important}}.visible-print-block{display:none!important}@media print{.visible-print-block{display:block!important}}.visible-print-inline{display:none!important}@media print{.visible-print-inline{display:inline!important}}.visible-print-inline-block{display:none!important}@media print{.visible-print-inline-block{display:inline-block!important}}@media print{.hidden-print{display:none!important}}',""])},177:function(t,e,n){t.exports=n.p+"fonts/448c34a.woff2"},178:function(t,e,n){t.exports=n.p+"fonts/fa27723.woff"},179:function(t,e,n){t.exports=n.p+"fonts/e18bbf6.ttf"},180:function(t,e,n){t.exports=n.p+"img/8988968.svg"},20:function(t,e,n){"use strict";(function(t){for(var n="undefined"!=typeof window&&"undefined"!=typeof document,r=["Edge","Trident","Firefox"],o=0,i=0;i<r.length;i+=1)if(n&&navigator.userAgent.indexOf(r[i])>=0){o=1;break}var l=n&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},o))}};function c(t){return t&&"[object Function]"==={}.toString.call(t)}function h(element,t){if(1!==element.nodeType)return[];var e=getComputedStyle(element,null);return t?e[t]:e}function d(element){return"HTML"===element.nodeName?element:element.parentNode||element.host}function f(element){if(!element)return document.body;switch(element.nodeName){case"HTML":case"BODY":return element.ownerDocument.body;case"#document":return element.body}var t=h(element),e=t.overflow,n=t.overflowX,r=t.overflowY;return/(auto|scroll|overlay)/.test(e+r+n)?element:f(d(element))}var m=n&&!(!window.MSInputMethodContext||!document.documentMode),y=n&&/MSIE 10/.test(navigator.userAgent);function v(t){return 11===t?m:10===t?y:m||y}function w(element){if(!element)return document.documentElement;for(var t=v(10)?document.body:null,e=element.offsetParent;e===t&&element.nextElementSibling;)e=(element=element.nextElementSibling).offsetParent;var n=e&&e.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TD","TABLE"].indexOf(e.nodeName)&&"static"===h(e,"position")?w(e):e:element?element.ownerDocument.documentElement:document.documentElement}function _(t){return null!==t.parentNode?_(t.parentNode):t}function S(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,o=n?e:t,l=document.createRange();l.setStart(r,0),l.setEnd(o,0);var element,c,h=l.commonAncestorContainer;if(t!==h&&e!==h||r.contains(o))return"BODY"===(c=(element=h).nodeName)||"HTML"!==c&&w(element.firstElementChild)!==element?w(h):h;var d=_(t);return d.host?S(d.host,e):S(t,_(e).host)}function E(element){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",e=element.nodeName;if("BODY"===e||"HTML"===e){var html=element.ownerDocument.documentElement;return(element.ownerDocument.scrollingElement||html)[t]}return element[t]}function T(t,e){var n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+r+"Width"],10)}function C(t,body,html,e){return Math.max(body["offset"+t],body["scroll"+t],html["client"+t],html["offset"+t],html["scroll"+t],v(10)?parseInt(html["offset"+t])+parseInt(e["margin"+("Height"===t?"Top":"Left")])+parseInt(e["margin"+("Height"===t?"Bottom":"Right")]):0)}function k(t){var body=t.body,html=t.documentElement,e=v(10)&&getComputedStyle(html);return{height:C("Height",body,html,e),width:C("Width",body,html,e)}}var x=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},I=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),N=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},D=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var e in source)Object.prototype.hasOwnProperty.call(source,e)&&(t[e]=source[e])}return t};function A(t){return D({},t,{right:t.left+t.width,bottom:t.top+t.height})}function O(element){var rect={};try{if(v(10)){rect=element.getBoundingClientRect();var t=E(element,"top"),e=E(element,"left");rect.top+=t,rect.left+=e,rect.bottom+=t,rect.right+=e}else rect=element.getBoundingClientRect()}catch(t){}var n={left:rect.left,top:rect.top,width:rect.right-rect.left,height:rect.bottom-rect.top},r="HTML"===element.nodeName?k(element.ownerDocument):{},o=r.width||element.clientWidth||n.right-n.left,l=r.height||element.clientHeight||n.bottom-n.top,c=element.offsetWidth-o,d=element.offsetHeight-l;if(c||d){var f=h(element);c-=T(f,"x"),d-=T(f,"y"),n.width-=c,n.height-=d}return A(n)}function P(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=v(10),o="HTML"===e.nodeName,l=O(t),c=O(e),d=f(t),m=h(e),y=parseFloat(m.borderTopWidth,10),w=parseFloat(m.borderLeftWidth,10);n&&o&&(c.top=Math.max(c.top,0),c.left=Math.max(c.left,0));var _=A({top:l.top-c.top-y,left:l.left-c.left-w,width:l.width,height:l.height});if(_.marginTop=0,_.marginLeft=0,!r&&o){var S=parseFloat(m.marginTop,10),T=parseFloat(m.marginLeft,10);_.top-=y-S,_.bottom-=y-S,_.left-=w-T,_.right-=w-T,_.marginTop=S,_.marginLeft=T}return(r&&!n?e.contains(d):e===d&&"BODY"!==d.nodeName)&&(_=function(rect,element){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],e=E(element,"top"),n=E(element,"left"),r=t?-1:1;return rect.top+=e*r,rect.bottom+=e*r,rect.left+=n*r,rect.right+=n*r,rect}(_,e)),_}function R(element){if(!element||!element.parentElement||v())return document.documentElement;for(var t=element.parentElement;t&&"none"===h(t,"transform");)t=t.parentElement;return t||document.documentElement}function L(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l={top:0,left:0},c=o?R(t):S(t,e);if("viewport"===r)l=function(element){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],html=element.ownerDocument.documentElement,e=P(element,html),n=Math.max(html.clientWidth,window.innerWidth||0),r=Math.max(html.clientHeight,window.innerHeight||0),o=t?0:E(html),l=t?0:E(html,"left");return A({top:o-e.top+e.marginTop,left:l-e.left+e.marginLeft,width:n,height:r})}(c,o);else{var m=void 0;"scrollParent"===r?"BODY"===(m=f(d(e))).nodeName&&(m=t.ownerDocument.documentElement):m="window"===r?t.ownerDocument.documentElement:r;var y=P(m,c,o);if("HTML"!==m.nodeName||function t(element){var e=element.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===h(element,"position")||t(d(element)))}(c))l=y;else{var v=k(t.ownerDocument),w=v.height,_=v.width;l.top+=y.top-y.marginTop,l.bottom=w+y.top,l.left+=y.left-y.marginLeft,l.right=_+y.left}}var T="number"==typeof(n=n||0);return l.left+=T?n:n.left||0,l.top+=T?n:n.top||0,l.right-=T?n:n.right||0,l.bottom-=T?n:n.bottom||0,l}function M(t,e,n,r,o){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var c=L(n,r,l,o),h={top:{width:c.width,height:e.top-c.top},right:{width:c.right-e.right,height:c.height},bottom:{width:c.width,height:c.bottom-e.bottom},left:{width:e.left-c.left,height:c.height}},d=Object.keys(h).map(function(t){return D({key:t},h[t],{area:(e=h[t],e.width*e.height)});var e}).sort(function(a,b){return b.area-a.area}),f=d.filter(function(t){var e=t.width,r=t.height;return e>=n.clientWidth&&r>=n.clientHeight}),m=f.length>0?f[0].key:d[0].key,y=t.split("-")[1];return m+(y?"-"+y:"")}function F(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return P(n,r?R(e):S(e,n),r)}function B(element){var t=getComputedStyle(element),e=parseFloat(t.marginTop)+parseFloat(t.marginBottom),n=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:element.offsetWidth+n,height:element.offsetHeight+e}}function V(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function j(t,e,n){n=n.split("-")[0];var r=B(t),o={width:r.width,height:r.height},l=-1!==["right","left"].indexOf(n),c=l?"top":"left",h=l?"left":"top",d=l?"height":"width",f=l?"width":"height";return o[c]=e[c]+e[d]/2-r[d]/2,o[h]=n===h?e[h]-r[f]:e[V(h)],o}function U(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function W(t,data,e){return(void 0===e?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var r=U(t,function(t){return t[e]===n});return t.indexOf(r)}(t,"name",e))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var e=t.function||t.fn;t.enabled&&c(e)&&(data.offsets.popper=A(data.offsets.popper),data.offsets.reference=A(data.offsets.reference),data=e(data,t))}),data}function $(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function z(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if(void 0!==document.body.style[o])return o}return null}function H(element){var t=element.ownerDocument;return t?t.defaultView:window}function K(t,e,n,r){n.updateBound=r,H(t).addEventListener("resize",n.updateBound,{passive:!0});var o=f(t);return function t(e,n,r,o){var l="BODY"===e.nodeName,c=l?e.ownerDocument.defaultView:e;c.addEventListener(n,r,{passive:!0}),l||t(f(c.parentNode),n,r,o),o.push(c)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function Q(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,H(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function G(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function Y(element,t){Object.keys(t).forEach(function(e){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&G(t[e])&&(n="px"),element.style[e]=t[e]+n})}function X(t,e,n){var r=U(t,function(t){return t.name===e}),o=!!r&&t.some(function(t){return t.name===n&&t.enabled&&t.order<r.order});if(!o){var l="`"+e+"`",c="`"+n+"`";console.warn(c+" modifier is required by "+l+" modifier in order to work, be sure to include it before "+l+"!")}return o}var J=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Z=J.slice(3);function tt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Z.indexOf(t),r=Z.slice(n+1).concat(Z.slice(0,n));return e?r.reverse():r}var et={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function nt(t,e,n,r){var o=[0,0],l=-1!==["right","left"].indexOf(r),c=t.split(/(\+|\-)/).map(function(t){return t.trim()}),h=c.indexOf(U(c,function(t){return-1!==t.search(/,|\s/)}));c[h]&&-1===c[h].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var d=/\s*,\s*|\s+/,f=-1!==h?[c.slice(0,h).concat([c[h].split(d)[0]]),[c[h].split(d)[1]].concat(c.slice(h+1))]:[c];return(f=f.map(function(t,r){var o=(1===r?!l:l)?"height":"width",c=!1;return t.reduce(function(a,b){return""===a[a.length-1]&&-1!==["+","-"].indexOf(b)?(a[a.length-1]=b,c=!0,a):c?(a[a.length-1]+=b,c=!1,a):a.concat(b)},[]).map(function(t){return function(t,e,n,r){var o=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),l=+o[1],c=o[2];if(!l)return t;if(0===c.indexOf("%")){var element=void 0;switch(c){case"%p":element=n;break;case"%":case"%r":default:element=r}return A(element)[e]/100*l}if("vh"===c||"vw"===c)return("vh"===c?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*l;return l}(t,o,e,n)})})).forEach(function(t,e){t.forEach(function(n,r){G(n)&&(o[e]+=n*("-"===t[r-1]?-1:1))})}),o}var it={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(data){var t=data.placement,e=t.split("-")[0],n=t.split("-")[1];if(n){var r=data.offsets,o=r.reference,l=r.popper,c=-1!==["bottom","top"].indexOf(e),h=c?"left":"top",d=c?"width":"height",f={start:N({},h,o[h]),end:N({},h,o[h]+o[d]-l[d])};data.offsets.popper=D({},l,f[n])}return data}},offset:{order:200,enabled:!0,fn:function(data,t){var e=t.offset,n=data.placement,r=data.offsets,o=r.popper,l=r.reference,c=n.split("-")[0],h=void 0;return h=G(+e)?[+e,0]:nt(e,o,l,c),"left"===c?(o.top+=h[0],o.left-=h[1]):"right"===c?(o.top+=h[0],o.left+=h[1]):"top"===c?(o.left+=h[0],o.top-=h[1]):"bottom"===c&&(o.left+=h[0],o.top+=h[1]),data.popper=o,data},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(data,t){var e=t.boundariesElement||w(data.instance.popper);data.instance.reference===e&&(e=w(e));var n=z("transform"),r=data.instance.popper.style,o=r.top,l=r.left,c=r[n];r.top="",r.left="",r[n]="";var h=L(data.instance.popper,data.instance.reference,t.padding,e,data.positionFixed);r.top=o,r.left=l,r[n]=c,t.boundaries=h;var d=t.priority,f=data.offsets.popper,m={primary:function(e){var n=f[e];return f[e]<h[e]&&!t.escapeWithReference&&(n=Math.max(f[e],h[e])),N({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=f[n];return f[e]>h[e]&&!t.escapeWithReference&&(r=Math.min(f[n],h[e]-("right"===e?f.width:f.height))),N({},n,r)}};return d.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";f=D({},f,m[e](t))}),data.offsets.popper=f,data},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(data){var t=data.offsets,e=t.popper,n=t.reference,r=data.placement.split("-")[0],o=Math.floor,l=-1!==["top","bottom"].indexOf(r),c=l?"right":"bottom",h=l?"left":"top",d=l?"width":"height";return e[c]<o(n[h])&&(data.offsets.popper[h]=o(n[h])-e[d]),e[h]>o(n[c])&&(data.offsets.popper[h]=o(n[c])),data}},arrow:{order:500,enabled:!0,fn:function(data,t){var e;if(!X(data.instance.modifiers,"arrow","keepTogether"))return data;var n=t.element;if("string"==typeof n){if(!(n=data.instance.popper.querySelector(n)))return data}else if(!data.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),data;var r=data.placement.split("-")[0],o=data.offsets,l=o.popper,c=o.reference,d=-1!==["left","right"].indexOf(r),f=d?"height":"width",m=d?"Top":"Left",y=m.toLowerCase(),v=d?"left":"top",w=d?"bottom":"right",_=B(n)[f];c[w]-_<l[y]&&(data.offsets.popper[y]-=l[y]-(c[w]-_)),c[y]+_>l[w]&&(data.offsets.popper[y]+=c[y]+_-l[w]),data.offsets.popper=A(data.offsets.popper);var S=c[y]+c[f]/2-_/2,E=h(data.instance.popper),T=parseFloat(E["margin"+m],10),C=parseFloat(E["border"+m+"Width"],10),k=S-data.offsets.popper[y]-T-C;return k=Math.max(Math.min(l[f]-_,k),0),data.arrowElement=n,data.offsets.arrow=(N(e={},y,Math.round(k)),N(e,v,""),e),data},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(data,t){if($(data.instance.modifiers,"inner"))return data;if(data.flipped&&data.placement===data.originalPlacement)return data;var e=L(data.instance.popper,data.instance.reference,t.padding,t.boundariesElement,data.positionFixed),n=data.placement.split("-")[0],r=V(n),o=data.placement.split("-")[1]||"",l=[];switch(t.behavior){case et.FLIP:l=[n,r];break;case et.CLOCKWISE:l=tt(n);break;case et.COUNTERCLOCKWISE:l=tt(n,!0);break;default:l=t.behavior}return l.forEach(function(c,h){if(n!==c||l.length===h+1)return data;n=data.placement.split("-")[0],r=V(n);var d=data.offsets.popper,f=data.offsets.reference,m=Math.floor,y="left"===n&&m(d.right)>m(f.left)||"right"===n&&m(d.left)<m(f.right)||"top"===n&&m(d.bottom)>m(f.top)||"bottom"===n&&m(d.top)<m(f.bottom),v=m(d.left)<m(e.left),w=m(d.right)>m(e.right),_=m(d.top)<m(e.top),S=m(d.bottom)>m(e.bottom),E="left"===n&&v||"right"===n&&w||"top"===n&&_||"bottom"===n&&S,T=-1!==["top","bottom"].indexOf(n),C=!!t.flipVariations&&(T&&"start"===o&&v||T&&"end"===o&&w||!T&&"start"===o&&_||!T&&"end"===o&&S);(y||E||C)&&(data.flipped=!0,(y||E)&&(n=l[h+1]),C&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),data.placement=n+(o?"-"+o:""),data.offsets.popper=D({},data.offsets.popper,j(data.instance.popper,data.offsets.reference,data.placement)),data=W(data.instance.modifiers,data,"flip"))}),data},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(data){var t=data.placement,e=t.split("-")[0],n=data.offsets,r=n.popper,o=n.reference,l=-1!==["left","right"].indexOf(e),c=-1===["top","left"].indexOf(e);return r[l?"left":"top"]=o[e]-(c?r[l?"width":"height"]:0),data.placement=V(t),data.offsets.popper=A(r),data}},hide:{order:800,enabled:!0,fn:function(data){if(!X(data.instance.modifiers,"hide","preventOverflow"))return data;var t=data.offsets.reference,e=U(data.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(t.bottom<e.top||t.left>e.right||t.top>e.bottom||t.right<e.left){if(!0===data.hide)return data;data.hide=!0,data.attributes["x-out-of-boundaries"]=""}else{if(!1===data.hide)return data;data.hide=!1,data.attributes["x-out-of-boundaries"]=!1}return data}},computeStyle:{order:850,enabled:!0,fn:function(data,t){var e=t.x,n=t.y,r=data.offsets.popper,o=U(data.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var l=void 0!==o?o:t.gpuAcceleration,c=w(data.instance.popper),h=O(c),d={position:r.position},f={left:Math.floor(r.left),top:Math.round(r.top),bottom:Math.round(r.bottom),right:Math.floor(r.right)},m="bottom"===e?"top":"bottom",y="right"===n?"left":"right",v=z("transform"),_=void 0,S=void 0;if(S="bottom"===m?"HTML"===c.nodeName?-c.clientHeight+f.bottom:-h.height+f.bottom:f.top,_="right"===y?"HTML"===c.nodeName?-c.clientWidth+f.right:-h.width+f.right:f.left,l&&v)d[v]="translate3d("+_+"px, "+S+"px, 0)",d[m]=0,d[y]=0,d.willChange="transform";else{var E="bottom"===m?-1:1,T="right"===y?-1:1;d[m]=S*E,d[y]=_*T,d.willChange=m+", "+y}var C={"x-placement":data.placement};return data.attributes=D({},C,data.attributes),data.styles=D({},d,data.styles),data.arrowStyles=D({},data.offsets.arrow,data.arrowStyles),data},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(data){var element,t;return Y(data.instance.popper,data.styles),element=data.instance.popper,t=data.attributes,Object.keys(t).forEach(function(e){!1!==t[e]?element.setAttribute(e,t[e]):element.removeAttribute(e)}),data.arrowElement&&Object.keys(data.arrowStyles).length&&Y(data.arrowElement,data.arrowStyles),data},onLoad:function(t,e,n,r,o){var l=F(o,e,t,n.positionFixed),c=M(n.placement,l,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",c),Y(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},ot=function(){function t(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};x(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=l(this.update.bind(this)),this.options=D({},t.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(D({},t.Defaults.modifiers,o.modifiers)).forEach(function(e){r.options.modifiers[e]=D({},t.Defaults.modifiers[e]||{},o.modifiers?o.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return D({name:t},r.options.modifiers[t])}).sort(function(a,b){return a.order-b.order}),this.modifiers.forEach(function(t){t.enabled&&c(t.onLoad)&&t.onLoad(r.reference,r.popper,r.options,t,r.state)}),this.update();var h=this.options.eventsEnabled;h&&this.enableEventListeners(),this.state.eventsEnabled=h}return I(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var data={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};data.offsets.reference=F(this.state,this.popper,this.reference,this.options.positionFixed),data.placement=M(this.options.placement,data.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),data.originalPlacement=data.placement,data.positionFixed=this.options.positionFixed,data.offsets.popper=j(this.popper,data.offsets.reference,data.placement),data.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",data=W(this.modifiers,data),this.state.isCreated?this.options.onUpdate(data):(this.state.isCreated=!0,this.options.onCreate(data))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,$(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[z("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=K(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return Q.call(this)}}]),t}();ot.Utils=("undefined"!=typeof window?window:t).PopperUtils,ot.placements=J,ot.Defaults=it,e.a=ot}).call(this,n(15))},256:function(t,e,n){var content=n(257);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(4).default)("388d995e",content,!0,{sourceMap:!1})},257:function(t,e,n){(t.exports=n(3)(!1)).push([t.i,".fade-enter-active,.fade-leave-active{transition:opacity .15s linear}.fade-enter,.fade-leave-to{opacity:0}",""])},258:function(t,e,n){var content=n(259);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(4).default)("72eca0f3",content,!0,{sourceMap:!1})},259:function(t,e,n){(t.exports=n(3)(!1)).push([t.i,".input-group>.input-group-append:last-child>.b-dropdown:not(:last-child):not(.dropdown-toggle)>.btn,.input-group>.input-group-append:not(:last-child)>.b-dropdown>.btn,.input-group>.input-group-prepend>.b-dropdown>.btn{border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.input-group-append>.b-dropdown>.btn,.input-group>.input-group-prepend:first-child>.b-dropdown:not(:first-child)>.btn,.input-group>.input-group-prepend:not(:first-child)>.b-dropdown>.btn{border-top-left-radius:0;border-bottom-left-radius:0}",""])},26:function(t,e,n){"use strict";n(264);var r,o=(r=n(0))&&"object"==typeof r&&"default"in r?r.default:r;t.exports=o},260:function(t,e,n){var content=n(261);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(4).default)("7a3a3ffa",content,!0,{sourceMap:!1})},261:function(t,e,n){(t.exports=n(3)(!1)).push([t.i,"input.form-control[type=color],input.form-control[type=range]{height:2.25rem}input.form-control.form-control-sm[type=color],input.form-control.form-control-sm[type=range]{height:1.9375rem}input.form-control.form-control-lg[type=color],input.form-control.form-control-lg[type=range]{height:3rem}input.form-control[type=color]{padding:.25rem}input.form-control.form-control-sm[type=color]{padding:.125rem}",""])},262:function(t,e,n){var content=n(263);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(4).default)("5fde5b10",content,!0,{sourceMap:!1})},263:function(t,e,n){(t.exports=n(3)(!1)).push([t.i,'table.b-table.b-table-fixed{table-layout:fixed}table.b-table[aria-busy=false]{opacity:1}table.b-table[aria-busy=true]{opacity:.6}table.b-table>tfoot>tr>th,table.b-table>thead>tr>th{position:relative}table.b-table>tfoot>tr>th.sorting,table.b-table>thead>tr>th.sorting{padding-right:1.5em;cursor:pointer}table.b-table>tfoot>tr>th.sorting:after,table.b-table>tfoot>tr>th.sorting:before,table.b-table>thead>tr>th.sorting:after,table.b-table>thead>tr>th.sorting:before{position:absolute;bottom:0;display:block;opacity:.4;padding-bottom:inherit;font-size:inherit;line-height:180%}table.b-table>tfoot>tr>th.sorting:before,table.b-table>thead>tr>th.sorting:before{right:.75em;content:"\\2191"}table.b-table>tfoot>tr>th.sorting:after,table.b-table>thead>tr>th.sorting:after{right:.25em;content:"\\2193"}table.b-table>tfoot>tr>th.sorting_asc:after,table.b-table>tfoot>tr>th.sorting_desc:before,table.b-table>thead>tr>th.sorting_asc:after,table.b-table>thead>tr>th.sorting_desc:before{opacity:1}table.b-table.b-table-stacked{width:100%}table.b-table.b-table-stacked,table.b-table.b-table-stacked>caption,table.b-table.b-table-stacked>tbody,table.b-table.b-table-stacked>tbody>tr,table.b-table.b-table-stacked>tbody>tr>td,table.b-table.b-table-stacked>tbody>tr>th{display:block}table.b-table.b-table-stacked>tbody>tr.b-table-bottom-row,table.b-table.b-table-stacked>tbody>tr.b-table-top-row,table.b-table.b-table-stacked>tfoot,table.b-table.b-table-stacked>thead{display:none}table.b-table.b-table-stacked>tbody>tr>:first-child{border-top-width:.4rem}table.b-table.b-table-stacked>tbody>tr>[data-label]{display:grid;grid-template-columns:40% auto;grid-gap:.25rem 1rem}table.b-table.b-table-stacked>tbody>tr>[data-label]:before{content:attr(data-label);display:inline;text-align:right;word-wrap:break-word;font-weight:700;font-style:normal}@media (max-width:575.99px){table.b-table.b-table-stacked-sm{width:100%}table.b-table.b-table-stacked-sm,table.b-table.b-table-stacked-sm>caption,table.b-table.b-table-stacked-sm>tbody,table.b-table.b-table-stacked-sm>tbody>tr,table.b-table.b-table-stacked-sm>tbody>tr>td,table.b-table.b-table-stacked-sm>tbody>tr>th{display:block}table.b-table.b-table-stacked-sm>tbody>tr.b-table-bottom-row,table.b-table.b-table-stacked-sm>tbody>tr.b-table-top-row,table.b-table.b-table-stacked-sm>tfoot,table.b-table.b-table-stacked-sm>thead{display:none}table.b-table.b-table-stacked-sm>tbody>tr>:first-child{border-top-width:.4rem}table.b-table.b-table-stacked-sm>tbody>tr>[data-label]{display:grid;grid-template-columns:40% auto;grid-gap:.25rem 1rem}table.b-table.b-table-stacked-sm>tbody>tr>[data-label]:before{content:attr(data-label);display:inline;text-align:right;word-wrap:break-word;font-weight:700;font-style:normal}}@media (max-width:767.99px){table.b-table.b-table-stacked-md{width:100%}table.b-table.b-table-stacked-md,table.b-table.b-table-stacked-md>caption,table.b-table.b-table-stacked-md>tbody,table.b-table.b-table-stacked-md>tbody>tr,table.b-table.b-table-stacked-md>tbody>tr>td,table.b-table.b-table-stacked-md>tbody>tr>th{display:block}table.b-table.b-table-stacked-md>tbody>tr.b-table-bottom-row,table.b-table.b-table-stacked-md>tbody>tr.b-table-top-row,table.b-table.b-table-stacked-md>tfoot,table.b-table.b-table-stacked-md>thead{display:none}table.b-table.b-table-stacked-md>tbody>tr>:first-child{border-top-width:.4rem}table.b-table.b-table-stacked-md>tbody>tr>[data-label]{display:grid;grid-template-columns:40% auto;grid-gap:.25rem 1rem}table.b-table.b-table-stacked-md>tbody>tr>[data-label]:before{content:attr(data-label);display:inline;text-align:right;word-wrap:break-word;font-weight:700;font-style:normal}}@media (max-width:991.99px){table.b-table.b-table-stacked-lg{width:100%}table.b-table.b-table-stacked-lg,table.b-table.b-table-stacked-lg>caption,table.b-table.b-table-stacked-lg>tbody,table.b-table.b-table-stacked-lg>tbody>tr,table.b-table.b-table-stacked-lg>tbody>tr>td,table.b-table.b-table-stacked-lg>tbody>tr>th{display:block}table.b-table.b-table-stacked-lg>tbody>tr.b-table-bottom-row,table.b-table.b-table-stacked-lg>tbody>tr.b-table-top-row,table.b-table.b-table-stacked-lg>tfoot,table.b-table.b-table-stacked-lg>thead{display:none}table.b-table.b-table-stacked-lg>tbody>tr>:first-child{border-top-width:.4rem}table.b-table.b-table-stacked-lg>tbody>tr>[data-label]{display:grid;grid-template-columns:40% auto;grid-gap:.25rem 1rem}table.b-table.b-table-stacked-lg>tbody>tr>[data-label]:before{content:attr(data-label);display:inline;text-align:right;word-wrap:break-word;font-weight:700;font-style:normal}}@media (max-width:1199.99px){table.b-table.b-table-stacked-xl{width:100%}table.b-table.b-table-stacked-xl,table.b-table.b-table-stacked-xl>caption,table.b-table.b-table-stacked-xl>tbody,table.b-table.b-table-stacked-xl>tbody>tr,table.b-table.b-table-stacked-xl>tbody>tr>td,table.b-table.b-table-stacked-xl>tbody>tr>th{display:block}table.b-table.b-table-stacked-xl>tbody>tr.b-table-bottom-row,table.b-table.b-table-stacked-xl>tbody>tr.b-table-top-row,table.b-table.b-table-stacked-xl>tfoot,table.b-table.b-table-stacked-xl>thead{display:none}table.b-table.b-table-stacked-xl>tbody>tr>:first-child{border-top-width:.4rem}table.b-table.b-table-stacked-xl>tbody>tr>[data-label]{display:grid;grid-template-columns:40% auto;grid-gap:.25rem 1rem}table.b-table.b-table-stacked-xl>tbody>tr>[data-label]:before{content:attr(data-label);display:inline;text-align:right;word-wrap:break-word;font-weight:700;font-style:normal}}table.b-table>tbody>tr.b-table-details>td{border-top:none}',""])},264:function(t,e,n){"use strict";n.r(e),function(t,e){n(265);var r=setTimeout;function o(){}function l(t){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],y(t,this)}function c(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,l._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void d(e.promise,t)}h(e.promise,r)}else(1===t._state?h:d)(e.promise,t._value)})):t._deferreds.push(e)}function h(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof l)return t._state=3,t._value=e,void f(t);if("function"==typeof n)return void y((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,f(t)}catch(e){d(t,e)}var r,o}function d(t,e){t._state=2,t._value=e,f(t)}function f(t){2===t._state&&0===t._deferreds.length&&l._immediateFn(function(){t._handled||l._unhandledRejectionFn(t._value)});for(var i=0,e=t._deferreds.length;i<e;i++)c(t,t._deferreds[i]);t._deferreds=null}function m(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function y(t,e){var n=!1;try{t(function(t){n||(n=!0,h(e,t))},function(t){n||(n=!0,d(e,t))})}catch(t){if(n)return;n=!0,d(e,t)}}l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){var n=new this.constructor(o);return c(this,new m(t,e,n)),n},l.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},l.all=function(t){return new l(function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function l(i,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var c=t.then;if("function"==typeof c)return void c.call(t,function(t){l(i,t)},n)}r[i]=t,0==--o&&e(r)}catch(t){n(t)}}for(var i=0;i<r.length;i++)l(i,r[i])})},l.resolve=function(t){return t&&"object"==typeof t&&t.constructor===l?t:new l(function(e){e(t)})},l.reject=function(t){return new l(function(e,n){n(t)})},l.race=function(t){return new l(function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)})},l._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){r(t,0)},l._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var v=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();function w(t,e){return t(e={exports:{}},e.exports),e.exports}v.Promise||(v.Promise=l);var _=w(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),S=w(function(t){var e=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=e)}),E=(S.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),T=function(t){if(!E(t))throw TypeError(t+" is not an object!");return t},C=function(t){try{return!!t()}catch(t){return!0}},k=!C(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),x=_.document,I=E(x)&&E(x.createElement),N=function(t){return I?x.createElement(t):{}},D=!k&&!C(function(){return 7!=Object.defineProperty(N("div"),"a",{get:function(){return 7}}).a}),A=function(t,e){if(!E(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!E(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!E(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!E(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},O=Object.defineProperty,P={f:k?Object.defineProperty:function(t,e,n){if(T(t),e=A(e,!0),T(n),D)try{return O(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},R=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},L=k?function(object,t,e){return P.f(object,t,R(1,e))}:function(object,t,e){return object[t]=e,object},M={}.hasOwnProperty,F=function(t,e){return M.call(t,e)},B=0,V=Math.random(),j=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++B+V).toString(36))},U=w(function(t){var e=j("src"),n=Function.toString,r=(""+n).split("toString");S.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,o,l){var c="function"==typeof o;c&&(F(o,"name")||L(o,"name",n)),t[n]!==o&&(c&&(F(o,e)||L(o,e,t[n]?""+t[n]:r.join(String(n)))),t===_?t[n]=o:l?t[n]?t[n]=o:L(t,n,o):(delete t[n],L(t,n,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),W=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(a){return t.call(e,a)};case 2:return function(a,b){return t.call(e,a,b)};case 3:return function(a,b,n){return t.call(e,a,b,n)}}return function(){return t.apply(e,arguments)}},$=function(t,e,source){var n,r,o,l,c=t&$.F,h=t&$.G,d=t&$.S,f=t&$.P,m=t&$.B,y=h?_:d?_[e]||(_[e]={}):(_[e]||{}).prototype,v=h?S:S[e]||(S[e]={}),w=v.prototype||(v.prototype={});for(n in h&&(source=e),source)o=((r=!c&&y&&void 0!==y[n])?y:source)[n],l=m&&r?W(o,_):f&&"function"==typeof o?W(Function.call,o):o,y&&U(y,n,o,t&$.U),v[n]!=o&&L(v,n,l),f&&w[n]!=o&&(w[n]=o)};_.core=S,$.F=1,$.G=2,$.S=4,$.P=8,$.B=16,$.W=32,$.U=64,$.R=128;var z=$,H={}.toString,K=function(t){return H.call(t).slice(8,-1)},Q=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==K(t)?t.split(""):Object(t)},G=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},Y=function(t){return Object(G(t))},X=Math.ceil,J=Math.floor,Z=function(t){return isNaN(t=+t)?0:(t>0?J:X)(t)},tt=Math.min,et=function(t){return t>0?tt(Z(t),9007199254740991):0},nt=Array.isArray||function(t){return"Array"==K(t)},it=_["__core-js_shared__"]||(_["__core-js_shared__"]={}),ot=function(t){return it[t]||(it[t]={})},at=w(function(t){var e=ot("wks"),n=_.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:j)("Symbol."+t))}).store=e}),st=at("species"),ut=function(t,e){return new(function(t){var e;return nt(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!nt(e.prototype)||(e=void 0),E(e)&&null===(e=e[st])&&(e=void 0)),void 0===e?Array:e}(t))(e)},lt=function(t,e){var n=1==t,r=2==t,o=3==t,l=4==t,c=6==t,h=5==t||c,d=e||ut;return function(e,f,m){for(var y,v,w=Y(e),_=Q(w),S=W(f,m,3),E=et(_.length),T=0,C=n?d(e,E):r?d(e,0):void 0;E>T;T++)if((h||T in _)&&(v=S(y=_[T],T,w),t))if(n)C[T]=v;else if(v)switch(t){case 3:return!0;case 5:return y;case 6:return T;case 2:C.push(y)}else if(l)return!1;return c?-1:o||l?l:C}},ct=at("unscopables"),ht=Array.prototype;null==ht[ct]&&L(ht,ct,{});var ft=function(t){ht[ct][t]=!0},pt=lt(5),gt=!0;"find"in[]&&Array(1).find(function(){gt=!1}),z(z.P+z.F*gt,"Array",{find:function(t){return pt(this,t,arguments.length>1?arguments[1]:void 0)}}),ft("find");S.Array.find;var mt=lt(6),bt=!0;"findIndex"in[]&&Array(1).findIndex(function(){bt=!1}),z(z.P+z.F*bt,"Array",{findIndex:function(t){return mt(this,t,arguments.length>1?arguments[1]:void 0)}}),ft("findIndex");S.Array.findIndex;var yt,vt=function(t){return Q(G(t))},wt=Math.max,_t=Math.min,St=ot("keys"),Et=function(t){return St[t]||(St[t]=j(t))},Tt=(yt=!1,function(t,e,n){var r,o=vt(t),l=et(o.length),c=function(t,e){return(t=Z(t))<0?wt(t+e,0):_t(t,e)}(n,l);if(yt&&e!=e){for(;l>c;)if((r=o[c++])!=r)return!0}else for(;l>c;c++)if((yt||c in o)&&o[c]===e)return yt||c||0;return!yt&&-1}),Ct=Et("IE_PROTO"),kt=function(object,t){var e,n=vt(object),i=0,r=[];for(e in n)e!=Ct&&F(n,e)&&r.push(e);for(;t.length>i;)F(n,e=t[i++])&&(~Tt(r,e)||r.push(e));return r},xt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),It=Object.keys||function(t){return kt(t,xt)},Nt={f:Object.getOwnPropertySymbols},Dt={f:{}.propertyIsEnumerable},At=Object.assign,Ot=!At||C(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=At({},t)[n]||Object.keys(At({},e)).join("")!=r})?function(t,source){for(var e=Y(t),n=arguments.length,r=1,o=Nt.f,l=Dt.f;n>r;)for(var c,h=Q(arguments[r++]),d=o?It(h).concat(o(h)):It(h),f=d.length,m=0;f>m;)l.call(h,c=d[m++])&&(e[c]=h[c]);return e}:At;z(z.S+z.F,"Object",{assign:Ot});S.Object.assign;var Pt=at("match"),Rt=function(t,e,n){if(E(r=e)&&(void 0!==(o=r[Pt])?o:"RegExp"==K(r)))throw TypeError("String#"+n+" doesn't accept regex!");var r,o;return String(G(t))},Lt=at("match"),Mt="".startsWith;z(z.P+z.F*function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Lt]=!1,!"/./"[t](e)}catch(t){}}return!0}("startsWith"),"String",{startsWith:function(t){var e=Rt(this,t,"startsWith"),n=et(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return Mt?Mt.call(e,r,n):e.slice(n,n+r.length)===r}});S.String.startsWith;z(z.P,"String",{repeat:function(t){var e=String(G(this)),n="",r=Z(t);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}});S.String.repeat;var Ft=w(function(t){var e=j("meta"),n=P.f,r=0,o=Object.isExtensible||function(){return!0},l=!C(function(){return o(Object.preventExtensions({}))}),c=function(t){n(t,e,{value:{i:"O"+ ++r,w:{}}})},meta=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!E(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!F(t,e)){if(!o(t))return"F";if(!n)return"E";c(t)}return t[e].i},getWeak:function(t,n){if(!F(t,e)){if(!o(t))return!0;if(!n)return!1;c(t)}return t[e].w},onFreeze:function(t){return l&&meta.NEED&&o(t)&&!F(t,e)&&c(t),t}}}),Bt=(Ft.KEY,Ft.NEED,Ft.fastKey,Ft.getWeak,Ft.onFreeze,P.f),Vt=at("toStringTag"),qt=function(t,e,n){t&&!F(t=n?t:t.prototype,Vt)&&Bt(t,Vt,{configurable:!0,value:e})},jt={f:at},Ut=P.f,Wt=function(t){var e=S.Symbol||(S.Symbol=_.Symbol||{});"_"==t.charAt(0)||t in e||Ut(e,t,{value:jt.f(t)})},$t=k?Object.defineProperties:function(t,e){T(t);for(var n,r=It(e),o=r.length,i=0;o>i;)P.f(t,n=r[i++],e[n]);return t},zt=_.document,Ht=zt&&zt.documentElement,Kt=Et("IE_PROTO"),Qt=function(){},Gt=function(){var t,iframe=N("iframe"),i=xt.length;for(iframe.style.display="none",Ht.appendChild(iframe),iframe.src="javascript:",(t=iframe.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Gt=t.F;i--;)delete Gt.prototype[xt[i]];return Gt()},Yt=Object.create||function(t,e){var n;return null!==t?(Qt.prototype=T(t),n=new Qt,Qt.prototype=null,n[Kt]=t):n=Gt(),void 0===e?n:$t(n,e)},Xt=xt.concat("length","prototype"),Jt={f:Object.getOwnPropertyNames||function(t){return kt(t,Xt)}},Zt=Jt.f,te={}.toString,ee="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ne={f:function(t){return ee&&"[object Window]"==te.call(t)?function(t){try{return Zt(t)}catch(t){return ee.slice()}}(t):Zt(vt(t))}},re=Object.getOwnPropertyDescriptor,ie={f:k?re:function(t,e){if(t=vt(t),e=A(e,!0),D)try{return re(t,e)}catch(t){}if(F(t,e))return R(!Dt.f.call(t,e),t[e])}},oe=Ft.KEY,ae=ie.f,se=P.f,ue=ne.f,le=_.Symbol,ce=_.JSON,he=ce&&ce.stringify,de=at("_hidden"),fe=at("toPrimitive"),pe={}.propertyIsEnumerable,ge=ot("symbol-registry"),me=ot("symbols"),be=ot("op-symbols"),ye=Object.prototype,ve="function"==typeof le,we=_.QObject,_e=!we||!we.prototype||!we.prototype.findChild,Se=k&&C(function(){return 7!=Yt(se({},"a",{get:function(){return se(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=ae(ye,e);r&&delete ye[e],se(t,e,n),r&&t!==ye&&se(ye,e,r)}:se,Ee=function(t){var e=me[t]=Yt(le.prototype);return e._k=t,e},Te=ve&&"symbol"==typeof le.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof le},Ce=function(t,e,n){return t===ye&&Ce(be,e,n),T(t),e=A(e,!0),T(n),F(me,e)?(n.enumerable?(F(t,de)&&t[de][e]&&(t[de][e]=!1),n=Yt(n,{enumerable:R(0,!1)})):(F(t,de)||se(t,de,R(1,{})),t[de][e]=!0),Se(t,e,n)):se(t,e,n)},ke=function(t,e){T(t);for(var n,r=function(t){var e=It(t),n=Nt.f;if(n)for(var r,o=n(t),l=Dt.f,i=0;o.length>i;)l.call(t,r=o[i++])&&e.push(r);return e}(e=vt(e)),i=0,o=r.length;o>i;)Ce(t,n=r[i++],e[n]);return t},xe=function(t){var e=pe.call(this,t=A(t,!0));return!(this===ye&&F(me,t)&&!F(be,t))&&(!(e||!F(this,t)||!F(me,t)||F(this,de)&&this[de][t])||e)},Ie=function(t,e){if(t=vt(t),e=A(e,!0),t!==ye||!F(me,e)||F(be,e)){var n=ae(t,e);return!n||!F(me,e)||F(t,de)&&t[de][e]||(n.enumerable=!0),n}},Ne=function(t){for(var e,n=ue(vt(t)),r=[],i=0;n.length>i;)F(me,e=n[i++])||e==de||e==oe||r.push(e);return r},De=function(t){for(var e,n=t===ye,r=ue(n?be:vt(t)),o=[],i=0;r.length>i;)!F(me,e=r[i++])||n&&!F(ye,e)||o.push(me[e]);return o};ve||(U((le=function(){if(this instanceof le)throw TypeError("Symbol is not a constructor!");var t=j(arguments.length>0?arguments[0]:void 0),e=function(n){this===ye&&e.call(be,n),F(this,de)&&F(this[de],t)&&(this[de][t]=!1),Se(this,t,R(1,n))};return k&&_e&&Se(ye,t,{configurable:!0,set:e}),Ee(t)}).prototype,"toString",function(){return this._k}),ie.f=Ie,P.f=Ce,Jt.f=ne.f=Ne,Dt.f=xe,Nt.f=De,k&&U(ye,"propertyIsEnumerable",xe,!0),jt.f=function(t){return Ee(at(t))}),z(z.G+z.W+z.F*!ve,{Symbol:le});for(var Ae="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Oe=0;Ae.length>Oe;)at(Ae[Oe++]);for(var Pe=It(at.store),Re=0;Pe.length>Re;)Wt(Pe[Re++]);z(z.S+z.F*!ve,"Symbol",{for:function(t){return F(ge,t+="")?ge[t]:ge[t]=le(t)},keyFor:function(t){if(!Te(t))throw TypeError(t+" is not a symbol!");for(var e in ge)if(ge[e]===t)return e},useSetter:function(){_e=!0},useSimple:function(){_e=!1}}),z(z.S+z.F*!ve,"Object",{create:function(t,e){return void 0===e?Yt(t):ke(Yt(t),e)},defineProperty:Ce,defineProperties:ke,getOwnPropertyDescriptor:Ie,getOwnPropertyNames:Ne,getOwnPropertySymbols:De}),ce&&z(z.S+z.F*(!ve||C(function(){var t=le();return"[null]"!=he([t])||"{}"!=he({a:t})||"{}"!=he(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(E(e)||void 0!==t)&&!Te(t))return nt(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Te(e))return e}),r[1]=e,he.apply(ce,r)}}),le.prototype[fe]||L(le.prototype,fe,le.prototype.valueOf),qt(le,"Symbol"),qt(Math,"Math",!0),qt(_.JSON,"JSON",!0);var Le=at("toStringTag"),Me="Arguments"==K(function(){return arguments}()),Fe={};Fe[at("toStringTag")]="z",Fe+""!="[object z]"&&U(Object.prototype,"toString",function(){return"[object "+(void 0===(t=this)?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Le))?n:Me?K(e):"Object"==(r=K(e))&&"function"==typeof e.callee?"Arguments":r)+"]";var t,e,n,r},!0),Wt("asyncIterator"),Wt("observable");S.Symbol;var Be={},Ve={};L(Ve,at("iterator"),function(){return this});var qe,je=function(t,e,n){t.prototype=Yt(Ve,{next:R(1,n)}),qt(t,e+" Iterator")},Ue=Et("IE_PROTO"),We=Object.prototype,$e=Object.getPrototypeOf||function(t){return t=Y(t),F(t,Ue)?t[Ue]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?We:null},ze=at("iterator"),He=!([].keys&&"next"in[].keys()),Ke=function(){return this},Qe=function(t,e,n,r,o,l,c){je(n,e,r);var h,d,f,m=function(t){if(!He&&t in _)return _[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},y=e+" Iterator",v="values"==o,w=!1,_=t.prototype,S=_[ze]||_["@@iterator"]||o&&_[o],E=S||m(o),T=o?v?m("entries"):E:void 0,C="Array"==e&&_.entries||S;if(C&&(f=$e(C.call(new t)))!==Object.prototype&&f.next&&(qt(f,y,!0),"function"!=typeof f[ze]&&L(f,ze,Ke)),v&&S&&"values"!==S.name&&(w=!0,E=function(){return S.call(this)}),(He||w||!_[ze])&&L(_,ze,E),Be[e]=E,Be[y]=Ke,o)if(h={values:v?E:m("values"),keys:l?E:m("keys"),entries:T},c)for(d in h)d in _||U(_,d,h[d]);else z(z.P+z.F*(He||w),e,h);return h},Ge=(qe=!0,function(t,e){var a,b,s=String(G(t)),i=Z(e),n=s.length;return i<0||i>=n?qe?"":void 0:(a=s.charCodeAt(i))<55296||a>56319||i+1===n||(b=s.charCodeAt(i+1))<56320||b>57343?qe?s.charAt(i):a:qe?s.slice(i,i+2):b-56320+(a-55296<<10)+65536});Qe(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=Ge(e,n),this._i+=t.length,{value:t,done:!1})});var Ye=function(t,e){return{value:e,done:!!t}},Xe=Qe(Array,"Array",function(t,e){this._t=vt(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Ye(1)):Ye(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");Be.Arguments=Be.Array,ft("keys"),ft("values"),ft("entries");for(var Je=at("iterator"),Ze=at("toStringTag"),tn=Be.Array,en={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},nn=It(en),i=0;i<nn.length;i++){var rn,on=nn[i],an=en[on],sn=_[on],un=sn&&sn.prototype;if(un&&(un[Je]||L(un,Je,tn),un[Ze]||L(un,Ze,on),Be[on]=tn,an))for(rn in Xe)un[rn]||U(un,rn,Xe[rn],!0)}jt.f("iterator")}.call(this,n(111).setImmediate,n(15))},265:function(t,e){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(t){return t&&DataView.prototype.isPrototypeOf(t)},o=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};m.prototype.append=function(t,e){t=h(t),e=d(e);var n=this.map[t];this.map[t]=n?n+","+e:e},m.prototype.delete=function(t){delete this.map[h(t)]},m.prototype.get=function(t){return t=h(t),this.has(t)?this.map[t]:null},m.prototype.has=function(t){return this.map.hasOwnProperty(h(t))},m.prototype.set=function(t,e){this.map[h(t)]=d(e)},m.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},m.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),f(t)},m.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),f(t)},m.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),f(t)},e.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);var l=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},S.call(E.prototype),S.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},C.error=function(){var t=new C(null,{status:0,statusText:""});return t.type="error",t};var c=[301,302,303,307,308];C.redirect=function(t,e){if(-1===c.indexOf(e))throw new RangeError("Invalid status code");return new C(null,{status:e,headers:{location:t}})},t.Headers=m,t.Request=E,t.Response=C,t.fetch=function(input,t){return new Promise(function(n,r){var o=new E(input,t),l=new XMLHttpRequest;l.onload=function(){var t,e,r={status:l.status,statusText:l.statusText,headers:(t=l.getAllResponseHeaders()||"",e=new m,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(line){var t=line.split(":"),n=t.shift().trim();if(n){var r=t.join(":").trim();e.append(n,r)}}),e)};r.url="responseURL"in l?l.responseURL:r.headers.get("X-Request-URL");var body="response"in l?l.response:l.responseText;n(new C(body,r))},l.onerror=function(){r(new TypeError("Network request failed"))},l.ontimeout=function(){r(new TypeError("Network request failed"))},l.open(o.method,o.url,!0),"include"===o.credentials?l.withCredentials=!0:"omit"===o.credentials&&(l.withCredentials=!1),"responseType"in l&&e.blob&&(l.responseType="blob"),o.headers.forEach(function(t,e){l.setRequestHeader(e,t)}),l.send(void 0===o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}function h(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function d(t){return"string"!=typeof t&&(t=String(t)),t}function f(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function m(t){this.map={},t instanceof m?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(header){this.append(header[0],header[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function y(body){if(body.bodyUsed)return Promise.reject(new TypeError("Already read"));body.bodyUsed=!0}function v(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function w(t){var e=new FileReader,n=v(e);return e.readAsArrayBuffer(t),n}function _(t){if(t.slice)return t.slice(0);var view=new Uint8Array(t.byteLength);return view.set(new Uint8Array(t)),view.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(body){if(this._bodyInit=body,body)if("string"==typeof body)this._bodyText=body;else if(e.blob&&Blob.prototype.isPrototypeOf(body))this._bodyBlob=body;else if(e.formData&&FormData.prototype.isPrototypeOf(body))this._bodyFormData=body;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(body))this._bodyText=body.toString();else if(e.arrayBuffer&&e.blob&&r(body))this._bodyArrayBuffer=_(body.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(body)&&!o(body))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=_(body)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof body?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=y(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(w)}),this.text=function(){var t,e,n,r=y(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=v(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var view=new Uint8Array(t),e=new Array(view.length),i=0;i<view.length;i++)e[i]=String.fromCharCode(view[i]);return e.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}function E(input,t){var e,n,body=(t=t||{}).body;if(input instanceof E){if(input.bodyUsed)throw new TypeError("Already read");this.url=input.url,this.credentials=input.credentials,t.headers||(this.headers=new m(input.headers)),this.method=input.method,this.mode=input.mode,body||null==input._bodyInit||(body=input._bodyInit,input.bodyUsed=!0)}else this.url=String(input);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new m(t.headers)),this.method=(e=t.method||this.method||"GET",n=e.toUpperCase(),l.indexOf(n)>-1?n:e),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(body)}function T(body){var form=new FormData;return body.trim().split("&").forEach(function(t){if(t){var e=t.split("="),n=e.shift().replace(/\+/g," "),r=e.join("=").replace(/\+/g," ");form.append(decodeURIComponent(n),decodeURIComponent(r))}}),form}function C(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new m(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},266:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return o}),n.d(e,"__assign",function(){return l}),n.d(e,"__rest",function(){return c}),n.d(e,"__decorate",function(){return h}),n.d(e,"__param",function(){return d}),n.d(e,"__metadata",function(){return f}),n.d(e,"__awaiter",function(){return m}),n.d(e,"__generator",function(){return y}),n.d(e,"__exportStar",function(){return v}),n.d(e,"__values",function(){return w}),n.d(e,"__read",function(){return _}),n.d(e,"__spread",function(){return S}),n.d(e,"__await",function(){return E}),n.d(e,"__asyncGenerator",function(){return T}),n.d(e,"__asyncDelegator",function(){return C}),n.d(e,"__asyncValues",function(){return k}),n.d(e,"__makeTemplateObject",function(){return x}),n.d(e,"__importStar",function(){return I}),n.d(e,"__importDefault",function(){return N});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])};function o(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}var l=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t};function c(s,t){var e={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&t.indexOf(p)<0&&(e[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)t.indexOf(p[i])<0&&(e[p[i]]=s[p[i]])}return e}function h(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l}function d(t,e){return function(n,r){e(n,r,t)}}function f(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function m(t,e,n,r){return new(n||(n=Promise))(function(o,l){function c(t){try{d(r.next(t))}catch(t){l(t)}}function h(t){try{d(r.throw(t))}catch(t){l(t)}}function d(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(c,h)}d((r=r.apply(t,e||[])).next())})}function y(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=n[2&l[0]?"return":l[0]?"throw":"next"])&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[0,r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(t,o)}catch(t){l=[6,t],n=0}finally{e=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}function v(t,e){for(var p in t)e.hasOwnProperty(p)||(e[p]=t[p])}function w(t){var e="function"==typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}}function _(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l}function S(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(_(arguments[i]));return t}function E(t){return this instanceof E?(this.v=t,this):new E(t)}function T(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=n.apply(t,e||[]),q=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(t){g[t]&&(i[t]=function(e){return new Promise(function(a,b){q.push([t,e,a,b])>1||o(t,e)})})}function o(t,e){try{(n=g[t](e)).value instanceof E?Promise.resolve(n.value.v).then(l,c):h(q[0][2],n)}catch(t){h(q[0][3],t)}var n}function l(t){o("next",t)}function c(t){o("throw",t)}function h(t,e){t(e),q.shift(),q.length&&o(q[0][0],q[0][1])}}function C(t){var i,p;return i={},e("next"),e("throw",function(t){throw t}),e("return"),i[Symbol.iterator]=function(){return this},i;function e(e,n){t[e]&&(i[e]=function(r){return(p=!p)?{value:E(t[e](r)),done:"return"===e}:n?n(r):r})}}function k(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):w(t)}function x(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function I(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function N(t){return t&&t.__esModule?t:{default:t}}},267:function(t,e,n){"use strict";n(268)},268:function(t,e,n){"use strict";(function(t){var e=n(0),r=n.n(e);(function(){var g,t=t||{},e=this;function n(a){return"string"==typeof a}function o(a){return"boolean"==typeof a}function l(){}function c(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var t=Object.prototype.toString.call(a);if("[object Window]"==t)return"object";if("[object Array]"==t||"number"==typeof a.length&&void 0!==a.splice&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==t||void 0!==a.call&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&void 0===a.call)return"object";return b}function h(a){return null===a}function d(a){return"array"==c(a)}function f(a){var b=c(a);return"array"==b||"object"==b&&"number"==typeof a.length}function m(a){return"function"==c(a)}function q(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var y="closure_uid_"+(1e9*Math.random()>>>0),v=0;function w(a,b,t){return a.call.apply(a.bind,arguments)}function _(a,b,t){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,e),a.apply(b,t)}}return function(){return a.apply(b,arguments)}}function S(a,b,t){return(S=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function E(a,b){var t=Array.prototype.slice.call(arguments,1);return function(){var b=t.slice();return b.push.apply(b,arguments),a.apply(this,b)}}var T=Date.now||function(){return+new Date};function C(a,b){function t(){}t.prototype=b.prototype,a.ob=b.prototype,a.prototype=new t,a.prototype.constructor=a,a.ed=function(a,t,e){for(var n=Array(arguments.length-2),r=2;r<arguments.length;r++)n[r-2]=arguments[r];return b.prototype[t].apply(a,n)}}function k(a){a.prototype.then=a.prototype.then,a.prototype.$goog_Thenable=!0}function x(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(t){return!1}}function u(a){if(Error.captureStackTrace)Error.captureStackTrace(this,u);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}function I(a,b){for(var t="",e=(a=a.split("%s")).length-1,n=0;n<e;n++)t+=a[n]+(n<b.length?b[n]:"%s");u.call(this,t+a[e])}function N(a,b){throw new I("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))}function D(a,b){this.c=a,this.f=b,this.b=0,this.a=null}function A(a,b){a.f(b),100>a.b&&(a.b++,b.next=a.a,a.a=b)}function O(){this.b=this.a=null}C(u,Error),u.prototype.name="CustomError",C(I,u),I.prototype.name="AssertionError",D.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next,a.next=null}else a=this.c();return a};var P=new D(function(){return new L},function(a){a.reset()});function R(){var a=wt,b=null;return a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null),b}function L(){this.next=this.b=this.a=null}O.prototype.add=function(a,b){var t=P.get();t.set(a,b),this.b?this.b.next=t:this.a=t,this.b=t},L.prototype.set=function(a,b){this.a=a,this.b=b,this.next=null},L.prototype.reset=function(){this.next=this.b=this.a=null};var M=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(n(a))return n(b)&&1==b.length?a.indexOf(b,0):-1;for(var t=0;t<a.length;t++)if(t in a&&a[t]===b)return t;return-1},F=Array.prototype.forEach?function(a,b,t){Array.prototype.forEach.call(a,b,t)}:function(a,b,t){for(var e=a.length,r=n(a)?a.split(""):a,o=0;o<e;o++)o in r&&b.call(t,r[o],o,a)};var B=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var t=a.length,e=Array(t),r=n(a)?a.split(""):a,o=0;o<t;o++)o in r&&(e[o]=b.call(void 0,r[o],o,a));return e},V=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var t=a.length,e=n(a)?a.split(""):a,r=0;r<t;r++)if(r in e&&b.call(void 0,e[r],r,a))return!0;return!1};function j(a,b){return 0<=M(a,b)}function U(a,b){var t;return(t=0<=(b=M(a,b)))&&Array.prototype.splice.call(a,b,1),t}function W(a,b){!function(a,b){var t=a.length,e=n(a)?a.split(""):a;for(--t;0<=t;--t)t in e&&b.call(void 0,e[t],t,a)}(a,function(t,e){b.call(void 0,t,e,a)&&1==Array.prototype.splice.call(a,e,1).length&&0})}function $(a){return Array.prototype.concat.apply([],arguments)}function z(a){var b=a.length;if(0<b){for(var t=Array(b),e=0;e<b;e++)t[e]=a[e];return t}return[]}function H(a,b){for(var t=a.split("%s"),e="",n=Array.prototype.slice.call(arguments,1);n.length&&1<t.length;)e+=t.shift()+n.shift();return e+t.join("%s")}var K=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function Q(a){return nt.test(a)?(-1!=a.indexOf("&")&&(a=a.replace(Y,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(X,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(J,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(Z,"&quot;")),-1!=a.indexOf("'")&&(a=a.replace(tt,"&#39;")),-1!=a.indexOf("\0")&&(a=a.replace(et,"&#0;")),a):a}var G,Y=/&/g,X=/</g,J=/>/g,Z=/"/g,tt=/'/g,et=/\x00/g,nt=/[\x00&<>"']/;function it(a,b){return-1!=a.indexOf(b)}function ot(a,b){return a<b?-1:a>b?1:0}t:{var at=e.navigator;if(at){var st=at.userAgent;if(st){G=st;break t}}G=""}function ut(a){return it(G,a)}function lt(a,b){for(var t in a)b.call(void 0,a[t],t,a)}function ct(a){for(var b in a)return!1;return!0}function ht(a){var t,b={};for(t in a)b[t]=a[t];return b}var ft,pt,gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(a,b){for(var t,e,n=1;n<arguments.length;n++){for(t in e=arguments[n])a[t]=e[t];for(var r=0;r<gt.length;r++)t=gt[r],Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}}function bt(a){e.setTimeout(function(){throw a},0)}function yt(a,b){pt||function(){if(e.Promise&&e.Promise.resolve){var a=e.Promise.resolve(void 0);pt=function(){a.then(_t)}}else pt=function(){var a=_t;!m(e.setImmediate)||e.Window&&e.Window.prototype&&!ut("Edge")&&e.Window.prototype.setImmediate==e.setImmediate?(ft||(ft=function(){var a=e.MessageChannel;if(void 0===a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ut("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none",a.src="",document.documentElement.appendChild(a);var b=a.contentWindow;(a=b.document).open(),a.write(""),a.close();var t="callImmediate"+Math.random(),e="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host;a=S(function(a){"*"!=e&&a.origin!=e||a.data!=t||this.port1.onmessage()},this),b.addEventListener("message",a,!1),this.port1={},this.port2={postMessage:function(){b.postMessage(t,e)}}}),void 0!==a&&!ut("Trident")&&!ut("MSIE")){var b=new a,t={},n=t;return b.port1.onmessage=function(){if(void 0!==t.next){var a=(t=t.next).wb;t.wb=null,a()}},function(a){n.next={wb:a},n=n.next,b.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null,b.parentNode.removeChild(b),b=null,a(),a=null},document.documentElement.appendChild(b)}:function(a){e.setTimeout(a,0)}}()),ft(a)):e.setImmediate(a)}}(),vt||(pt(),vt=!0),wt.add(a,b)}var vt=!1,wt=new O;function _t(){for(var a;a=R();){try{a.a.call(a.b)}catch(t){bt(t)}A(P,a)}vt=!1}function St(a,b){if(this.a=Et,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,a!=l)try{var t=this;a.call(b,function(a){Lt(t,Tt,a)},function(a){if(!(a instanceof Ut))try{if(a instanceof Error)throw a;throw Error("Promise rejected.")}catch(t){}Lt(t,Ct,a)})}catch(t){Lt(this,Ct,t)}}var Et=0,Tt=2,Ct=3;function kt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}kt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var xt=new D(function(){return new kt},function(a){a.reset()});function It(a,b,t){var e=xt.get();return e.g=a,e.b=b,e.f=t,e}function Nt(a){if(a instanceof St)return a;var b=new St(l);return Lt(b,Tt,a),b}function Dt(a){return new St(function(b,t){t(a)})}function At(a,b,t){Mt(a,b,t,null)||yt(E(b,a))}function Ot(a){return new St(function(b){var t=a.length,e=[];if(t)for(var n=function(a,n,r){t--,e[a]=n?{Db:!0,value:r}:{Db:!1,reason:r},0==t&&b(e)},r=0;r<a.length;r++)At(a[r],E(n,r,!0),E(n,r,!1));else b(e)})}function Pt(a,b){a.b||a.a!=Tt&&a.a!=Ct||Ft(a),a.f?a.f.next=b:a.b=b,a.f=b}function Rt(a,b,t,e){var n=It(null,null,null);return n.a=new St(function(a,r){n.g=b?function(t){try{var n=b.call(e,t);a(n)}catch(t){r(t)}}:a,n.b=t?function(b){try{var n=t.call(e,b);void 0===n&&b instanceof Ut?r(b):a(n)}catch(t){r(t)}}:r}),n.a.c=a,Pt(a,n),n.a}function Lt(a,b,t){a.a==Et&&(a===t&&(b=Ct,t=new TypeError("Promise cannot resolve to itself")),a.a=1,Mt(t,a.Nc,a.Oc,a)||(a.i=t,a.a=b,a.c=null,Ft(a),b!=Ct||t instanceof Ut||function(a,b){a.g=!0,yt(function(){a.g&&jt.call(null,b)})}(a,t)))}function Mt(a,b,t,e){if(a instanceof St)return Pt(a,It(b||l,t||null,e)),!0;if(x(a))return a.then(b,t,e),!0;if(q(a))try{var n=a.then;if(m(n))return function(a,b,t,e,n){function r(a){o||(o=!0,e.call(n,a))}var o=!1;try{b.call(a,function(a){o||(o=!0,t.call(n,a))},r)}catch(t){r(t)}}(a,n,b,t,e),!0}catch(n){return t.call(e,n),!0}return!1}function Ft(a){a.h||(a.h=!0,yt(a.Yb,a))}function Bt(a){var b=null;return a.b&&(b=a.b,a.b=b.next,b.next=null),a.b||(a.f=null),b}function Vt(a,b,t,e){if(t==Ct&&b.b&&!b.c)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,qt(b,t,e);else try{b.c?b.g.call(b.f):qt(b,t,e)}catch(t){jt.call(null,t)}A(xt,b)}function qt(a,b,t){b==Tt?a.g.call(a.f,t):a.b&&a.b.call(a.f,t)}St.prototype.then=function(a,b,t){return Rt(this,m(a)?a:null,m(b)?b:null,t)},k(St),(g=St.prototype).ia=function(a,b){return(a=It(a,a,b)).c=!0,Pt(this,a),this},g.s=function(a,b){return Rt(this,null,a,b)},g.cancel=function(a){this.a==Et&&yt(function(){!function t(a,b){if(a.a==Et)if(a.c){var e=a.c;if(e.b){for(var n=0,r=null,o=null,l=e.b;l&&(l.c||(n++,l.a==a&&(r=l),!(r&&1<n)));l=l.next)r||(o=l);r&&(e.a==Et&&1==n?t(e,b):(o?((n=o).next==e.f&&(e.f=n),n.next=n.next.next):Bt(e),Vt(e,r,Ct,b)))}a.c=null}else Lt(a,Ct,b)}(this,new Ut(a))},this)},g.Nc=function(a){this.a=Et,Lt(this,Tt,a)},g.Oc=function(a){this.a=Et,Lt(this,Ct,a)},g.Yb=function(){for(var a;a=Bt(this);)Vt(this,a,this.a,this.i);this.h=!1};var jt=bt;function Ut(a){u.call(this,a)}function Wt(){0!=$t&&(zt[this[y]||(this[y]=++v)]=this),this.qa=this.qa,this.ja=this.ja}C(Ut,u),Ut.prototype.name="cancel";var $t=0,zt={};function Ht(a){if(!a.qa&&(a.qa=!0,a.va(),0!=$t)){var b=a[y]||(a[y]=++v);if(0!=$t&&a.ja&&0<a.ja.length)throw Error(a+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete zt[b]}}function Kt(a){return Kt[" "](a),a}Wt.prototype.qa=!1,Wt.prototype.va=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},Kt[" "]=l;var Qt,a,Gt=ut("Opera"),Yt=ut("Trident")||ut("MSIE"),Xt=ut("Edge"),Jt=Xt||Yt,Zt=ut("Gecko")&&!(it(G.toLowerCase(),"webkit")&&!ut("Edge"))&&!(ut("Trident")||ut("MSIE"))&&!ut("Edge"),te=it(G.toLowerCase(),"webkit")&&!ut("Edge");function ee(){var a=e.document;return a?a.documentMode:void 0}t:{var ne="",re=(a=G,Zt?/rv:([^\);]+)(\)|;)/.exec(a):Xt?/Edge\/([\d\.]+)/.exec(a):Yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):te?/WebKit\/(\S+)/.exec(a):Gt?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(re&&(ne=re?re[1]:""),Yt){var ie=ee();if(null!=ie&&ie>parseFloat(ne)){Qt=String(ie);break t}}Qt=ne}var oe,ae={};function se(a){return function(a,b){var t=ae;return Object.prototype.hasOwnProperty.call(t,a)?t[a]:t[a]=b(a)}(a,function(){for(var b=0,t=K(String(Qt)).split("."),e=K(String(a)).split("."),n=Math.max(t.length,e.length),r=0;0==b&&r<n;r++){var o=t[r]||"",l=e[r]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;b=ot(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||ot(0==o[2].length,0==l[2].length)||ot(o[2],l[2]),o=o[3],l=l[3]}while(0==b)}return 0<=b})}var ue=e.document;oe=ue&&Yt?ee()||("CSS1Compat"==ue.compatMode?parseInt(Qt,10):5):void 0;var le=Object.freeze||function(a){return a},ce=!Yt||9<=Number(oe),he=Yt&&!se("9"),de=function(){if(!e.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});return e.addEventListener("test",l,b),e.removeEventListener("test",l,b),a}();function fe(a,b){this.type=a,this.b=this.target=b,this.Kb=!0}function pe(a,b){if(fe.call(this,a?a.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,a){var t=this.type=a.type,e=a.changedTouches?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.b=b,b=a.relatedTarget){if(Zt){t:{try{Kt(b.nodeName);var r=!0;break t}catch(t){}r=!1}r||(b=null)}}else"mouseover"==t?b=a.fromElement:"mouseout"==t&&(b=a.toElement);this.relatedTarget=b,null===e?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=n(a.pointerType)?a.pointerType:ge[a.pointerType]||"",this.a=a,a.defaultPrevented&&this.preventDefault()}}fe.prototype.preventDefault=function(){this.Kb=!1},C(pe,fe);var ge=le({2:"touch",3:"pen",4:"mouse"});pe.prototype.preventDefault=function(){pe.ob.preventDefault.call(this);var a=this.a;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,he)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(t){}},pe.prototype.f=function(){return this.a};var me="closure_listenable_"+(1e6*Math.random()|0),be=0;function ye(a,b,t,e,n){this.listener=a,this.proxy=null,this.src=b,this.type=t,this.capture=!!e,this.La=n,this.key=++be,this.oa=this.Ia=!1}function ve(a){a.oa=!0,a.listener=null,a.proxy=null,a.src=null,a.La=null}function we(a){this.src=a,this.a={},this.b=0}function _e(a,b){var t=b.type;t in a.a&&U(a.a[t],b)&&(ve(b),0==a.a[t].length&&(delete a.a[t],a.b--))}function Se(a,b,t,e){for(var n=0;n<a.length;++n){var r=a[n];if(!r.oa&&r.listener==b&&r.capture==!!t&&r.La==e)return n}return-1}we.prototype.add=function(a,b,t,e,n){var r=a.toString();(a=this.a[r])||(a=this.a[r]=[],this.b++);var o=Se(a,b,e,n);return-1<o?(b=a[o],t||(b.Ia=!1)):((b=new ye(b,this.src,r,!!e,n)).Ia=t,a.push(b)),b};var Ee="closure_lm_"+(1e6*Math.random()|0),Te={};function Ce(a,b,t,e,n){if(e&&e.once)xe(a,b,t,e,n);else if(d(b))for(var r=0;r<b.length;r++)Ce(a,b[r],t,e,n);else t=Me(t),a&&a[me]?Be(a,b,t,q(e)?!!e.capture:!!e,n):ke(a,b,t,!1,e,n)}function ke(a,b,t,e,n,r){if(!b)throw Error("Invalid event type");var o=q(n)?!!n.capture:!!n,l=Re(a);if(l||(a[Ee]=l=new we(a)),!(t=l.add(b,t,e,o,r)).proxy){if(e=function(){var a=Pe,b=ce?function(t){return a.call(b.src,b.listener,t)}:function(t){if(!(t=a.call(b.src,b.listener,t)))return t};return b}(),t.proxy=e,e.src=a,e.listener=t,a.addEventListener)de||(n=o),void 0===n&&(n=!1),a.addEventListener(b.toString(),e,n);else if(a.attachEvent)a.attachEvent(De(b.toString()),e);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(e)}0}}function xe(a,b,t,e,n){if(d(b))for(var r=0;r<b.length;r++)xe(a,b[r],t,e,n);else t=Me(t),a&&a[me]?Ve(a,b,t,q(e)?!!e.capture:!!e,n):ke(a,b,t,!0,e,n)}function Ie(a,b,t,e,n){if(d(b))for(var r=0;r<b.length;r++)Ie(a,b[r],t,e,n);else e=q(e)?!!e.capture:!!e,t=Me(t),a&&a[me]?(a=a.l,(b=String(b).toString())in a.a&&(-1<(t=Se(r=a.a[b],t,e,n))&&(ve(r[t]),Array.prototype.splice.call(r,t,1),0==r.length&&(delete a.a[b],a.b--)))):a&&(a=Re(a))&&(b=a.a[b.toString()],a=-1,b&&(a=Se(b,t,e,n)),(t=-1<a?b[a]:null)&&Ne(t))}function Ne(a){if("number"!=typeof a&&a&&!a.oa){var b=a.src;if(b&&b[me])_e(b.l,a);else{var t=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(t,e,a.capture):b.detachEvent?b.detachEvent(De(t),e):b.addListener&&b.removeListener&&b.removeListener(e),0,(t=Re(b))?(_e(t,a),0==t.b&&(t.src=null,b[Ee]=null)):ve(a)}}}function De(a){return a in Te?Te[a]:Te[a]="on"+a}function Ae(a,b,t,e){var n=!0;if((a=Re(a))&&(b=a.a[b.toString()]))for(b=b.concat(),a=0;a<b.length;a++){var r=b[a];r&&r.capture==t&&!r.oa&&(r=Oe(r,e),n=n&&!1!==r)}return n}function Oe(a,b){var t=a.listener,e=a.La||a.src;return a.Ia&&Ne(a),t.call(e,b)}function Pe(a,b){if(a.oa)return!0;if(!ce){if(!b)t:{b=["window","event"];for(var t=e,n=0;n<b.length;n++)if(null==(t=t[b[n]])){b=null;break t}b=t}if(b=new pe(n=b,this),t=!0,!(0>n.keyCode||null!=n.returnValue)){t:{var r=!1;if(0==n.keyCode)try{n.keyCode=-1;break t}catch(t){r=!0}(r||null==n.returnValue)&&(n.returnValue=!0)}for(n=[],r=b.b;r;r=r.parentNode)n.push(r);for(a=a.type,r=n.length-1;0<=r;r--){b.b=n[r];var o=Ae(n[r],a,!0,b);t=t&&o}for(r=0;r<n.length;r++)b.b=n[r],o=Ae(n[r],a,!1,b),t=t&&o}return t}return Oe(a,new pe(b,this))}function Re(a){return(a=a[Ee])instanceof we?a:null}var Le="__closure_events_fn_"+(1e9*Math.random()>>>0);function Me(a){return m(a)?a:(a[Le]||(a[Le]=function(b){return a.handleEvent(b)}),a[Le])}function Fe(){Wt.call(this),this.l=new we(this),this.Rb=this,this.Va=null}function Be(a,b,t,e,n){a.l.add(String(b),t,!1,e,n)}function Ve(a,b,t,e,n){a.l.add(String(b),t,!0,e,n)}function qe(a,b,t,e){if(!(b=a.l.a[String(b)]))return!0;b=b.concat();for(var n=!0,r=0;r<b.length;++r){var o=b[r];if(o&&!o.oa&&o.capture==t){var l=o.listener,p=o.La||o.src;o.Ia&&_e(a.l,o),n=!1!==l.call(p,e)&&n}}return n&&0!=e.Kb}function je(a,b,t){if(m(a))t&&(a=S(a,t));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=S(a.handleEvent,a)}return 2147483647<Number(b)?-1:e.setTimeout(a,b||0)}function Ue(a){var b=null;return new St(function(t,e){-1==(b=je(function(){t(void 0)},a))&&e(Error("Failed to schedule timer."))}).s(function(a){throw e.clearTimeout(b),a})}function We(a){if(a.S&&"function"==typeof a.S)return a.S();if(n(a))return a.split("");if(f(a)){for(var b=[],t=a.length,e=0;e<t;e++)b.push(a[e]);return b}for(e in b=[],t=0,a)b[t++]=a[e];return b}function $e(a){if(a.U&&"function"==typeof a.U)return a.U();if(!a.S||"function"!=typeof a.S){if(f(a)||n(a)){var b=[];a=a.length;for(var t=0;t<a;t++)b.push(t);return b}for(var e in b=[],t=0,a)b[t++]=e;return b}}function ze(a,b){this.b={},this.a=[],this.c=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var e=0;e<t;e+=2)this.set(arguments[e],arguments[e+1])}else if(a)if(a instanceof ze)for(t=a.U(),e=0;e<t.length;e++)this.set(t[e],a.get(t[e]));else for(e in a)this.set(e,a[e])}function He(a){if(a.c!=a.a.length){for(var b=0,t=0;b<a.a.length;){var e=a.a[b];Ke(a.b,e)&&(a.a[t++]=e),b++}a.a.length=t}if(a.c!=a.a.length){var n={};for(t=b=0;b<a.a.length;)Ke(n,e=a.a[b])||(a.a[t++]=e,n[e]=1),b++;a.a.length=t}}function Ke(a,b){return Object.prototype.hasOwnProperty.call(a,b)}C(Fe,Wt),Fe.prototype[me]=!0,Fe.prototype.addEventListener=function(a,b,t,e){Ce(this,a,b,t,e)},Fe.prototype.removeEventListener=function(a,b,t,e){Ie(this,a,b,t,e)},Fe.prototype.dispatchEvent=function(a){var b,t=this.Va;if(t)for(b=[];t;t=t.Va)b.push(t);t=this.Rb;var e=a.type||a;if(n(a))a=new fe(a,t);else if(a instanceof fe)a.target=a.target||t;else{var r=a;mt(a=new fe(e,t),r)}if(r=!0,b)for(var o=b.length-1;0<=o;o--){var l=a.b=b[o];r=qe(l,e,!0,a)&&r}if(r=qe(l=a.b=t,e,!0,a)&&r,r=qe(l,e,!1,a)&&r,b)for(o=0;o<b.length;o++)r=qe(l=a.b=b[o],e,!1,a)&&r;return r},Fe.prototype.va=function(){if(Fe.ob.va.call(this),this.l){var t,a=this.l;for(t in a.a){for(var e=a.a[t],n=0;n<e.length;n++)0,ve(e[n]);delete a.a[t],a.b--}}this.Va=null},(g=ze.prototype).S=function(){He(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a},g.U=function(){return He(this),this.a.concat()},g.clear=function(){this.b={},this.c=this.a.length=0},g.get=function(a,b){return Ke(this.b,a)?this.b[a]:b},g.set=function(a,b){Ke(this.b,a)||(this.c++,this.a.push(a)),this.b[a]=b},g.forEach=function(a,b){for(var t=this.U(),e=0;e<t.length;e++){var n=t[e],r=this.get(n);a.call(b,r,n,this)}};var Qe=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ge(a,b){if(this.b=this.l=this.c="",this.i=null,this.h=this.g="",this.f=!1,a instanceof Ge){this.f=void 0!==b?b:a.f,Ye(this,a.c),this.l=a.l,this.b=a.b,Xe(this,a.i),this.g=a.g,b=a.a;var t=new hn;t.c=b.c,b.a&&(t.a=new ze(b.a),t.b=b.b),Je(this,t),this.h=a.h}else a&&(t=String(a).match(Qe))?(this.f=!!b,Ye(this,t[1]||"",!0),this.l=nn(t[2]||""),this.b=nn(t[3]||"",!0),Xe(this,t[4]),this.g=nn(t[5]||"",!0),Je(this,t[6]||"",!0),this.h=nn(t[7]||"")):(this.f=!!b,this.a=new hn(null,this.f))}function Ye(a,b,t){a.c=t?nn(b,!0):b,a.c&&(a.c=a.c.replace(/:$/,""))}function Xe(a,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);a.i=b}else a.i=null}function Je(a,b,t){b instanceof hn?(a.a=b,function(a,b){b&&!a.f&&(dn(a),a.c=null,a.a.forEach(function(a,b){var t=b.toLowerCase();b!=t&&(pn(this,b),mn(this,t,a))},a)),a.f=b}(a.a,a.f)):(t||(b=rn(b,ln)),a.a=new hn(b,a.f))}function Ze(a,b,t){a.a.set(b,t)}function tn(a,b){return a.a.get(b)}function dd(a){return a instanceof Ge?new Ge(a):new Ge(a,void 0)}function en(a,b){var t=new Ge(null,void 0);return Ye(t,"https"),a&&(t.b=a),b&&(t.g=b),t}function nn(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function rn(a,b,t){return n(a)?(a=encodeURI(a).replace(b,on),t&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function on(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}Ge.prototype.toString=function(){var a=[],b=this.c;b&&a.push(rn(b,an,!0),":");var t=this.b;return(t||"file"==b)&&(a.push("//"),(b=this.l)&&a.push(rn(b,an,!0),"@"),a.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.i)&&a.push(":",String(t))),(t=this.g)&&(this.b&&"/"!=t.charAt(0)&&a.push("/"),a.push(rn(t,"/"==t.charAt(0)?un:sn,!0))),(t=this.a.toString())&&a.push("?",t),(t=this.h)&&a.push("#",rn(t,cn)),a.join("")};var an=/[#\/\?@]/g,sn=/[#\?:]/g,un=/[#\?]/g,ln=/[#\?@]/g,cn=/#/g;function hn(a,b){this.b=this.a=null,this.c=a||null,this.f=!!b}function dn(a){a.a||(a.a=new ze,a.b=0,a.c&&function(a,b){if(a){a=a.split("&");for(var t=0;t<a.length;t++){var e=a[t].indexOf("="),n=null;if(0<=e){var r=a[t].substring(0,e);n=a[t].substring(e+1)}else r=a[t];b(r,n?decodeURIComponent(n.replace(/\+/g," ")):"")}}}(a.c,function(b,t){a.add(decodeURIComponent(b.replace(/\+/g," ")),t)}))}function fn(a){var b=$e(a);if(void 0===b)throw Error("Keys are undefined");var t=new hn(null,void 0);a=We(a);for(var e=0;e<b.length;e++){var n=b[e],r=a[e];d(r)?mn(t,n,r):t.add(n,r)}return t}function pn(a,b){dn(a),b=bn(a,b),Ke(a.a.b,b)&&(a.c=null,a.b-=a.a.get(b).length,Ke((a=a.a).b,b)&&(delete a.b[b],a.c--,a.a.length>2*a.c&&He(a)))}function gn(a,b){return dn(a),b=bn(a,b),Ke(a.a.b,b)}function mn(a,b,t){pn(a,b),0<t.length&&(a.c=null,a.a.set(bn(a,b),z(t)),a.b+=t.length)}function bn(a,b){return b=String(b),a.f&&(b=b.toLowerCase()),b}(g=hn.prototype).add=function(a,b){dn(this),this.c=null,a=bn(this,a);var t=this.a.get(a);return t||this.a.set(a,t=[]),t.push(b),this.b+=1,this},g.clear=function(){this.a=this.c=null,this.b=0},g.forEach=function(a,b){dn(this),this.a.forEach(function(t,e){F(t,function(t){a.call(b,t,e,this)},this)},this)},g.U=function(){dn(this);for(var a=this.a.S(),b=this.a.U(),t=[],e=0;e<b.length;e++)for(var n=a[e],r=0;r<n.length;r++)t.push(b[e]);return t},g.S=function(a){dn(this);var b=[];if(n(a))gn(this,a)&&(b=$(b,this.a.get(bn(this,a))));else{a=this.a.S();for(var t=0;t<a.length;t++)b=$(b,a[t])}return b},g.set=function(a,b){return dn(this),this.c=null,gn(this,a=bn(this,a))&&(this.b-=this.a.get(a).length),this.a.set(a,[b]),this.b+=1,this},g.get=function(a,b){return 0<(a=a?this.S(a):[]).length?String(a[0]):b},g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],b=this.a.U(),t=0;t<b.length;t++){var e=b[t],n=encodeURIComponent(String(e));e=this.S(e);for(var r=0;r<e.length;r++){var o=n;""!==e[r]&&(o+="="+encodeURIComponent(String(e[r]))),a.push(o)}}return this.c=a.join("&")};var yn=!Yt||9<=Number(oe);function vn(){this.a="",this.b=_n}function wn(a){return a instanceof vn&&a.constructor===vn&&a.b===_n?a.a:(N("expected object of type Const, got '"+a+"'"),"type_error:Const")}vn.prototype.na=!0,vn.prototype.ma=function(){return this.a},vn.prototype.toString=function(){return"Const{"+this.a+"}"};var _n={};function Sn(a){var b=new vn;return b.a=a,b}function En(){this.a="",this.b=xn}function td(a){return a instanceof En&&a.constructor===En&&a.b===xn?a.a:(N("expected object of type TrustedResourceUrl, got '"+a+"' of type "+c(a)),"type_error:TrustedResourceUrl")}function Tn(a,b){var t=wn(a);if(!kn.test(t))throw Error("Invalid TrustedResourceUrl format: "+t);return function(a){var b=new En;return b.a=a,b}(a=t.replace(Cn,function(a,e){if(!Object.prototype.hasOwnProperty.call(b,e))throw Error('Found marker, "'+e+'", in format string, "'+t+'", but no valid label mapping found in args: '+JSON.stringify(b));return(a=b[e])instanceof vn?wn(a):encodeURIComponent(String(a))}))}Sn(""),En.prototype.na=!0,En.prototype.ma=function(){return this.a},En.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Cn=/%{(\w+)}/g,kn=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,xn={};function In(){this.a="",this.b=On}function Nn(a){return a instanceof In&&a.constructor===In&&a.b===On?a.a:(N("expected object of type SafeUrl, got '"+a+"' of type "+c(a)),"type_error:SafeUrl")}In.prototype.na=!0,In.prototype.ma=function(){return this.a},In.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Dn=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function An(a){return a instanceof In?a:(a=a.na?a.ma():String(a),Dn.test(a)||(a="about:invalid#zClosurez"),Pn(a))}var On={};function Pn(a){var b=new In;return b.a=a,b}function Rn(){this.a="",this.b=Ln}Pn("about:blank"),Rn.prototype.na=!0,Rn.prototype.ma=function(){return this.a},Rn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ln={};function Mn(a){var b=new Rn;return b.a=a,b}function Fn(a){var b=document;return n(a)?b.getElementById(a):a}function Bn(a,b){lt(b,function(b,t){b&&b.na&&(b=b.ma()),"style"==t?a.style.cssText=b:"class"==t?a.className=b:"for"==t?a.htmlFor=b:Vn.hasOwnProperty(t)?a.setAttribute(Vn[t],b):0==t.lastIndexOf("aria-",0)||0==t.lastIndexOf("data-",0)?a.setAttribute(t,b):a[t]=b})}Mn("<!DOCTYPE html>"),Mn(""),Mn("<br>");var Vn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function qn(a,b,t){var e=arguments,r=document,o=String(e[0]),l=e[1];if(!yn&&l&&(l.name||l.type)){if(o=["<",o],l.name&&o.push(' name="',Q(l.name),'"'),l.type){o.push(' type="',Q(l.type),'"');var c={};mt(c,l),delete c.type,l=c}o.push(">"),o=o.join("")}return o=r.createElement(o),l&&(n(l)?o.className=l:d(l)?o.className=l.join(" "):Bn(o,l)),2<e.length&&function(a,b,t){function e(t){t&&b.appendChild(n(t)?a.createTextNode(t):t)}for(var r=2;r<t.length;r++){var o=t[r];!f(o)||q(o)&&0<o.nodeType?e(o):F(jn(o)?z(o):o,e)}}(r,o,e),o}function jn(a){if(a&&"number"==typeof a.length){if(q(a))return"function"==typeof a.item||"string"==typeof a.item;if(m(a))return"function"==typeof a.item}return!1}function Un(a){var b=[];return function t(a,b,e){if(null==b)e.push("null");else{if("object"==typeof b){if(d(b)){var n=b;b=n.length,e.push("[");for(var r="",o=0;o<b;o++)e.push(r),t(a,n[o],e),r=",";return void e.push("]")}if(!(b instanceof String||b instanceof Number||b instanceof Boolean)){for(n in e.push("{"),r="",b)Object.prototype.hasOwnProperty.call(b,n)&&("function"!=typeof(o=b[n])&&(e.push(r),Hn(n,e),e.push(":"),t(a,o,e),r=","));return void e.push("}")}b=b.valueOf()}switch(typeof b){case"string":Hn(b,e);break;case"number":e.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case"boolean":e.push(String(b));break;case"function":e.push("null");break;default:throw Error("Unknown type: "+typeof b)}}}(new Wn,a,b),b.join("")}function Wn(){}var $n={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},zn=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Hn(a,b){b.push('"',a.replace(zn,function(a){var b=$n[a];return b||(b="\\u"+(65536|a.charCodeAt(0)).toString(16).substr(1),$n[a]=b),b}),'"')}function Kn(){var a=pr();return Yt&&!!oe&&11==oe||/Edge\/\d+/.test(a)}function Qn(){return e.window&&e.window.location.href||self&&self.location&&self.location.href||""}function Gn(a,b){b=b||e.window;var t="about:blank";a&&(t=Nn(An(a))),b.location.href=t}function Yn(a){return!!((a=(a||pr()).toLowerCase()).match(/android/)||a.match(/webos/)||a.match(/iphone|ipad|ipod/)||a.match(/blackberry/)||a.match(/windows phone/)||a.match(/iemobile/))}function Xn(a){a=a||e.window;try{a.close()}catch(t){}}function Jn(a,b,t){var e=Math.floor(1e9*Math.random()).toString();b=b||500,t=t||600;var n=(window.screen.availHeight-t)/2,r=(window.screen.availWidth-b)/2;for(o in b={width:b,height:t,top:0<n?n:0,left:0<r?r:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},t=pr().toLowerCase(),e&&(b.target=e,it(t,"crios/")&&(b.target="_blank")),cr(pr())==ur&&(a=a||"http://localhost",b.scrollbars=!0),t=a||"",(a=b)||(a={}),e=window,b=t instanceof In?t:An(void 0!==t.href?t.href:String(t)),t=a.target||t.target,n=[],a)switch(o){case"width":case"height":case"top":case"left":n.push(o+"="+a[o]);break;case"target":case"noopener":case"noreferrer":break;default:n.push(o+"="+(a[o]?1:0))}var o=n.join(",");if((ut("iPhone")&&!ut("iPod")&&!ut("iPad")||ut("iPad")||ut("iPod"))&&e.navigator&&e.navigator.standalone&&t&&"_self"!=t?(o=e.document.createElement("A"),b instanceof In||b instanceof In||(b=b.na?b.ma():String(b),Dn.test(b)||(b="about:invalid#zClosurez"),b=Pn(b)),o.href=Nn(b),o.setAttribute("target",t),a.noreferrer&&o.setAttribute("rel","noreferrer"),(a=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,e,1),o.dispatchEvent(a),o={}):a.noreferrer?(o=e.open("",t,o),a=Nn(b),o&&(Jt&&it(a,";")&&(a="'"+a.replace(/'/g,"%27")+"'"),o.opener=null,Sn("b/12014412, meta tag with sanitized URL"),a=Mn(a='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Q(a)+'">'),o.document.write(function(a){return a instanceof Rn&&a.constructor===Rn&&a.b===Ln?a.a:(N("expected object of type SafeHtml, got '"+a+"' of type "+c(a)),"type_error:SafeHtml")}(a)),o.document.close())):(o=e.open(Nn(b),t,o))&&a.noopener&&(o.opener=null),o)try{o.focus()}catch(t){}return o}var Zn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,er=/^[^@]+@[^@]+$/;function nr(){var a=null;return new St(function(b){"complete"==e.document.readyState?b():(a=function(){b()},xe(window,"load",a))}).s(function(b){throw Ie(window,"load",a),b})}function rr(a){return a=a||pr(),!("file:"!==wr()||!a.toLowerCase().match(/iphone|ipad|ipod|android/))}function ir(){var a=e.window;try{return!(!a||a==a.top)}catch(t){return!1}}function or(){return"object"!=typeof e.window&&"function"==typeof e.importScripts}function ar(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":or()?"Worker":"Browser"}function sr(){var a=ar();return"ReactNative"===a||"Node"===a}var ur="Firefox",lr="Chrome";function cr(a){var b=a.toLowerCase();return it(b,"opera/")||it(b,"opr/")||it(b,"opios/")?"Opera":it(b,"iemobile")?"IEMobile":it(b,"msie")||it(b,"trident/")?"IE":it(b,"edge/")?"Edge":it(b,"firefox/")?ur:it(b,"silk/")?"Silk":it(b,"blackberry")?"Blackberry":it(b,"webos")?"Webos":!it(b,"safari/")||it(b,"chrome/")||it(b,"crios/")||it(b,"android")?!it(b,"chrome/")&&!it(b,"crios/")||it(b,"edge/")?it(b,"android")?"Android":(a=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==a.length?a[1]:"Other":lr:"Safari"}var dr={Uc:"FirebaseCore-web",Wc:"FirebaseUI-web"};function fr(a,b){b=b||[];var t,e=[],n={};for(t in dr)n[dr[t]]=!0;for(t=0;t<b.length;t++)void 0!==n[b[t]]&&(delete n[b[t]],e.push(b[t]));return e.sort(),(b=e).length||(b=["FirebaseCore-web"]),"Browser"===(e=ar())?e=cr(n=pr()):"Worker"===e&&(e=cr(n=pr())+"-"+e),e+"/JsCore/"+a+"/"+b.join(",")}function pr(){return e.navigator&&e.navigator.userAgent||""}function gr(a,b){a=a.split("."),b=b||e;for(var t=0;t<a.length&&"object"==typeof b&&null!=b;t++)b=b[a[t]];return t!=a.length&&(b=void 0),b}function mr(){try{var a=e.localStorage,b=Cr();if(a)return a.setItem(b,"1"),a.removeItem(b),!Kn()||!!e.indexedDB}catch(t){return or()&&!!e.indexedDB}return!1}function yr(){return(vr()||"chrome-extension:"===wr()||rr())&&!sr()&&mr()&&!or()}function vr(){return"http:"===wr()||"https:"===wr()}function wr(){return e.location&&e.location.protocol||null}function _r(a){return!Yn(a=a||pr())&&cr(a)!=ur}function Sr(a){return void 0===a?null:Un(a)}function Er(a){var t,b={};for(t in a)a.hasOwnProperty(t)&&null!==a[t]&&void 0!==a[t]&&(b[t]=a[t]);return b}function Tr(a){if(null!==a)return JSON.parse(a)}function Cr(a){return a||Math.floor(1e9*Math.random()).toString()}function kr(a){return"Safari"!=cr(a=a||pr())&&!a.toLowerCase().match(/iphone|ipad|ipod/)}function xr(){var a=e.___jsl;if(a&&a.H)for(var b in a.H)if(a.H[b].r=a.H[b].r||[],a.H[b].L=a.H[b].L||[],a.H[b].r=a.H[b].L.concat(),a.CP)for(var t=0;t<a.CP.length;t++)a.CP[t]=null}function Ir(a,b){if(a>b)throw Error("Short delay should be less than long delay!");this.a=a,this.c=b,a=pr(),b=ar(),this.b=Yn(a)||"ReactNative"===b}function Nr(){var a=e.document;return!a||void 0===a.visibilityState||"visible"==a.visibilityState}function Dr(a){try{var b=new Date(parseInt(a,10));if(!isNaN(b.getTime())&&!/[^0-9]/.test(a))return b.toUTCString()}catch(t){}return null}function Ar(){return!(!gr("fireauth.oauthhelper",e)&&!gr("fireauth.iframe",e))}Ir.prototype.get=function(){var a=e.navigator;return!a||"boolean"!=typeof a.onLine||!vr()&&"chrome-extension:"!==wr()&&void 0===a.connection||a.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Or,Pr={};function Rr(a){Pr[a]||(Pr[a]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(a))}try{var Lr={};Object.defineProperty(Lr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Lr,"abcd",{configurable:!0,enumerable:!0,value:2}),Or=2==Lr.abcd}catch(a){Or=!1}function Mr(a,b,t){Or?Object.defineProperty(a,b,{configurable:!0,enumerable:!0,value:t}):a[b]=t}function Fr(a,b){if(b)for(var t in b)b.hasOwnProperty(t)&&Mr(a,t,b[t])}function Br(a){var b={};return Fr(b,a),b}function Vr(a){var b=a;if("object"==typeof a&&null!=a)for(var t in b="length"in a?[]:{},a)Mr(b,t,Vr(a[t]));return b}function qr(a){var b={},t=a[Ur],e=a[Wr];if(!(a=a[$r])||a!=jr&&!t)throw Error("Invalid provider user info!");b[Hr]=e||null,b[zr]=t||null,Mr(this,Qr,a),Mr(this,Kr,Vr(b))}var jr="EMAIL_SIGNIN",Ur="email",Wr="newEmail",$r="requestType",zr="email",Hr="fromEmail",Kr="data",Qr="operation";function Gr(a,b){this.code=Xr+a,this.message=b||Jr[a]||""}function Yr(a){var b=a&&a.code;return b?new Gr(b.substring(Xr.length),a.message):null}C(Gr,Error),Gr.prototype.C=function(){return{code:this.code,message:this.message}},Gr.prototype.toJSON=function(){return this.C()};var Xr="auth/",Jr={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function Zr(a){var b=a[ii];if(void 0===b)throw new Gr("missing-continue-uri");if("string"!=typeof b||"string"==typeof b&&!b.length)throw new Gr("invalid-continue-uri");this.h=b,this.b=this.a=null,this.g=!1;var t=a[ti];if(t&&"object"==typeof t){b=t[si];var e=t[oi];if(t=t[ai],"string"==typeof b&&b.length){if(this.a=b,void 0!==e&&"boolean"!=typeof e)throw new Gr("argument-error",oi+" property must be a boolean when specified.");if(this.g=!!e,void 0!==t&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new Gr("argument-error",ai+" property must be a non empty string when specified.");this.b=t||null}else{if(void 0!==b)throw new Gr("argument-error",si+" property must be a non empty string when specified.");if(void 0!==e||void 0!==t)throw new Gr("missing-android-pkg-name")}}else if(void 0!==t)throw new Gr("argument-error",ti+" property must be a non null object when specified.");if(this.f=null,(b=a[ri])&&"object"==typeof b){if("string"==typeof(b=b[ui])&&b.length)this.f=b;else if(void 0!==b)throw new Gr("argument-error",ui+" property must be a non empty string when specified.")}else if(void 0!==b)throw new Gr("argument-error",ri+" property must be a non null object when specified.");if(void 0!==(b=a[ni])&&"boolean"!=typeof b)throw new Gr("argument-error",ni+" property must be a boolean when specified.");if(this.c=!!b,void 0!==(a=a[ei])&&("string"!=typeof a||"string"==typeof a&&!a.length))throw new Gr("argument-error",ei+" property must be a non empty string when specified.");this.i=a||null}var ti="android",ei="dynamicLinkDomain",ni="handleCodeInApp",ri="iOS",ii="url",oi="installApp",ai="minimumVersion",si="packageName",ui="bundleId";function ci(a){var b={};for(var t in b.continueUrl=a.h,b.canHandleCodeInApp=a.c,(b.androidPackageName=a.a)&&(b.androidMinimumVersion=a.b,b.androidInstallApp=a.g),b.iOSBundleId=a.f,b.dynamicLinkDomain=a.i,b)null===b[t]&&delete b[t];return b}var hi=null,di=null;function fi(a){var b="";return function(a,b){function t(b){for(;e<a.length;){var t=a.charAt(e++),n=di[t];if(null!=n)return n;if(!/^[\s\xa0]*$/.test(t))throw Error("Unknown base64 encoding at char: "+t)}return b}!function(){if(!hi){hi={},di={};for(var a=0;65>a;a++)hi[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),di[hi[a]]=a,62<=a&&(di["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}}();for(var e=0;;){var n=t(-1),r=t(0),o=t(64),l=t(64);if(64===l&&-1===n)break;b(n<<2|r>>4),64!=o&&(b(r<<4&240|o>>2),64!=l&&b(o<<6&192|l))}}(a,function(a){b+=String.fromCharCode(a)}),b}function pi(a){this.c=a.sub,T(),this.a=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.b=!!a.is_anonymous||"anonymous"==this.a}function gi(a){return(a=mi(a))&&a.sub&&a.iss&&a.aud&&a.exp?new pi(a):null}function mi(a){if(!a)return null;if(3!=(a=a.split(".")).length)return null;for(var b=(4-(a=a[1]).length%4)%4,t=0;t<b;t++)a+=".";try{return JSON.parse(fi(a))}catch(t){}return null}pi.prototype.f=function(){return this.b};var bi,yi={$c:{ab:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},bd:{ab:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},cd:{ab:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function vi(a){for(var b in yi)if(yi[b].id===a)return{firebaseEndpoint:(a=yi[b]).ab,secureTokenEndpoint:a.ib};return null}bi=vi("__EID__")?"__EID__":void 0;var wi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),_i=["client_id","response_type","scope","redirect_uri","state"],Si={Vc:{Ma:"locale",Ba:500,Aa:600,Na:"facebook.com",hb:_i},Xc:{Ma:null,Ba:500,Aa:620,Na:"github.com",hb:_i},Yc:{Ma:"hl",Ba:515,Aa:680,Na:"google.com",hb:_i},dd:{Ma:"lang",Ba:485,Aa:705,Na:"twitter.com",hb:wi}};function Ei(a){for(var b in Si)if(Si[b].Na==a)return Si[b];return null}function Ti(a){var b={};b["facebook.com"]=Ni,b["google.com"]=Ai,b["github.com"]=Di,b["twitter.com"]=Oi;var t=a&&a[ki];try{if(t)return b[t]?new b[t](a):new Ii(a);if(void 0!==a[Ci])return new xi(a)}catch(t){}return null}var Ci="idToken",ki="providerId";function xi(a){var b=a[ki];if(!b&&a[Ci]){var t=gi(a[Ci]);t&&t.a&&(b=t.a)}if(!b)throw Error("Invalid additional user info!");"anonymous"!=b&&"custom"!=b||(b=null),t=!1,void 0!==a.isNewUser?t=!!a.isNewUser:"identitytoolkit#SignupNewUserResponse"===a.kind&&(t=!0),Mr(this,"providerId",b),Mr(this,"isNewUser",t)}function Ii(a){xi.call(this,a),Mr(this,"profile",Vr((a=Tr(a.rawUserInfo||"{}"))||{}))}function Ni(a){if(Ii.call(this,a),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Di(a){if(Ii.call(this,a),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Mr(this,"username",this.profile&&this.profile.login||null)}function Ai(a){if(Ii.call(this,a),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Oi(a){if(Ii.call(this,a),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Mr(this,"username",a.screenName||null)}function Pi(a){this.a=dd(a)}function Ri(a){var b=dd(a),t=tn(b,"link"),e=tn(dd(t),"link");return b=tn(b,"deep_link_id"),tn(dd(b),"link")||b||e||t||a}function Li(a,b){return a.then(function(a){if(a[ma]){var t=gi(a[ma]);if(!t||b!=t.c)throw new Gr("user-mismatch");return a}throw new Gr("user-mismatch")}).s(function(a){throw a&&a.code&&a.code==Xr+"user-not-found"?new Gr("user-mismatch"):a})}function Mi(a,b){if(!b)throw new Gr("internal-error","failed to construct a credential");this.a=b,Mr(this,"providerId",a),Mr(this,"signInMethod",a)}function Fi(a){return{pendingToken:a.a,requestUri:"http://localhost"}}function Bi(a,b,t){if(this.a=null,b.idToken||b.accessToken)b.idToken&&Mr(this,"idToken",b.idToken),b.accessToken&&Mr(this,"accessToken",b.accessToken),b.nonce&&!b.pendingToken&&Mr(this,"nonce",b.nonce),b.pendingToken&&(this.a=b.pendingToken);else{if(!b.oauthToken||!b.oauthTokenSecret)throw new Gr("internal-error","failed to construct a credential");Mr(this,"accessToken",b.oauthToken),Mr(this,"secret",b.oauthTokenSecret)}Mr(this,"providerId",a),Mr(this,"signInMethod",t)}function Vi(a){var b={};return a.idToken&&(b.id_token=a.idToken),a.accessToken&&(b.access_token=a.accessToken),a.secret&&(b.oauth_token_secret=a.secret),b.providerId=a.providerId,a.nonce&&!a.a&&(b.nonce=a.nonce),b={postBody:fn(b).toString(),requestUri:"http://localhost"},a.a&&(delete b.postBody,b.pendingToken=a.a),b}function qi(a,b){this.Dc=b||[],Fr(this,{providerId:a,isOAuthProvider:!0}),this.yb={},this.cb=(Ei(a)||{}).Ma||null,this.$a=null}function ji(a){if("string"!=typeof a||0!=a.indexOf("saml."))throw new Gr("argument-error",'SAML provider IDs must be prefixed with "saml."');qi.call(this,a,[])}function Ui(a){qi.call(this,a,_i),this.a=[]}function Wi(){Ui.call(this,"facebook.com")}function $i(a){if(!a)throw new Gr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;return q(a)&&(b=a.accessToken),(new Wi).credential(null,b)}function zi(){Ui.call(this,"github.com")}function Hi(a){if(!a)throw new Gr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;return q(a)&&(b=a.accessToken),(new zi).credential(null,b)}function Ki(){Ui.call(this,"google.com"),this.ua("profile")}function Qi(a,b){var t=a;return q(a)&&(t=a.idToken,b=a.accessToken),(new Ki).credential(t,b)}function Gi(){qi.call(this,"twitter.com",wi)}function Yi(a,b){var t=a;if(q(t)||(t={oauthToken:a,oauthTokenSecret:b}),!t.oauthToken||!t.oauthTokenSecret)throw new Gr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Bi("twitter.com",t,"twitter.com")}function Xi(a,b,t){this.a=a,this.c=b,Mr(this,"providerId","password"),Mr(this,"signInMethod",t===Ji.EMAIL_LINK_SIGN_IN_METHOD?Ji.EMAIL_LINK_SIGN_IN_METHOD:Ji.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ji(){Fr(this,{providerId:"password",isOAuthProvider:!1})}function Zi(a,b){if(!(b=to(b)))throw new Gr("argument-error","Invalid email link!");return new Xi(a,b,Ji.EMAIL_LINK_SIGN_IN_METHOD)}function to(a){var b=tn((a=new Pi(a=Ri(a))).a,"oobCode")||null;return"signIn"===(tn(a.a,"mode")||null)&&b?b:null}function eo(a){if(!(a.Ta&&a.Sa||a.Fa&&a.$))throw new Gr("internal-error");this.a=a,Mr(this,"providerId","phone"),Mr(this,"signInMethod","phone")}function no(a){return a.a.Fa&&a.a.$?{temporaryProof:a.a.Fa,phoneNumber:a.a.$}:{sessionInfo:a.a.Ta,code:a.a.Sa}}function ro(a){try{this.a=a||r.a.auth()}catch(t){throw new Gr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Fr(this,{providerId:"phone",isOAuthProvider:!1})}function io(a,b){if(!a)throw new Gr("missing-verification-id");if(!b)throw new Gr("missing-verification-code");return new eo({Ta:a,Sa:b})}function oo(a){if(a.temporaryProof&&a.phoneNumber)return new eo({Fa:a.temporaryProof,$:a.phoneNumber});var b=a&&a.providerId;if(!b||"password"===b)return null;var t=a&&a.oauthAccessToken,e=a&&a.oauthTokenSecret,n=a&&a.nonce,r=a&&a.oauthIdToken,o=a&&a.pendingToken;try{switch(b){case"google.com":return Qi(r,t);case"facebook.com":return $i(t);case"github.com":return Hi(t);case"twitter.com":return Yi(t,e);default:return t||e||r||o?o?0==b.indexOf("saml.")?new Mi(b,o):new Bi(b,{pendingToken:o,idToken:a.oauthIdToken,accessToken:a.oauthAccessToken},b):new Ui(b).credential(r,t,n):null}}catch(t){return null}}function ao(a){if(!a.isOAuthProvider)throw new Gr("invalid-oauth-provider")}function so(a,b,t,e,n,r){if(this.b=a,this.c=b||null,this.f=t||null,this.g=e||null,this.h=r||null,this.a=n||null,!this.f&&!this.a)throw new Gr("invalid-auth-event");if(this.f&&this.a)throw new Gr("invalid-auth-event");if(this.f&&!this.g)throw new Gr("invalid-auth-event")}function uo(a){return(a=a||{}).type?new so(a.type,a.eventId,a.urlResponse,a.sessionId,a.error&&Yr(a.error),a.postBody):null}function lo(){this.b=null,this.a=[]}C(Ii,xi),C(Ni,Ii),C(Di,Ii),C(Ai,Ii),C(Oi,Ii),Mi.prototype.la=function(a){return Ra(a,Fi(this))},Mi.prototype.b=function(a,b){var t=Fi(this);return t.idToken=b,La(a,t)},Mi.prototype.f=function(a,b){return Li(Ma(a,Fi(this)),b)},Mi.prototype.C=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Bi.prototype.la=function(a){return Ra(a,Vi(this))},Bi.prototype.b=function(a,b){var t=Vi(this);return t.idToken=b,La(a,t)},Bi.prototype.f=function(a,b){return Li(Ma(a,Vi(this)),b)},Bi.prototype.C=function(){var a={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(a.oauthIdToken=this.idToken),this.accessToken&&(a.oauthAccessToken=this.accessToken),this.secret&&(a.oauthTokenSecret=this.secret),this.nonce&&(a.nonce=this.nonce),this.a&&(a.pendingToken=this.a),a},qi.prototype.Da=function(a){return this.yb=ht(a),this},C(ji,qi),C(Ui,qi),Ui.prototype.ua=function(a){return j(this.a,a)||this.a.push(a),this},Ui.prototype.Eb=function(){return z(this.a)},Ui.prototype.credential=function(a,b,t){if(!a&&!b)throw new Gr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Bi(this.providerId,{idToken:a||null,accessToken:b||null,nonce:t||null},this.providerId)},C(Wi,Ui),Mr(Wi,"PROVIDER_ID","facebook.com"),Mr(Wi,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),C(zi,Ui),Mr(zi,"PROVIDER_ID","github.com"),Mr(zi,"GITHUB_SIGN_IN_METHOD","github.com"),C(Ki,Ui),Mr(Ki,"PROVIDER_ID","google.com"),Mr(Ki,"GOOGLE_SIGN_IN_METHOD","google.com"),C(Gi,qi),Mr(Gi,"PROVIDER_ID","twitter.com"),Mr(Gi,"TWITTER_SIGN_IN_METHOD","twitter.com"),Xi.prototype.la=function(a){return this.signInMethod==Ji.EMAIL_LINK_SIGN_IN_METHOD?cs(a,$a,{email:this.a,oobCode:this.c}):cs(a,as,{email:this.a,password:this.c})},Xi.prototype.b=function(a,b){return this.signInMethod==Ji.EMAIL_LINK_SIGN_IN_METHOD?cs(a,za,{idToken:b,email:this.a,oobCode:this.c}):cs(a,ts,{idToken:b,email:this.a,password:this.c})},Xi.prototype.f=function(a,b){return Li(this.la(a),b)},Xi.prototype.C=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Fr(Ji,{PROVIDER_ID:"password"}),Fr(Ji,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Fr(Ji,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),eo.prototype.la=function(a){return a.Ua(no(this))},eo.prototype.b=function(a,b){var t=no(this);return t.idToken=b,cs(a,us,t)},eo.prototype.f=function(a,b){var t=no(this);return t.operation="REAUTH",Li(a=cs(a,ls,t),b)},eo.prototype.C=function(){var a={providerId:"phone"};return this.a.Ta&&(a.verificationId=this.a.Ta),this.a.Sa&&(a.verificationCode=this.a.Sa),this.a.Fa&&(a.temporaryProof=this.a.Fa),this.a.$&&(a.phoneNumber=this.a.$),a},ro.prototype.Ua=function(a,b){var t=this.a.b;return Nt(b.verify()).then(function(e){if(!n(e))throw new Gr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(b.type){case"recaptcha":return function(a,b){return cs(a,Ja,b)}(t,{phoneNumber:a,recaptchaToken:e}).then(function(a){return"function"==typeof b.reset&&b.reset(),a},function(a){throw"function"==typeof b.reset&&b.reset(),a});default:throw new Gr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Fr(ro,{PROVIDER_ID:"phone"}),Fr(ro,{PHONE_SIGN_IN_METHOD:"phone"}),so.prototype.C=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,postBody:this.h,error:this.a&&this.a.C()}};var co,ho=null;function fo(a){var b="unauthorized-domain",t=void 0,e=dd(a);a=e.b,"chrome-extension"==(e=e.c)?t=H("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):"http"==e||"https"==e?t=H("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):b="operation-not-supported-in-this-environment",Gr.call(this,b,t)}function po(a,b,t){Gr.call(this,a,t),(a=b||{}).zb&&Mr(this,"email",a.zb),a.$&&Mr(this,"phoneNumber",a.$),a.credential&&Mr(this,"credential",a.credential)}function go(a){if(a.code){var b=a.code||"";0==b.indexOf(Xr)&&(b=b.substring(Xr.length));var t={credential:oo(a)};if(a.email)t.zb=a.email;else if(a.phoneNumber)t.$=a.phoneNumber;else if(!t.credential)return new Gr(b,a.message||void 0);return new po(b,t,a.message)}return null}function mo(){}function bo(a){return a.c||(a.c=a.b())}function yo(){}function vo(a){if(!a.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t=0;t<b.length;t++){var e=b[t];try{return new ActiveXObject(e),a.f=e}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return a.f}function wo(){}function _o(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=S(this.ec,this),this.a.onerror=S(this.Fb,this),this.a.onprogress=S(this.fc,this),this.a.ontimeout=S(this.ic,this)}function So(a,b){a.readyState=b,a.onreadystatechange&&a.onreadystatechange()}function Eo(a,b,t){this.reset(a,b,t,void 0,void 0)}lo.prototype.subscribe=function(a){var b=this;this.a.push(a),this.b||(this.b=function(a){for(var t=0;t<b.a.length;t++)b.a[t](a)},"function"==typeof(a=gr("universalLinks.subscribe",e))&&a(null,this.b))},lo.prototype.unsubscribe=function(a){W(this.a,function(b){return b==a})},C(fo,Gr),C(po,Gr),po.prototype.C=function(){var a={code:this.code,message:this.message};this.email&&(a.email=this.email),this.phoneNumber&&(a.phoneNumber=this.phoneNumber);var b=this.credential&&this.credential.C();return b&&mt(a,b),a},po.prototype.toJSON=function(){return this.C()},mo.prototype.c=null,C(yo,mo),yo.prototype.a=function(){var a=vo(this);return a?new ActiveXObject(a):new XMLHttpRequest},yo.prototype.b=function(){var a={};return vo(this)&&(a[0]=!0,a[1]=!0),a},co=new yo,C(wo,mo),wo.prototype.a=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new _o;throw Error("Unsupported browser")},wo.prototype.b=function(){return{}},(g=_o.prototype).open=function(a,b,t){if(null!=t&&!t)throw Error("Only async requests are supported.");this.a.open(a,b)},g.send=function(a){if(a){if("string"!=typeof a)throw Error("Only string data is supported");this.a.send(a)}else this.a.send()},g.abort=function(){this.a.abort()},g.setRequestHeader=function(){},g.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.a.contentType:""},g.ec=function(){this.status=200,this.responseText=this.a.responseText,So(this,4)},g.Fb=function(){this.status=500,this.responseText="",So(this,4)},g.ic=function(){this.Fb()},g.fc=function(){this.status=200,So(this,1)},g.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Eo.prototype.a=null;function To(a){this.f=a,this.b=this.c=this.a=null}function Co(a,b){this.name=a,this.value=b}Eo.prototype.reset=function(a,b,t,e,n){"number"==typeof n||0,e||T(),delete this.a},Co.prototype.toString=function(){return this.name};var ko=new Co("SEVERE",1e3),xo=new Co("WARNING",900),Io=new Co("CONFIG",700),No=new Co("FINE",500);To.prototype.log=function(a,b,t){if(a.value>=function t(a){return a.c?a.c:a.a?t(a.a):(N("Root logger has no level set."),null)}(this).value)for(m(b)&&(b=b()),a=new Eo(a,String(b),this.f),t&&(a.a=t),t=this;t;)t=t.a};var Do={},Ao=null;function Oo(a){var b;if(Ao||(Ao=new To(""),Do[""]=Ao,Ao.c=Io),!(b=Do[a])){b=new To(a);var t=a.lastIndexOf("."),e=a.substr(t+1);(t=Oo(a.substr(0,t))).b||(t.b={}),t.b[e]=b,b.a=t,Do[a]=b}return b}function Po(a,b){a&&a.log(No,b,void 0)}function Ro(a){this.f=a}function Lo(a){Fe.call(this),this.i=a,this.readyState=Mo,this.status=0,this.responseText=this.statusText="",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h="GET",this.c="",this.a=!1,this.f=Oo("goog.net.FetchXmlHttp")}C(Ro,mo),Ro.prototype.a=function(){return new Lo(this.f)},Ro.prototype.b=function(a){return function(){return a}}({}),C(Lo,Fe);var Mo=0;function Fo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}function Bo(a){Fe.call(this),this.headers=new ze,this.D=a||null,this.c=!1,this.w=this.a=null,this.h=this.N=this.m="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=Vo,this.v=this.O=!1}(g=Lo.prototype).open=function(a,b){if(this.readyState!=Mo)throw this.abort(),Error("Error reopening a connection");this.h=a,this.c=b,this.readyState=1,Fo(this)},g.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var b={headers:this.g,method:this.h,credentials:void 0,cache:void 0};a&&(b.body=a),this.i.fetch(new Request(this.c,b)).then(this.hc.bind(this),this.Gb.bind(this))},g.abort=function(){this.responseText="",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,Fo(this)),this.readyState=Mo},g.hc=function(a){this.a&&(this.b||(this.b=a.headers,this.readyState=2,Fo(this)),this.a&&(this.readyState=3,Fo(this),this.a&&a.text().then(this.gc.bind(this,a),this.Gb.bind(this))))},g.gc=function(a,b){this.a&&(this.status=a.status,this.statusText=a.statusText,this.responseText=b,this.readyState=4,Fo(this))},g.Gb=function(a){var b=this.f;b&&b.log(xo,"Failed to fetch url "+this.c,a instanceof Error?a:Error(a)),this.a&&(this.readyState=4,Fo(this))},g.setRequestHeader=function(a,b){this.g.append(a,b)},g.getResponseHeader=function(a){return this.b?this.b.get(a.toLowerCase())||"":((a=this.f)&&a.log(xo,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")},g.getAllResponseHeaders=function(){if(!this.b){var a=this.f;return a&&a.log(xo,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0),""}a=[];for(var b=this.b.entries(),t=b.next();!t.done;)t=t.value,a.push(t[0]+": "+t[1]),t=b.next();return a.join("\r\n")},C(Bo,Fe);var Vo="";Bo.prototype.b=Oo("goog.net.XhrIo");var qo=/^https?$/i,jo=["POST","PUT"];function Uo(a,b,t,r,o){if(a.a)throw Error("[goog.net.XhrIo] Object is active with another request="+a.m+"; newUri="+b);t=t?t.toUpperCase():"GET",a.m=b,a.h="",a.N=t,a.G=!1,a.c=!0,a.a=a.D?a.D.a():co.a(),a.w=a.D?bo(a.D):bo(co),a.a.onreadystatechange=S(a.Jb,a);try{Po(a.b,Xo(a,"Opening Xhr")),a.I=!0,a.a.open(t,String(b),!0),a.I=!1}catch(t){return Po(a.b,Xo(a,"Error opening Xhr: "+t.message)),void $o(a,t)}b=r||"";var l=new ze(a.headers);o&&function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(f(a)||n(a))F(a,b,void 0);else for(var t=$e(a),e=We(a),r=e.length,o=0;o<r;o++)b.call(void 0,e[o],t&&t[o],a)}(o,function(a,b){l.set(b,a)}),o=function(a){t:{for(var b=Wo,t=a.length,e=n(a)?a.split(""):a,r=0;r<t;r++)if(r in e&&b.call(void 0,e[r],r,a)){b=r;break t}b=-1}return 0>b?null:n(a)?a.charAt(b):a[b]}(l.U()),r=e.FormData&&b instanceof e.FormData,!j(jo,t)||o||r||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(a,b){this.a.setRequestHeader(b,a)},a),a.o&&(a.a.responseType=a.o),"withCredentials"in a.a&&a.a.withCredentials!==a.O&&(a.a.withCredentials=a.O);try{Qo(a),0<a.g&&(a.v=function(a){return Yt&&se(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(a.a),Po(a.b,Xo(a,"Will abort after "+a.g+"ms if incomplete, xhr2 "+a.v)),a.v?(a.a.timeout=a.g,a.a.ontimeout=S(a.Ga,a)):a.u=je(a.Ga,a.g,a)),Po(a.b,Xo(a,"Sending request")),a.i=!0,a.a.send(b),a.i=!1}catch(t){Po(a.b,Xo(a,"Send error: "+t.message)),$o(a,t)}}function Wo(a){return"content-type"==a.toLowerCase()}function $o(a,b){a.c=!1,a.a&&(a.f=!0,a.a.abort(),a.f=!1),a.h=b,zo(a),Ko(a)}function zo(a){a.G||(a.G=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}function Ho(a){if(a.c&&void 0!==t)if(a.w[1]&&4==Go(a)&&2==Yo(a))Po(a.b,Xo(a,"Local request error detected and ignored"));else if(a.i&&4==Go(a))je(a.Jb,0,a);else if(a.dispatchEvent("readystatechange"),4==Go(a)){Po(a.b,Xo(a,"Request complete")),a.c=!1;try{var n,b=Yo(a);t:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(n=r)){var o;if(o=0===b){var l=String(a.m).match(Qe)[1]||null;if(!l&&e.self&&e.self.location){var c=e.self.location.protocol;l=c.substr(0,c.length-1)}o=!qo.test(l?l.toLowerCase():"")}n=o}if(n)a.dispatchEvent("complete"),a.dispatchEvent("success");else{try{var h=2<Go(a)?a.a.statusText:""}catch(t){Po(a.b,"Can not get status: "+t.message),h=""}a.h=h+" ["+Yo(a)+"]",zo(a)}}finally{Ko(a)}}}function Ko(a,b){if(a.a){Qo(a);var t=a.a,e=a.w[0]?l:null;a.a=null,a.w=null,b||a.dispatchEvent("ready");try{t.onreadystatechange=e}catch(t){(a=a.b)&&a.log(ko,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function Qo(a){a.a&&a.v&&(a.a.ontimeout=null),a.u&&(e.clearTimeout(a.u),a.u=null)}function Go(a){return a.a?a.a.readyState:0}function Yo(a){try{return 2<Go(a)?a.a.status:-1}catch(t){return-1}}function Xo(a,b){return b+" ["+a.N+" "+a.m+" "+Yo(a)+"]"}function Jo(a,b){this.g=[],this.v=a,this.u=b||null,this.f=this.a=!1,this.c=void 0,this.m=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function th(a,b,t){a.a=!0,a.c=t,a.f=!b,na(a)}function Zo(a){if(a.a){if(!a.m)throw new ra(a);a.m=!1}}function ta(a,b,t,e){a.g.push([b,t,e]),a.a&&na(a)}function ea(a){return V(a.g,function(a){return m(a[1])})}function na(a){if(a.h&&a.a&&ea(a)){var b=a.h,t=aa[b];t&&(e.clearTimeout(t.a),delete aa[b]),a.h=0}a.b&&(a.b.l--,delete a.b),b=a.c;for(var n=t=!1;a.g.length&&!a.i;){var r=a.g.shift(),o=r[0],l=r[1];if(r=r[2],o=a.f?l:o)try{var c=o.call(r||a.u,b);void 0!==c&&(a.f=a.f&&(c==b||c instanceof Error),a.c=b=c),(x(b)||"function"==typeof e.Promise&&b instanceof e.Promise)&&(n=!0,a.i=!0)}catch(e){b=e,a.f=!0,ea(a)||(t=!0)}}a.c=b,n&&(c=S(a.o,a,!0),n=S(a.o,a,!1),b instanceof Jo?(ta(b,c,n),b.w=!0):b.then(c,n)),t&&(b=new oa(b),aa[b.a]=b,a.h=b.a)}function ra(){u.call(this)}function ia(){u.call(this)}function oa(a){this.a=e.setTimeout(S(this.c,this),0),this.b=a}(g=Bo.prototype).Ga=function(){void 0!==t&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Po(this.b,Xo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},g.abort=function(){this.a&&this.c&&(Po(this.b,Xo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ko(this))},g.va=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ko(this,!0)),Bo.ob.va.call(this)},g.Jb=function(){this.qa||(this.I||this.i||this.f?Ho(this):this.wc())},g.wc=function(){Ho(this)},g.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case Vo:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var a=this.b;return a&&a.log(ko,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(t){return Po(this.b,"Can not get response: "+t.message),null}},Jo.prototype.cancel=function(a){if(this.a)this.c instanceof Jo&&this.c.cancel();else{if(this.b){var b=this.b;delete this.b,a?b.cancel(a):(b.l--,0>=b.l&&b.cancel())}this.v?this.v.call(this.u,this):this.m=!0,this.a||(a=new ia(this),Zo(this),th(this,!1,a))}},Jo.prototype.o=function(a,b){this.i=!1,th(this,a,b)},Jo.prototype.D=function(){Zo(this),th(this,!0,null)},Jo.prototype.then=function(a,b,t){var e,n,r=new St(function(a,b){e=a,n=b});return ta(this,e,function(a){a instanceof ia?r.cancel():n(a)}),r.then(a,b,t)},k(Jo),C(ra,u),ra.prototype.message="Deferred has already fired",ra.prototype.name="AlreadyCalledError",C(ia,u),ia.prototype.message="Deferred was canceled",ia.prototype.name="CanceledError",oa.prototype.c=function(){throw delete aa[this.a],this.b};var aa={};function sa(a){var b={},t=b.document||document,e=td(a),n=document.createElement("SCRIPT"),r={Lb:n,Ga:void 0},o=new Jo(ua,r),l=null,p=null!=b.timeout?b.timeout:5e3;return 0<p&&(l=window.setTimeout(function(){la(n,!0);var a=new da(ha,"Timeout reached for loading script "+e);Zo(o),th(o,!1,a)},p),r.Ga=l),n.onload=n.onreadystatechange=function(){n.readyState&&"loaded"!=n.readyState&&"complete"!=n.readyState||(la(n,b.fd||!1,l),o.D())},n.onerror=function(){la(n,!0,l);var a=new da(ca,"Error while loading script "+e);Zo(o),th(o,!1,a)},mt(r=b.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Bn(n,r),n.src=td(a),function(a){var b;return(b=(a||document).getElementsByTagName("HEAD"))&&0!=b.length?b[0]:a.documentElement}(t).appendChild(n),o}function ua(){if(this&&this.Lb){var a=this.Lb;a&&"SCRIPT"==a.tagName&&la(a,!0,this.Ga)}}function la(a,b,t){null!=t&&e.clearTimeout(t),a.onload=l,a.onerror=l,a.onreadystatechange=l,b&&window.setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a)},0)}var ca=0,ha=1;function da(a,b){var t="Jsloader error (code #"+a+")";b&&(t+=": "+b),u.call(this,t),this.code=a}function fa(a){this.f=a}function pa(a,b,t){if(this.b=a,a=b||{},this.i=a.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=a.secureTokenTimeout||ba,this.f=ht(a.secureTokenHeaders||ya),this.g=a.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=a.firebaseTimeout||va,this.a=ht(a.firebaseHeaders||wa),t&&(this.a["X-Client-Version"]=t,this.f["X-Client-Version"]=t),t="Node"==ar(),!(t=e.XMLHttpRequest||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!or())throw new Gr("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,or()?this.c=new Ro(self):sr()?this.c=new fa(t):this.c=new wo}C(da,u),C(fa,mo),fa.prototype.a=function(){return new this.f},fa.prototype.b=function(){return{}};var ga,ma="idToken",ba=new Ir(3e4,6e4),ya={"Content-Type":"application/x-www-form-urlencoded"},va=new Ir(3e4,6e4),wa={"Content-Type":"application/json"};function _a(a,b){b?a.a["X-Firebase-Locale"]=b:delete a.a["X-Firebase-Locale"]}function Sa(a,b){b?(a.a["X-Client-Version"]=b,a.f["X-Client-Version"]=b):(delete a.a["X-Client-Version"],delete a.f["X-Client-Version"])}function Ea(a,b,t,n,r,o,l){(function(){var a=pr();return!((a=cr(a)!=lr?null:(a=a.match(/\sChrome\/(\d+)/i))&&2==a.length?parseInt(a[1],10):null)&&30>a||Yt&&oe&&!(9<oe))})()||or()?a=S(a.o,a):(ga||(ga=new St(function(a,b){!function(a,b){if(((window.gapi||{}).client||{}).request)a();else{e[Ca]=function(){((window.gapi||{}).client||{}).request?a():b(Error("CORS_UNSUPPORTED"))};var t=Tn(Ta,{onload:Ca});!function(a,b){ta(a,null,b,void 0)}(sa(t),function(){b(Error("CORS_UNSUPPORTED"))})}}(a,b)})),a=S(a.m,a)),a(b,t,n,r,o,l)}pa.prototype.o=function(a,b,t,n,r,o){if(or()&&(void 0===e.fetch||void 0===e.Headers||void 0===e.Request))throw new Gr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var l=new Bo(this.c);if(o){l.g=Math.max(0,o);var c=setTimeout(function(){l.dispatchEvent("timeout")},o)}Be(l,"complete",function(){c&&clearTimeout(c);var a=null;try{a=JSON.parse(function(a){try{return a.a?a.a.responseText:""}catch(t){return Po(a.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){a=null}b&&b(a)}),Ve(l,"ready",function(){c&&clearTimeout(c),Ht(this)}),Ve(l,"timeout",function(){c&&clearTimeout(c),Ht(this),b&&b(null)}),Uo(l,a,t,n,r)};var Ta=Sn("https://apis.google.com/js/client.js?onload=%{onload}"),Ca="__fcb"+Math.floor(1e6*Math.random()).toString();function ka(a){if(!n(a=a.email)||!er.test(a))throw new Gr("invalid-email")}function xa(a){"email"in a&&ka(a)}function Ia(a){if(!a[ma])throw new Gr("internal-error")}function Na(a){if(a.phoneNumber||a.temporaryProof){if(!a.phoneNumber||!a.temporaryProof)throw new Gr("internal-error")}else{if(!a.sessionInfo)throw new Gr("missing-verification-id");if(!a.code)throw new Gr("missing-verification-code")}}pa.prototype.m=function(a,b,t,e,n){var r=this;ga.then(function(){window.gapi.client.setApiKey(r.b);var o=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:a,method:t,body:e,headers:n,authType:"none",callback:function(a){window.gapi.auth.setToken(o),b&&b(a)}})}).s(function(a){b&&b({error:{message:a&&a.message||"CORS_UNSUPPORTED"}})})},pa.prototype.Qa=function(){return cs(this,es,{})},pa.prototype.pb=function(a,b){return cs(this,Za,{idToken:a,email:b})},pa.prototype.qb=function(a,b){return cs(this,ts,{idToken:a,password:b})};var Da={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Aa(a){if(!a.requestUri||!a.sessionId&&!a.postBody&&!a.pendingToken)throw new Gr("internal-error")}function Oa(a,b){return b.oauthIdToken&&b.providerId&&0==b.providerId.indexOf("oidc.")&&!b.pendingToken&&(a.sessionId?b.nonce=a.sessionId:a.postBody&&(gn(a=new hn(a.postBody),"nonce")&&(b.nonce=a.get("nonce")))),b}function Pa(a){var b=null;if(a.needConfirmation?(a.code="account-exists-with-different-credential",b=go(a)):"FEDERATED_USER_ID_ALREADY_LINKED"==a.errorMessage?(a.code="credential-already-in-use",b=go(a)):"EMAIL_EXISTS"==a.errorMessage?(a.code="email-already-in-use",b=go(a)):a.errorMessage&&(b=hs(a.errorMessage)),b)throw b;if(!a[ma])throw new Gr("internal-error")}function Ra(a,b){return b.returnIdpCredential=!0,cs(a,ns,b)}function La(a,b){return b.returnIdpCredential=!0,cs(a,is,b)}function Ma(a,b){return b.returnIdpCredential=!0,b.autoCreate=!1,cs(a,rs,b)}function Fa(a){if(!a.oobCode)throw new Gr("invalid-action-code")}(g=pa.prototype).rb=function(a,b){var t={idToken:a},e=[];return lt(Da,function(a,n){var r=b[n];null===r?e.push(a):n in b&&(t[n]=r)}),e.length&&(t.deleteAttribute=e),cs(this,Za,t)},g.kb=function(a,b){return mt(a={requestType:"PASSWORD_RESET",email:a},b),cs(this,Qa,a)},g.lb=function(a,b){return mt(a={requestType:"EMAIL_SIGNIN",email:a},b),cs(this,Ka,a)},g.jb=function(a,b){return mt(a={requestType:"VERIFY_EMAIL",idToken:a},b),cs(this,li,a)},g.Ua=function(a){return cs(this,ss,a)},g.Za=function(a,b){return cs(this,Xa,{oobCode:a,newPassword:b})},g.Ja=function(a){return cs(this,Va,{oobCode:a})},g.Wa=function(a){return cs(this,Ba,{oobCode:a})};var Ba={endpoint:"setAccountInfo",B:Fa,da:"email"},Va={endpoint:"resetPassword",B:Fa,J:function(a){var b=a.requestType;if(!b||!a.email&&"EMAIL_SIGNIN"!=b)throw new Gr("internal-error")}},qa={endpoint:"signupNewUser",B:function(a){if(ka(a),!a.password)throw new Gr("weak-password")},J:Ia,R:!0},ja={endpoint:"createAuthUri"},Ua={endpoint:"deleteAccount",T:["idToken"]},Wa={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],B:function(a){if(!d(a.deleteProvider))throw new Gr("internal-error")}},$a={endpoint:"emailLinkSignin",T:["email","oobCode"],B:ka,J:Ia,R:!0},za={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],B:ka,J:Ia,R:!0},Ha={endpoint:"getAccountInfo"},Ka={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(a){if("EMAIL_SIGNIN"!=a.requestType)throw new Gr("internal-error");ka(a)},da:"email"},li={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],B:function(a){if("VERIFY_EMAIL"!=a.requestType)throw new Gr("internal-error")},da:"email"},Qa={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(a){if("PASSWORD_RESET"!=a.requestType)throw new Gr("internal-error");ka(a)},da:"email"},Ga={ub:!0,endpoint:"getProjectConfig",Ib:"GET"},Ya={ub:!0,endpoint:"getRecaptchaParam",Ib:"GET",J:function(a){if(!a.recaptchaSiteKey)throw new Gr("internal-error")}},Xa={endpoint:"resetPassword",B:Fa,da:"email"},Ja={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},Za={endpoint:"setAccountInfo",T:["idToken"],B:xa,R:!0},ts={endpoint:"setAccountInfo",T:["idToken"],B:function(a){if(xa(a),!a.password)throw new Gr("weak-password")},J:Ia,R:!0},es={endpoint:"signupNewUser",J:Ia,R:!0},ns={endpoint:"verifyAssertion",B:Aa,Oa:Oa,J:Pa,R:!0},rs={endpoint:"verifyAssertion",B:Aa,Oa:Oa,J:function(a){if(a.errorMessage&&"USER_NOT_FOUND"==a.errorMessage)throw new Gr("user-not-found");if(a.errorMessage)throw hs(a.errorMessage);if(!a[ma])throw new Gr("internal-error")},R:!0},is={endpoint:"verifyAssertion",B:function(a){if(Aa(a),!a.idToken)throw new Gr("internal-error")},Oa:Oa,J:Pa,R:!0},os={endpoint:"verifyCustomToken",B:function(a){if(!a.token)throw new Gr("invalid-custom-token")},J:Ia,R:!0},as={endpoint:"verifyPassword",B:function(a){if(ka(a),!a.password)throw new Gr("wrong-password")},J:Ia,R:!0},ss={endpoint:"verifyPhoneNumber",B:Na,J:Ia},us={endpoint:"verifyPhoneNumber",B:function(a){if(!a.idToken)throw new Gr("internal-error");Na(a)},J:function(a){if(a.temporaryProof)throw a.code="credential-already-in-use",go(a);Ia(a)}},ls={Xb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:Na,J:Ia};function cs(a,b,t){if(!function(a,b){if(!b||!b.length)return!0;if(!a)return!1;for(var t=0;t<b.length;t++){var e=a[b[t]];if(null==e||""===e)return!1}return!0}(t,b.T))return Dt(new Gr("internal-error"));var e,n=b.Ib||"POST";return Nt(t).then(b.B).then(function(){return b.R&&(t.returnSecureToken=!0),function(a,b,t,e,n,r){var o=dd(a.g+b);Ze(o,"key",a.b),r&&Ze(o,"cb",T().toString());var l="GET"==t;if(l)for(var p in e)e.hasOwnProperty(p)&&Ze(o,p,e[p]);return new St(function(b,r){Ea(a,o.toString(),function(a){a?a.error?r(ds(a,n||{})):b(a):r(new Gr("network-request-failed"))},t,l?void 0:Un(Er(e)),a.a,a.h.get())})}(a,b.endpoint,n,t,b.Xb,b.ub||!1)}).then(function(a){return e=a,b.Oa?b.Oa(t,e):e}).then(b.J).then(function(){if(!b.da)return e;if(!(b.da in e))throw new Gr("internal-error");return e[b.da]})}function hs(a){return ds({error:{errors:[{message:a}],code:400,message:a}})}function ds(a,b){var t=(a.error&&a.error.errors&&a.error.errors[0]||{}).reason||"",e={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(t=e[t]?new Gr(e[t]):null)return t;for(var n in t=a.error&&a.error.message||"",mt(e={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},b||{}),b=(b=t.match(/^[^\s]+\s*:\s*(.*)$/))&&1<b.length?b[1]:void 0,e)if(0===t.indexOf(n))return new Gr(e[n],b);return!b&&a&&(b=Sr(a)),new Gr("internal-error",b)}function fs(a){this.b=a,this.a=null,this.fb=function(a){return(bs||(bs=new St(function(a,b){function t(){xr(),gr("gapi.load")("gapi.iframes",{callback:a,ontimeout:function(){xr(),b(Error("Network Error"))},timeout:gs.get()})}if(gr("gapi.iframes.Iframe"))a();else if(gr("gapi.load"))t();else{var n="__iframefcb"+Math.floor(1e6*Math.random()).toString();e[n]=function(){gr("gapi.load")?t():b(Error("Network Error"))},Nt(sa(n=Tn(ps,{onload:n}))).s(function(){b(Error("Network Error"))})}}).s(function(a){throw bs=null,a}))).then(function(){return new St(function(b,t){gr("gapi.iframes.getContext")().open({where:document.body,url:a.b,messageHandlersFilter:gr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(e){function n(){clearTimeout(r),b()}a.a=e,a.a.restyle({setHideOnLeave:!1});var r=setTimeout(function(){t(Error("Network Error"))},ms.get());e.ping(n).then(n,function(){t(Error("Network Error"))})})})})}(this)}var ps=Sn("https://apis.google.com/js/api.js?onload=%{onload}"),gs=new Ir(3e4,6e4),ms=new Ir(5e3,15e3),bs=null;function ys(a,b,t){this.i=a,this.g=b,this.h=t,this.f=null,this.a=en(this.i,"/__/auth/iframe"),Ze(this.a,"apiKey",this.g),Ze(this.a,"appName",this.h),this.b=null,this.c=[]}function vs(a,b,t,e,n){this.o=a,this.m=b,this.c=t,this.l=e,this.h=this.g=this.i=null,this.a=n,this.f=null}function ws(a){try{return r.a.app(a).auth().ya()}catch(t){return[]}}function _s(a,b,t,e,n){this.m=a,this.f=b,this.b=t,this.c=e||null,this.h=n||null,this.o=this.u=this.v=null,this.g=[],this.l=this.a=null}function Ss(a){var b=Qn();return function(a){return cs(a,Ga,{}).then(function(a){return a.authorizedDomains||[]})}(a).then(function(a){t:{var t=dd(b),e=t.c;t=t.b;for(var n=0;n<a.length;n++){var r=a[n],o=t,p=e;if(0==r.indexOf("chrome-extension://")?o=dd(r).b==o&&"chrome-extension"==p:"http"!=p&&"https"!=p?o=!1:Zn.test(r)?o=o==r:(r=r.split(".").join("\\."),o=new RegExp("^(.+\\."+r+"|"+r+")$","i").test(o)),o){a=!0;break t}}a=!1}if(!a)throw new fo(Qn())})}function Es(a){return a.l?a.l:(a.l=nr().then(function(){if(!a.u){var b=a.c,t=a.h,e=ws(a.b),n=new ys(a.m,a.f,a.b);n.f=b,n.b=t,n.c=z(e||[]),a.u=n.toString()}a.i=new fs(a.u),function(a){if(!a.i)throw Error("IfcHandler must be initialized!");!function(a,b){a.fb.then(function(){a.a.register("authEvent",b,gr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(a.i,function(b){var t={};if(b&&b.authEvent){var e=!1;for(b=uo(b.authEvent),t=0;t<a.g.length;t++)e=a.g[t](b)||e;return(t={}).status=e?"ACK":"ERROR",Nt(t)}return t.status="ERROR",Nt(t)})}(a)}),a.l)}function Ts(a){return a.o||(a.v=a.c?fr(a.c,ws(a.b)):null,a.o=new pa(a.f,vi(a.h),a.v)),a.o}function Cs(a,b,t,e,n,r,o,l,p,c){return(a=new vs(a,b,t,e,n)).i=r,a.g=o,a.h=l,a.b=ht(p||null),a.f=c,a.toString()}function ks(a){if(this.a=a||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Gr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function xs(a){this.b=a,this.a={},this.c=S(this.f,this)}ys.prototype.toString=function(){return this.f?Ze(this.a,"v",this.f):pn(this.a.a,"v"),this.b?Ze(this.a,"eid",this.b):pn(this.a.a,"eid"),this.c.length?Ze(this.a,"fw",this.c.join(",")):pn(this.a.a,"fw"),this.a.toString()},vs.prototype.toString=function(){var a=en(this.o,"/__/auth/handler");if(Ze(a,"apiKey",this.m),Ze(a,"appName",this.c),Ze(a,"authType",this.l),this.a.isOAuthProvider){var b=this.a;try{var t=r.a.app(this.c).auth().ea()}catch(e){t=null}for(var e in b.$a=t,Ze(a,"providerId",this.a.providerId),t=Er((b=this.a).yb))t[e]=t[e].toString();e=b.Dc,t=ht(t);for(var n=0;n<e.length;n++){var o=e[n];o in t&&delete t[o]}b.cb&&b.$a&&!t[b.cb]&&(t[b.cb]=b.$a),ct(t)||Ze(a,"customParameters",Sr(t))}if("function"==typeof this.a.Eb&&((b=this.a.Eb()).length&&Ze(a,"scopes",b.join(","))),this.i?Ze(a,"redirectUrl",this.i):pn(a.a,"redirectUrl"),this.g?Ze(a,"eventId",this.g):pn(a.a,"eventId"),this.h?Ze(a,"v",this.h):pn(a.a,"v"),this.b)for(var l in this.b)this.b.hasOwnProperty(l)&&!tn(a,l)&&Ze(a,l,this.b[l]);return this.f?Ze(a,"eid",this.f):pn(a.a,"eid"),(l=ws(this.c)).length&&Ze(a,"fw",l.join(",")),a.toString()},(g=_s.prototype).Ea=function(a,b,t){var e=new Gr("popup-closed-by-user"),n=new Gr("web-storage-unsupported"),r=this,o=!1;return this.ga().then(function(){(function(a){var b={type:"webStorageSupport"};return Es(a).then(function(){return function(a,b){return a.fb.then(function(){return new St(function(t){a.a.send(b.type,b,t,gr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(a.i,b)}).then(function(a){if(a&&a.length&&void 0!==a[0].webStorageSupport)return a[0].webStorageSupport;throw Error()})})(r).then(function(t){t||(a&&Xn(a),b(n),o=!0)})}).s(function(){}).then(function(){if(!o)return function(a){return new St(function(b){return function t(){Ue(2e3).then(function(){if(a&&!a.closed)return t();b()})}()})}(a)}).then(function(){if(!o)return Ue(t).then(function(){b(e)})})},g.Mb=function(){var a=pr();return!_r(a)&&!kr(a)},g.Hb=function(){return!1},g.Cb=function(a,b,t,e,n,r,o){if(!a)return Dt(new Gr("popup-blocked"));if(o&&!_r())return this.ga().s(function(b){Xn(a),n(b)}),e(),Nt();this.a||(this.a=Ss(Ts(this)));var l=this;return this.a.then(function(){var b=l.ga().s(function(b){throw Xn(a),n(b),b});return e(),b}).then(function(){(ao(t),o)||Gn(Cs(l.m,l.f,l.b,b,t,null,r,l.c,void 0,l.h),a)}).s(function(a){throw"auth/network-request-failed"==a.code&&(l.a=null),a})},g.Ca=function(a,b,t){this.a||(this.a=Ss(Ts(this)));var e=this;return this.a.then(function(){ao(b),Gn(Cs(e.m,e.f,e.b,a,b,Qn(),t,e.c,void 0,e.h))}).s(function(a){throw"auth/network-request-failed"==a.code&&(e.a=null),a})},g.ga=function(){var a=this;return Es(this).then(function(){return a.i.fb}).s(function(){throw a.a=null,new Gr("network-request-failed")})},g.Qb=function(){return!0},g.wa=function(a){this.g.push(a)},g.Ka=function(a){W(this.g,function(b){return b==a})},(g=ks.prototype).get=function(a){return Nt(this.a.getItem(a)).then(function(a){return a&&Tr(a)})},g.set=function(a,b){return Nt(this.a.setItem(a,Sr(b)))},g.P=function(a){return Nt(this.a.removeItem(a))},g.Y=function(){},g.ca=function(){};var Is,Ns=[];function Ds(a){this.a=a}function As(a){this.c=a,this.b=!1,this.a=[]}function Os(a,b,t,e){var n,r,o,p,l=t||{},c=null;if(a.b)return Dt(Error("connection_unavailable"));var h=e?800:50,d="undefined"!=typeof MessageChannel?new MessageChannel:null;return new St(function(t,e){d?(n=Math.floor(Math.random()*Math.pow(10,20)).toString(),d.port1.start(),o=setTimeout(function(){e(Error("unsupported_event"))},h),c={messageChannel:d,onMessage:r=function(a){a.data.eventId===n&&("ack"===a.data.status?(clearTimeout(o),p=setTimeout(function(){e(Error("timeout"))},3e3)):"done"===a.data.status?(clearTimeout(p),void 0!==a.data.response?t(a.data.response):e(Error("unknown_error"))):(clearTimeout(o),clearTimeout(p),e(Error("invalid_response"))))}},a.a.push(c),d.port1.addEventListener("message",r),a.c.postMessage({eventType:b,eventId:n,data:l},[d.port2])):e(Error("connection_unavailable"))}).then(function(b){return Ps(a,c),b}).s(function(b){throw Ps(a,c),b})}function Ps(a,b){if(b){var t=b.messageChannel,e=b.onMessage;t&&(t.port1.removeEventListener("message",e),t.port1.close()),W(a.a,function(a){return a==b})}}function Rs(){if(!Fs())throw new Gr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=e.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.u=!1,this.h=null;var a=this;or()&&self?(this.l=function(){var a=or()?self:null;if(F(Ns,function(t){t.b==a&&(b=t)}),!b){var b=new xs(a);Ns.push(b)}return b}(),this.l.subscribe("keyChanged",function(b,t){return Us(a).then(function(b){return 0<b.length&&F(a.a,function(a){a(b)}),{keyProcessed:j(b,t.key)}})}),this.l.subscribe("ping",function(){return Nt(["keyChanged"])})):function(){var a=e.navigator;return a&&a.serviceWorker?Nt().then(function(){return a.serviceWorker.ready}).then(function(a){return a.active||null}).s(function(){return null}):Nt(null)}().then(function(b){(a.h=b)&&(a.g=new As(new Ds(b)),Os(a.g,"ping",null,!0).then(function(b){b[0].fulfilled&&j(b[0].value,"keyChanged")&&(a.u=!0)}).s(function(){}))})}function Ls(a){return new St(function(b,t){var e=a.m.open("firebaseLocalStorageDb",1);e.onerror=function(a){try{a.preventDefault()}catch(t){}t(Error(a.target.error))},e.onupgradeneeded=function(a){a=a.target.result;try{a.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){t(e)}},e.onsuccess=function(e){(e=e.target.result).objectStoreNames.contains("firebaseLocalStorage")?b(e):function(a){return new St(function(b,t){var e=a.m.deleteDatabase("firebaseLocalStorageDb");e.onsuccess=function(){b()},e.onerror=function(a){t(Error(a.target.error))}})}(a).then(function(){return Ls(a)}).then(function(a){b(a)}).s(function(a){t(a)})}})}function Ms(a){return a.o||(a.o=Ls(a)),a.o}function Fs(){try{return!!e.indexedDB}catch(t){return!1}}function Bs(a){return a.objectStore("firebaseLocalStorage")}function Vs(a,b){return a.transaction(["firebaseLocalStorage"],b?"readwrite":"readonly")}function qs(a){return new St(function(b,t){a.onsuccess=function(a){a&&a.target?b(a.target.result):b()},a.onerror=function(a){t(a.target.error)}})}function js(a,b){return a.g&&a.h&&function(){var a=e.navigator;return a&&a.serviceWorker&&a.serviceWorker.controller||null}()===a.h?Os(a.g,"keyChanged",{key:b},a.u).then(function(){}).s(function(){}):Nt()}function Us(a){return Ms(a).then(function(a){var b=Bs(Vs(a,!1));return b.getAll?qs(b.getAll()):new St(function(a,t){var e=[],n=b.openCursor();n.onsuccess=function(b){(b=b.target.result)?(e.push(b.value),b.continue()):a(e)},n.onerror=function(a){t(a.target.error)}})}).then(function(b){var t={},e=[];if(0==a.b){for(e=0;e<b.length;e++)t[b[e].fbase_key]=b[e].value;e=function t(a,b){var e,n=[];for(e in a)e in b?typeof a[e]!=typeof b[e]?n.push(e):"object"==typeof a[e]&&null!=a[e]&&null!=b[e]?0<t(a[e],b[e]).length&&n.push(e):a[e]!==b[e]&&n.push(e):n.push(e);for(e in b)e in a||n.push(e);return n}(a.c,t),a.c=t}return e})}function Ws(a){a.i&&a.i.cancel("STOP_EVENT"),a.f&&(clearTimeout(a.f),a.f=null)}function $s(a){var b=this,t=null;this.a=[],this.type="indexedDB",this.c=a,this.b=Nt().then(function(){if(Fs()){var a=Cr(),e="__sak"+a;return Is||(Is=new Rs),(t=Is).set(e,a).then(function(){return t.get(e)}).then(function(b){if(b!==a)throw Error("indexedDB not supported!");return t.P(e)}).then(function(){return t}).s(function(){return b.c})}return b.c}).then(function(a){return b.type=a.type,a.Y(function(a){F(b.a,function(b){b(a)})}),a})}function zs(){this.a={},this.type="inMemory"}function Hs(){if(!function(){var a="Node"==ar();if(!(a=Ks()||a&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==ar())throw new Gr("internal-error","The LocalStorage compatibility library was not found.");throw new Gr("web-storage-unsupported")}this.a=Ks()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Ks(){try{var a=e.localStorage,b=Cr();return a&&(a.setItem(b,"1"),a.removeItem(b)),a}catch(t){return null}}function Qs(){this.type="nullStorage"}function Gs(){if(!function(){var a="Node"==ar();if(!(a=Ys()||a&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==ar())throw new Gr("internal-error","The SessionStorage compatibility library was not found.");throw new Gr("web-storage-unsupported")}this.a=Ys()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ys(){try{var a=e.sessionStorage,b=Cr();return a&&(a.setItem(b,"1"),a.removeItem(b)),a}catch(t){return null}}function Xs(){var a={};a.Browser=tu,a.Node=eu,a.ReactNative=nu,a.Worker=ru,this.a=a[ar()]}xs.prototype.f=function(a){var b=a.data.eventType,t=a.data.eventId,e=this.a[b];if(e&&0<e.length){a.ports[0].postMessage({status:"ack",eventId:t,eventType:b,response:null});var n=[];F(e,function(b){n.push(Nt().then(function(){return b(a.origin,a.data.data)}))}),Ot(n).then(function(e){var n=[];F(e,function(a){n.push({fulfilled:a.Db,value:a.value,reason:a.reason?a.reason.message:void 0})}),F(n,function(a){for(var b in a)void 0===a[b]&&delete a[b]}),a.ports[0].postMessage({status:"done",eventId:t,eventType:b,response:n})})}},xs.prototype.subscribe=function(a,b){ct(this.a)&&this.b.addEventListener("message",this.c),void 0===this.a[a]&&(this.a[a]=[]),this.a[a].push(b)},xs.prototype.unsubscribe=function(a,b){void 0!==this.a[a]&&b?(W(this.a[a],function(a){return a==b}),0==this.a[a].length&&delete this.a[a]):b||delete this.a[a],ct(this.a)&&this.b.removeEventListener("message",this.c)},Ds.prototype.postMessage=function(a,b){this.a.postMessage(a,b)},As.prototype.close=function(){for(;0<this.a.length;)Ps(this,this.a[0]);this.b=!0},(g=Rs.prototype).set=function(a,b){var t,e=!1,n=this;return Ms(this).then(function(b){return qs((b=Bs(Vs(t=b,!0))).get(a))}).then(function(r){var o=Bs(Vs(t,!0));return r?(r.value=b,qs(o.put(r))):(n.b++,e=!0,(r={}).fbase_key=a,r.value=b,qs(o.add(r)))}).then(function(){return n.c[a]=b,js(n,a)}).ia(function(){e&&n.b--})},g.get=function(a){return Ms(this).then(function(b){return qs(Bs(Vs(b,!1)).get(a))}).then(function(a){return a&&a.value})},g.P=function(a){var b=!1,t=this;return Ms(this).then(function(e){return b=!0,t.b++,qs(Bs(Vs(e,!0)).delete(a))}).then(function(){return delete t.c[a],js(t,a)}).ia(function(){b&&t.b--})},g.Y=function(a){0==this.a.length&&function(a){Ws(a),function b(){a.f=setTimeout(function(){a.i=Us(a).then(function(b){0<b.length&&F(a.a,function(a){a(b)})}).then(function(){b()}).s(function(a){"STOP_EVENT"!=a.message&&b()})},800)}()}(this),this.a.push(a)},g.ca=function(a){W(this.a,function(b){return b==a}),0==this.a.length&&Ws(this)},(g=$s.prototype).get=function(a){return this.b.then(function(b){return b.get(a)})},g.set=function(a,b){return this.b.then(function(t){return t.set(a,b)})},g.P=function(a){return this.b.then(function(b){return b.P(a)})},g.Y=function(a){this.a.push(a)},g.ca=function(a){W(this.a,function(b){return b==a})},(g=zs.prototype).get=function(a){return Nt(this.a[a])},g.set=function(a,b){return this.a[a]=b,Nt()},g.P=function(a){return delete this.a[a],Nt()},g.Y=function(){},g.ca=function(){},(g=Hs.prototype).get=function(a){var b=this;return Nt().then(function(){return Tr(b.a.getItem(a))})},g.set=function(a,b){var t=this;return Nt().then(function(){var e=Sr(b);null===e?t.P(a):t.a.setItem(a,e)})},g.P=function(a){var b=this;return Nt().then(function(){b.a.removeItem(a)})},g.Y=function(a){e.window&&Ce(e.window,"storage",a)},g.ca=function(a){e.window&&Ie(e.window,"storage",a)},(g=Qs.prototype).get=function(){return Nt(null)},g.set=function(){return Nt()},g.P=function(){return Nt()},g.Y=function(){},g.ca=function(){},(g=Gs.prototype).get=function(a){var b=this;return Nt().then(function(){return Tr(b.a.getItem(a))})},g.set=function(a,b){var t=this;return Nt().then(function(){var e=Sr(b);null===e?t.P(a):t.a.setItem(a,e)})},g.P=function(a){var b=this;return Nt().then(function(){b.a.removeItem(a)})},g.Y=function(){},g.ca=function(){};var Js,Zs,tu={A:Hs,Ra:Gs},eu={A:Hs,Ra:Gs},nu={A:ks,Ra:Qs},ru={A:Hs,Ra:Qs},iu={Zc:"local",NONE:"none",ad:"session"};function ou(){var a=!(kr(pr())||!ir()),b=_r(),t=mr();this.o=a,this.h=b,this.l=t,this.a={},Js||(Js=new Xs),a=Js;try{this.g=!Kn()&&Ar()||!e.indexedDB?new a.a.A:new $s(or()?new zs:new a.a.A)}catch(t){this.g=new zs,this.h=!0}try{this.i=new a.a.Ra}catch(t){this.i=new zs}this.m=new zs,this.f=S(this.Pb,this),this.b={}}function au(){return Zs||(Zs=new ou),Zs}function su(a,b){switch(b){case"session":return a.i;case"none":return a.m;default:return a.g}}function uu(a,b){return"firebase:"+a.name+(b?":"+b:"")}function lu(a,b,t){return t=uu(b,t),"local"==b.A&&(a.b[t]=null),su(a,b.A).P(t)}function cu(a){a.c&&(clearInterval(a.c),a.c=null)}function hu(a){this.a=a,this.b=au()}(g=ou.prototype).get=function(a,b){return su(this,a.A).get(uu(a,b))},g.set=function(a,b,t){var e=uu(a,t),n=this,r=su(this,a.A);return r.set(e,b).then(function(){return r.get(e)}).then(function(b){"local"==a.A&&(n.b[e]=b)})},g.addListener=function(a,b,t){a=uu(a,b),this.l&&(this.b[a]=e.localStorage.getItem(a)),ct(this.a)&&(su(this,"local").Y(this.f),this.h||(Kn()||!Ar())&&e.indexedDB||!this.l||function(a){cu(a),a.c=setInterval(function(){for(var b in a.a){var t=e.localStorage.getItem(b),n=a.b[b];t!=n&&(a.b[b]=t,t=new pe({type:"storage",key:b,target:window,oldValue:n,newValue:t,a:!0}),a.Pb(t))}},1e3)}(this)),this.a[a]||(this.a[a]=[]),this.a[a].push(t)},g.removeListener=function(a,b,t){a=uu(a,b),this.a[a]&&(W(this.a[a],function(a){return a==t}),0==this.a[a].length&&delete this.a[a]),ct(this.a)&&(su(this,"local").ca(this.f),cu(this))},g.Pb=function(a){if(a&&a.f){var b=a.a.key;if(null==b)for(var t in this.a){var n=this.b[t];void 0===n&&(n=null);var r=e.localStorage.getItem(t);r!==n&&(this.b[t]=r,this.Xa(t))}else if(0==b.indexOf("firebase:")&&this.a[b]){if(void 0!==a.a.a?su(this,"local").ca(this.f):cu(this),this.o)if(t=e.localStorage.getItem(b),(n=a.a.newValue)!==t)null!==n?e.localStorage.setItem(b,n):e.localStorage.removeItem(b);else if(this.b[b]===n&&void 0===a.a.a)return;var o=this;t=function(){void 0===a.a.a&&o.b[b]===e.localStorage.getItem(b)||(o.b[b]=e.localStorage.getItem(b),o.Xa(b))},Yt&&oe&&10==oe&&e.localStorage.getItem(b)!==a.a.newValue&&a.a.newValue!==a.a.oldValue?setTimeout(t,10):t()}}else F(a,S(this.Xa,this))},g.Xa=function(a){this.a[a]&&F(this.a[a],function(a){a()})};var du,fu={name:"authEvent",A:"local"};function pu(){this.a=au()}function gu(a,b){this.b=mu,this.f=e.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=a,this.h=b,this.l=e.Int32Array?new Int32Array(64):Array(64),void 0!==du||(du=e.Int32Array?new Int32Array(Eu):Eu),this.reset()}C(gu,function(){this.b=-1});for(var mu=64,bu=mu-1,yu=[],vu=0;vu<bu;vu++)yu[vu]=0;var wu=$(128,yu);function _u(a){for(var b=a.f,t=a.l,e=0,n=0;n<b.length;)t[e++]=b[n]<<24|b[n+1]<<16|b[n+2]<<8|b[n+3],n=4*e;for(b=16;64>b;b++){n=0|t[b-15],e=0|t[b-2];var r=(0|t[b-16])+((n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3)|0,o=(0|t[b-7])+((e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)|0;t[b]=r+o|0}e=0|a.a[0],n=0|a.a[1];var l=0|a.a[2],p=0|a.a[3],c=0|a.a[4],h=0|a.a[5],d=0|a.a[6];for(r=0|a.a[7],b=0;64>b;b++){var f=((e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10))+(e&n^e&l^n&l)|0;o=(r=r+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((o=(o=c&h^~c&d)+(0|du[b])|0)+(0|t[b])|0)|0,r=d,d=h,h=c,c=p+o|0,p=l,l=n,n=e,e=o+f|0}a.a[0]=a.a[0]+e|0,a.a[1]=a.a[1]+n|0,a.a[2]=a.a[2]+l|0,a.a[3]=a.a[3]+p|0,a.a[4]=a.a[4]+c|0,a.a[5]=a.a[5]+h|0,a.a[6]=a.a[6]+d|0,a.a[7]=a.a[7]+r|0}function Su(a,b,t){void 0===t&&(t=b.length);var e=0,r=a.c;if(n(b))for(;e<t;)a.f[r++]=b.charCodeAt(e++),r==a.b&&(_u(a),r=0);else{if(!f(b))throw Error("message must be string or array");for(;e<t;){var o=b[e++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");a.f[r++]=o,r==a.b&&(_u(a),r=0)}}a.c=r,a.g+=t}gu.prototype.reset=function(){this.g=this.c=0,this.a=e.Int32Array?new Int32Array(this.h):z(this.h)};var Eu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Tu(){gu.call(this,8,Cu)}C(Tu,gu);var Cu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function ku(a,b,t,e,n){this.m=a,this.i=b,this.l=t,this.o=e||null,this.u=n||null,this.h=b+":"+t,this.v=new pu,this.g=new hu(this.h),this.f=null,this.b=[],this.a=this.c=null}function xu(a){return new Gr("invalid-cordova-configuration",a)}function Iu(a){var b=new Tu;Su(b,a),a=[];var t=8*b.g;56>b.c?Su(b,wu,56-b.c):Su(b,wu,b.b-(b.c-56));for(var e=63;56<=e;e--)b.f[e]=255&t,t/=256;for(_u(b),e=t=0;e<b.i;e++)for(var n=24;0<=n;n-=8)a[t++]=b.a[e]>>n&255;return function(a){return B(a,function(a){return 1<(a=a.toString(16)).length?a:"0"+a}).join("")}(a)}function Nu(a,b){for(var t=0;t<a.b.length;t++)try{a.b[t](b)}catch(t){}}function Du(a){return a.f||(a.f=a.ga().then(function(){return new St(function(b){a.wa(function t(e){return b(e),a.Ka(t),!1}),function(a){function b(b){n=!0,r&&r.cancel(),Au(a).then(function(e){var n=t;if(e&&b&&b.url){var r=null;-1!=(n=Ri(b.url)).indexOf("/__/auth/callback")&&(r=(r="object"==typeof(r=Tr(tn(r=dd(n),"firebaseError")||null))?Yr(r):null)?new so(e.b,e.c,null,null,r):new so(e.b,e.c,n,e.g)),n=r||t}Nu(a,n)})}var t=new so("unknown",null,null,null,new Gr("no-auth-event")),n=!1,r=Ue(500).then(function(){return Au(a).then(function(){n||Nu(a,t)})}),o=e.handleOpenURL;e.handleOpenURL=function(a){if(0==a.toLowerCase().indexOf(gr("BuildInfo.packageName",e).toLowerCase()+"://")&&b({url:a}),"function"==typeof o)try{o(a)}catch(t){console.error(t)}},ho||(ho=new lo),ho.subscribe(b)}(a)})})),a.f}function Au(a){var b=null;return function(a){return a.b.get(fu,a.a).then(function(a){return uo(a)})}(a.g).then(function(t){return b=t,lu((t=a.g).b,fu,t.a)}).then(function(){return b})}function Ou(a){this.a=a,this.b=au()}(g=ku.prototype).ga=function(){return this.za?this.za:this.za=(rr(void 0)?nr().then(function(){return new St(function(a,b){var t=e.document,n=setTimeout(function(){b(Error("Cordova framework is not ready."))},1e3);t.addEventListener("deviceready",function(){clearTimeout(n),a()},!1)})}):Dt(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof gr("universalLinks.subscribe",e))throw xu("cordova-universal-links-plugin-fix is not installed");if(void 0===gr("BuildInfo.packageName",e))throw xu("cordova-plugin-buildinfo is not installed");if("function"!=typeof gr("cordova.plugins.browsertab.openUrl",e))throw xu("cordova-plugin-browsertab is not installed");if("function"!=typeof gr("cordova.InAppBrowser.open",e))throw xu("cordova-plugin-inappbrowser is not installed")},function(){throw new Gr("cordova-not-ready")})},g.Ea=function(a,b){return b(new Gr("operation-not-supported-in-this-environment")),Nt()},g.Cb=function(){return Dt(new Gr("operation-not-supported-in-this-environment"))},g.Qb=function(){return!1},g.Mb=function(){return!0},g.Hb=function(){return!0},g.Ca=function(a,b,t){if(this.c)return Dt(new Gr("redirect-operation-pending"));var n=this,r=e.document,o=null,l=null,c=null,p=null;return this.c=Nt().then(function(){return ao(b),Du(n)}).then(function(){return function(a,b,t,n){var r=function(){for(var a=20,b=[];0<a;)b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return b.join("")}(),o=new so(b,n,null,r,new Gr("no-auth-event")),l=gr("BuildInfo.packageName",e);if("string"!=typeof l)throw new Gr("invalid-cordova-configuration");var c=gr("BuildInfo.displayName",e),p={};if(pr().toLowerCase().match(/iphone|ipad|ipod/))p.ibi=l;else{if(!pr().toLowerCase().match(/android/))return Dt(new Gr("operation-not-supported-in-this-environment"));p.apn=l}c&&(p.appDisplayName=c),r=Iu(r),p.sessionId=r;var h=Cs(a.m,a.i,a.l,b,t,null,n,a.o,p,a.u);return a.ga().then(function(){var b=a.h;return a.v.a.set(fu,o.C(),b)}).then(function(){var b=gr("cordova.plugins.browsertab.isAvailable",e);if("function"!=typeof b)throw new Gr("invalid-cordova-configuration");var t=null;b(function(b){if(b){if("function"!=typeof(t=gr("cordova.plugins.browsertab.openUrl",e)))throw new Gr("invalid-cordova-configuration");t(h)}else{if("function"!=typeof(t=gr("cordova.InAppBrowser.open",e)))throw new Gr("invalid-cordova-configuration");b=!(!(b=pr()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!b.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),a.a=t(h,b?"_blank":"_system","location=yes")}})})}(n,a,b,t)}).then(function(){return new St(function(a,b){l=function(){var b=gr("cordova.plugins.browsertab.close",e);return a(),"function"==typeof b&&b(),n.a&&"function"==typeof n.a.close&&(n.a.close(),n.a=null),!1},n.wa(l),c=function(){o||(o=Ue(2e3).then(function(){b(new Gr("redirect-cancelled-by-user"))}))},p=function(){Nr()&&c()},r.addEventListener("resume",c,!1),pr().toLowerCase().match(/android/)||r.addEventListener("visibilitychange",p,!1)}).s(function(a){return Au(n).then(function(){throw a})})}).ia(function(){c&&r.removeEventListener("resume",c,!1),p&&r.removeEventListener("visibilitychange",p,!1),o&&o.cancel(),l&&n.Ka(l),n.c=null})},g.wa=function(a){this.b.push(a),Du(this).s(function(b){"auth/invalid-cordova-configuration"===b.code&&(b=new so("unknown",null,null,null,new Gr("no-auth-event")),a(b))})},g.Ka=function(a){W(this.b,function(b){return b==a})};var Pu={name:"pendingRedirect",A:"session"};function Ru(a){return lu(a.b,Pu,a.a)}function Lu(a,b,t){this.u=a,this.l=b,this.m=t,this.h=[],this.f=!1,this.i=S(this.bb,this),this.b=new zu,this.o=new Gu,this.g=new Ou(this.l+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.o,this.c.linkViaPopup=this.o,this.c.reauthViaPopup=this.o,this.a=Mu(this.u,this.l,this.m,bi)}function Mu(a,b,t,e){var n=r.a.SDK_VERSION||null;return rr()?new ku(a,b,t,n,e):new _s(a,b,t,n,e)}function Fu(a){a.f||(a.f=!0,a.a.wa(a.i));var b=a.a;return a.a.ga().s(function(t){throw a.a==b&&a.reset(),t})}function Bu(a){a.a.Mb()&&Fu(a).s(function(b){var t=new so("unknown",null,null,null,new Gr("operation-not-supported-in-this-environment"));Uu(b)&&a.bb(t)}),a.a.Hb()||Hu(a.b)}(g=Lu.prototype).reset=function(){this.f=!1,this.a.Ka(this.i),this.a=Mu(this.u,this.l,this.m)},g.Ya=function(){this.b.Ya()},g.subscribe=function(a){if(j(this.h,a)||this.h.push(a),!this.f){var b=this;(function(a){return a.b.get(Pu,a.a).then(function(a){return"pending"==a})})(this.g).then(function(a){a?Ru(b.g).then(function(){Fu(b).s(function(a){var t=new so("unknown",null,null,null,new Gr("operation-not-supported-in-this-environment"));Uu(a)&&b.bb(t)})}):Bu(b)}).s(function(){Bu(b)})}},g.unsubscribe=function(a){W(this.h,function(b){return b==a})},g.bb=function(a){if(!a)throw new Gr("invalid-auth-event");for(var b=!1,t=0;t<this.h.length;t++){var e=this.h[t];if(e.vb(a.b,a.c)){(b=this.c[a.b])&&b.h(a,e),b=!0;break}}return Hu(this.b),b};var Vu=new Ir(2e3,1e4),qu=new Ir(3e4,6e4);function ju(a,b,t,e,n,r){return a.a.Cb(b,t,e,function(){a.f||(a.f=!0,a.a.wa(a.i))},function(){a.reset()},n,r)}function Uu(a){return!(!a||"auth/cordova-not-ready"!=a.code)}Lu.prototype.fa=function(){return this.b.fa()},Lu.prototype.Ca=function(a,b,t){var e,n=this;return function(a){return a.b.set(Pu,"pending",a.a)}(this.g).then(function(){return n.a.Ca(a,b,t).s(function(a){if(Uu(a))throw new Gr("operation-not-supported-in-this-environment");return e=a,Ru(n.g).then(function(){throw e})}).then(function(){return n.a.Qb()?new St(function(){}):Ru(n.g).then(function(){return n.fa()}).then(function(){}).s(function(){})})})},Lu.prototype.Ea=function(a,b,t,e){return this.a.Ea(t,function(t){a.ha(b,null,t,e)},Vu.get())};var Wu={};function $u(a,b,t){var e=b+":"+t;return Wu[e]||(Wu[e]=new Lu(a,b,t)),Wu[e]}function zu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Hu(a){a.g||(a.g=!0,Qu(a,!1,null,null))}function Ku(a,b){if(a.b=function(){return Nt(b)},a.f.length)for(var t=0;t<a.f.length;t++)a.f[t](b)}function Qu(a,b,t,e){b?e?function(a,b){if(a.b=function(){return Dt(b)},a.c.length)for(var t=0;t<a.c.length;t++)a.c[t](b)}(a,e):Ku(a,t):Ku(a,{user:null}),a.f=[],a.c=[]}function Gu(){}function Yu(){this.sb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.sb},set:function(a){this.sb=a},enumerable:!1})}function Xu(a,b){this.a=b,Mr(this,"verificationId",a)}function Ju(a,b,t,e){return new ro(a).Ua(b,t).then(function(a){return new Xu(a,e)})}function Zu(a){var b=mi(a);if(!(b&&b.exp&&b.auth_time&&b.iat))throw new Gr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Fr(this,{token:a,expirationTime:Dr(1e3*b.exp),authTime:Dr(1e3*b.auth_time),issuedAtTime:Dr(1e3*b.iat),signInProvider:b.firebase&&b.firebase.sign_in_provider?b.firebase.sign_in_provider:null,claims:b})}function tl(a,b,t){if(this.h=a,this.i=b,this.g=t,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function el(a){this.f=a,this.b=this.a=null,this.c=0}function nl(a,b){var t=b[ma],e=b.refreshToken;b=rl(b.expiresIn),a.b=t,a.c=b,a.a=e}function rl(a){return T()+1e3*parseInt(a,10)}function il(a,b){return function(a,b){return new St(function(t,e){"refresh_token"==b.grant_type&&b.refresh_token||"authorization_code"==b.grant_type&&b.code?Ea(a,a.i+"?key="+encodeURIComponent(a.b),function(a){a?a.error?e(ds(a)):a.access_token&&a.refresh_token?t(a):e(new Gr("internal-error")):e(new Gr("network-request-failed"))},"POST",fn(b).toString(),a.f,a.l.get()):e(new Gr("internal-error"))})}(a.f,b).then(function(b){return a.b=b.access_token,a.c=rl(b.expires_in),a.a=b.refresh_token,{accessToken:a.b,expirationTime:a.c,refreshToken:a.a}}).s(function(b){throw"auth/user-token-expired"==b.code&&(a.a=null),b})}function al(a,b){this.a=a||null,this.b=b||null,Fr(this,{lastSignInTime:Dr(b||null),creationTime:Dr(a||null)})}function sl(a,b,t,e,n,r){Fr(this,{uid:a,displayName:e||null,photoURL:n||null,email:t||null,phoneNumber:r||null,providerId:b})}function ll(a,b){for(var t in fe.call(this,a),b)this[t]=b[t]}function cl(a,b,t){this.G=[],this.m=a.apiKey,this.o=a.appName,this.u=a.authDomain||null,a=r.a.SDK_VERSION?fr(r.a.SDK_VERSION):null,this.b=new pa(this.m,vi(bi),a),this.h=new el(this.b),bl(this,b[ma]),nl(this.h,b),Mr(this,"refreshToken",this.h.a),wl(this,t||{}),Fe.call(this),this.I=!1,this.u&&yr()&&(this.a=$u(this.u,this.m,this.o)),this.N=[],this.i=null,this.w=function(a){return new tl(function(){return a.F(!0)},function(a){return!(!a||"auth/network-request-failed"!=a.code)},function(){var b=a.h.c-T()-3e5;return 0<b?b:0})}(this),this.V=S(this.Ha,this);var e=this;this.ka=null,this.ta=function(a){e.pa(a.g)},this.X=null,this.O=[],this.sa=function(a){fl(e,a.c)},this.W=null}function hl(a,b){a.X&&Ie(a.X,"languageCodeChanged",a.ta),(a.X=b)&&Ce(b,"languageCodeChanged",a.ta)}function fl(a,b){a.O=b,Sa(a.b,r.a.SDK_VERSION?fr(r.a.SDK_VERSION,a.O):null)}function pl(a,b){a.W&&Ie(a.W,"frameworkChanged",a.sa),(a.W=b)&&Ce(b,"frameworkChanged",a.sa)}function gl(a){try{return r.a.app(a.o).auth()}catch(t){throw new Gr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+a.o+"'!")}}function ml(a){a.D||a.w.b||(a.w.start(),Ie(a,"tokenChanged",a.V),Ce(a,"tokenChanged",a.V))}function ol(a){Ie(a,"tokenChanged",a.V),a.w.stop()}function bl(a,b){a.ra=b,Mr(a,"_lat",b)}function yl(a){for(var b=[],t=0;t<a.N.length;t++)b.push(a.N[t](a));return Ot(b).then(function(){return a})}function vl(a){a.a&&!a.I&&(a.I=!0,a.a.subscribe(a))}function wl(a,b){Fr(a,{uid:b.uid,displayName:b.displayName||null,photoURL:b.photoURL||null,email:b.email||null,emailVerified:b.emailVerified||!1,phoneNumber:b.phoneNumber||null,isAnonymous:b.isAnonymous||!1,metadata:new al(b.createdAt,b.lastLoginAt),providerData:[]})}function _l(){}function Sl(a){return Nt().then(function(){if(a.D)throw new Gr("app-deleted")})}function ul(a){return B(a.providerData,function(a){return a.providerId})}function El(a,b){b&&(Tl(a,b.providerId),a.providerData.push(b))}function Tl(a,b){W(a.providerData,function(a){return a.providerId==b})}function Cl(a,b,t){("uid"!=b||t)&&a.hasOwnProperty(b)&&Mr(a,b,t)}function kl(a,b){a!=b&&(Fr(a,{uid:b.uid,displayName:b.displayName,photoURL:b.photoURL,email:b.email,emailVerified:b.emailVerified,phoneNumber:b.phoneNumber,isAnonymous:b.isAnonymous,providerData:[]}),b.metadata?Mr(a,"metadata",function(a){return new al(a.a,a.b)}(b.metadata)):Mr(a,"metadata",new al),F(b.providerData,function(b){El(a,b)}),function(a,b){a.b=b.b,a.a=b.a,a.c=b.c}(a.h,b.h),Mr(a,"refreshToken",a.h.a))}function xl(a){return a.F().then(function(b){var t=a.isAnonymous;return function(a,b){return cs(a.b,Ha,{idToken:b}).then(S(a.xc,a))}(a,b).then(function(){return t||Cl(a,"isAnonymous",!1),b})})}function Il(a,b){b[ma]&&a.ra!=b[ma]&&(nl(a.h,b),a.dispatchEvent(new ll("tokenChanged")),bl(a,b[ma]),Cl(a,"refreshToken",a.h.a))}function Nl(a,b){return xl(a).then(function(){if(j(ul(a),b))return yl(a).then(function(){throw new Gr("provider-already-linked")})})}function Dl(a,b,t){return Br({user:a,credential:oo(b),additionalUserInfo:b=Ti(b),operationType:t})}function Al(a,b){return Il(a,b),a.reload().then(function(){return a})}function Ol(a,b,t,e,n){if(!yr())return Dt(new Gr("operation-not-supported-in-this-environment"));if(a.i&&!n)return Dt(a.i);var o=Ei(t.providerId),l=Cr(a.uid+":::"),c=null;(!_r()||ir())&&a.u&&t.isOAuthProvider&&(c=Cs(a.u,a.m,a.o,b,t,null,l,r.a.SDK_VERSION||null));var p=Jn(c,o&&o.Ba,o&&o.Aa);return e=e().then(function(){if(Rl(a),!n)return a.F().then(function(){})}).then(function(){return ju(a.a,p,b,t,l,!!c)}).then(function(){return new St(function(t,e){a.ha(b,null,new Gr("cancelled-popup-request"),a.g||null),a.f=t,a.v=e,a.g=l,a.c=a.a.Ea(a,b,p,l)})}).then(function(a){return p&&Xn(p),a?Br(a):null}).s(function(a){throw p&&Xn(p),a}),Ll(a,e,n)}function Pl(a,b,t,e,n){if(!yr())return Dt(new Gr("operation-not-supported-in-this-environment"));if(a.i&&!n)return Dt(a.i);var r=null,o=Cr(a.uid+":::");return e=e().then(function(){if(Rl(a),!n)return a.F().then(function(){})}).then(function(){return a.aa=o,yl(a)}).then(function(b){return a.ba&&(b=(b=a.ba).b.set(Bl,a.C(),b.a)),b}).then(function(){return a.a.Ca(b,t,o)}).s(function(b){if(r=b,a.ba)return Vl(a.ba);throw r}).then(function(){if(r)throw r}),Ll(a,e,n)}function Rl(a){if(!a.a||!a.I){if(a.a&&!a.I)throw new Gr("internal-error");throw new Gr("auth-domain-config-required")}}function Ll(a,b,t){var e=function(a,b,t){return a.i&&!t?(b.cancel(),Dt(a.i)):b.s(function(b){throw!b||"auth/user-disabled"!=b.code&&"auth/user-token-expired"!=b.code||(a.i||a.dispatchEvent(new ll("userInvalidated")),a.i=b),b})}(a,b,t);return a.G.push(e),e.ia(function(){U(a.G,e)}),e}function Ml(a){if(!a.apiKey)return null;var b={apiKey:a.apiKey,authDomain:a.authDomain,appName:a.appName},t={};if(!(a.stsTokenManager&&a.stsTokenManager.accessToken&&a.stsTokenManager.expirationTime))return null;t[ma]=a.stsTokenManager.accessToken,t.refreshToken=a.stsTokenManager.refreshToken||null,t.expiresIn=(a.stsTokenManager.expirationTime-T())/1e3;var e=new cl(b,t,a);return a.providerData&&F(a.providerData,function(a){a&&El(e,Br(a))}),a.redirectEventId&&(e.aa=a.redirectEventId),e}function Fl(a){this.a=a,this.b=au()}zu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},zu.prototype.h=function(a,b){if(a){this.reset(),this.g=!0;var t=a.b,e=a.c,n=a.a&&"auth/web-storage-unsupported"==a.a.code,r=a.a&&"auth/operation-not-supported-in-this-environment"==a.a.code;this.i=!(!n&&!r),"unknown"!=t||n||r?a.a?(Qu(this,!0,null,a.a),Nt()):b.xa(t,e)?function(a,b,t){t=t.xa(b.b,b.c);var e=b.f,n=b.g,r=b.h,o=!!b.b.match(/Redirect$/);t(e,n,r).then(function(b){Qu(a,o,b,null)}).s(function(b){Qu(a,o,null,b)})}(this,a,b):Dt(new Gr("invalid-auth-event")):(Qu(this,!1,null,null),Nt())}else Dt(new Gr("invalid-auth-event"))},zu.prototype.Ya=function(){this.g&&!this.i&&Qu(this,!1,null,null)},zu.prototype.fa=function(){var a=this;return new St(function(b,t){a.b?a.b().then(b,t):(a.f.push(b),a.c.push(t),function(a){var b=new Gr("timeout");a.a&&a.a.cancel(),a.a=Ue(qu.get()).then(function(){a.b||(a.g=!0,Qu(a,!0,null,b))})}(a))})},Gu.prototype.h=function(a,b){if(a){var t=a.b,e=a.c;a.a?(b.ha(a.b,null,a.a,a.c),Nt()):b.xa(t,e)?function(a,b){var t=a.c,e=a.b;b.xa(e,t)(a.f,a.g,a.h).then(function(a){b.ha(e,a,null,t)}).s(function(a){b.ha(e,null,a,t)})}(a,b):Dt(new Gr("invalid-auth-event"))}else Dt(new Gr("invalid-auth-event"))},Xu.prototype.confirm=function(a){return a=io(this.verificationId,a),this.a(a)},tl.prototype.start=function(){this.a=this.c,function t(a,b){a.stop();a.b=Ue(function(a,b){return b?(a.a=a.c,a.g()):(b=a.a,a.a*=2,a.a>a.f&&(a.a=a.f),b)}(a,b)).then(function(){return a=e.document,b=null,Nr()||!a?Nt():new St(function(t){b=function(){Nr()&&(a.removeEventListener("visibilitychange",b,!1),t())},a.addEventListener("visibilitychange",b,!1)}).s(function(t){throw a.removeEventListener("visibilitychange",b,!1),t});var a,b}).then(function(){return a.h()}).then(function(){t(a,!0)}).s(function(b){a.i(b)&&t(a,!1)})}(this,!0)},tl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},el.prototype.C=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},el.prototype.getToken=function(a){return a=!!a,this.b&&!this.a?Dt(new Gr("user-token-expired")):a||!this.b||T()>this.c-3e4?this.a?il(this,{grant_type:"refresh_token",refresh_token:this.a}):Nt(null):Nt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},al.prototype.C=function(){return{lastLoginAt:this.b,createdAt:this.a}},C(ll,fe),C(cl,Fe),cl.prototype.pa=function(a){this.ka=a,_a(this.b,a)},cl.prototype.ea=function(){return this.ka},cl.prototype.ya=function(){return z(this.O)},cl.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Mr(cl.prototype,"providerId","firebase"),(g=cl.prototype).reload=function(){var a=this;return Ll(this,Sl(this).then(function(){return xl(a).then(function(){return yl(a)}).then(_l)}))},g.dc=function(a){return this.F(a).then(function(a){return new Zu(a)})},g.F=function(a){var b=this;return Ll(this,Sl(this).then(function(){return b.h.getToken(a)}).then(function(a){if(!a)throw new Gr("internal-error");return a.accessToken!=b.ra&&(bl(b,a.accessToken),b.dispatchEvent(new ll("tokenChanged"))),Cl(b,"refreshToken",a.refreshToken),a.accessToken}))},g.xc=function(a){if(!(a=a.users)||!a.length)throw new Gr("internal-error");wl(this,{uid:(a=a[0]).localId,displayName:a.displayName,photoURL:a.photoUrl,email:a.email,emailVerified:!!a.emailVerified,phoneNumber:a.phoneNumber,lastLoginAt:a.lastLoginAt,createdAt:a.createdAt});for(var b=function(a){return(a=a.providerUserInfo)&&a.length?B(a,function(a){return new sl(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}(a),t=0;t<b.length;t++)El(this,b[t]);Cl(this,"isAnonymous",!(this.email&&a.passwordHash||this.providerData&&this.providerData.length))},g.gb=function(a){var b=this,t=null;return Ll(this,a.f(this.b,this.uid).then(function(a){return Il(b,a),t=Dl(b,a,"reauthenticate"),b.i=null,b.reload()}).then(function(){return t}),!0)},g.yc=function(a){return Rr("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.gb(a).then(function(){})},g.eb=function(a){var b=this,t=null;return Ll(this,Nl(this,a.providerId).then(function(){return b.F()}).then(function(t){return a.b(b.b,t)}).then(function(a){return t=Dl(b,a,"link"),Al(b,a)}).then(function(){return t}))},g.pc=function(a){return Rr("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.eb(a).then(function(a){return a.user})},g.qc=function(a,b){var t=this;return Ll(this,Nl(this,"phone").then(function(){return Ju(gl(t),a,b,S(t.eb,t))}))},g.zc=function(a,b){var t=this;return Ll(this,Nt().then(function(){return Ju(gl(t),a,b,S(t.gb,t))}),!0)},g.pb=function(a){var b=this;return Ll(this,this.F().then(function(t){return b.b.pb(t,a)}).then(function(a){return Il(b,a),b.reload()}))},g.Rc=function(a){var b=this;return Ll(this,this.F().then(function(t){return a.b(b.b,t)}).then(function(a){return Il(b,a),b.reload()}))},g.qb=function(a){var b=this;return Ll(this,this.F().then(function(t){return b.b.qb(t,a)}).then(function(a){return Il(b,a),b.reload()}))},g.rb=function(a){if(void 0===a.displayName&&void 0===a.photoURL)return Sl(this);var b=this;return Ll(this,this.F().then(function(t){return b.b.rb(t,{displayName:a.displayName,photoUrl:a.photoURL})}).then(function(a){return Il(b,a),Cl(b,"displayName",a.displayName||null),Cl(b,"photoURL",a.photoUrl||null),F(b.providerData,function(a){"password"===a.providerId&&(Mr(a,"displayName",b.displayName),Mr(a,"photoURL",b.photoURL))}),yl(b)}).then(_l))},g.Pc=function(a){var b=this;return Ll(this,xl(this).then(function(t){return j(ul(b),a)?function(a,b,t){return cs(a,Wa,{idToken:b,deleteProvider:t})}(b.b,t,[a]).then(function(a){var t={};return F(a.providerUserInfo||[],function(a){t[a.providerId]=!0}),F(ul(b),function(a){t[a]||Tl(b,a)}),t[ro.PROVIDER_ID]||Mr(b,"phoneNumber",null),yl(b)}):yl(b).then(function(){throw new Gr("no-such-provider")})}))},g.delete=function(){var a=this;return Ll(this,this.F().then(function(b){return cs(a.b,Ua,{idToken:b})}).then(function(){a.dispatchEvent(new ll("userDeleted"))})).then(function(){for(var b=0;b<a.G.length;b++)a.G[b].cancel("app-deleted");hl(a,null),pl(a,null),a.G=[],a.D=!0,ol(a),Mr(a,"refreshToken",null),a.a&&a.a.unsubscribe(a)})},g.vb=function(a,b){return!!("linkViaPopup"==a&&(this.g||null)==b&&this.f||"reauthViaPopup"==a&&(this.g||null)==b&&this.f||"linkViaRedirect"==a&&(this.aa||null)==b||"reauthViaRedirect"==a&&(this.aa||null)==b)},g.ha=function(a,b,t,e){"linkViaPopup"!=a&&"reauthViaPopup"!=a||e!=(this.g||null)||(t&&this.v?this.v(t):b&&!t&&this.f&&this.f(b),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},g.xa=function(a,b){return"linkViaPopup"==a&&b==(this.g||null)?S(this.Ab,this):"reauthViaPopup"==a&&b==(this.g||null)?S(this.Bb,this):"linkViaRedirect"==a&&(this.aa||null)==b?S(this.Ab,this):"reauthViaRedirect"==a&&(this.aa||null)==b?S(this.Bb,this):null},g.rc=function(a){var b=this;return Ol(this,"linkViaPopup",a,function(){return Nl(b,a.providerId).then(function(){return yl(b)})},!1)},g.Ac=function(a){return Ol(this,"reauthViaPopup",a,function(){return Nt()},!0)},g.sc=function(a){var b=this;return Pl(this,"linkViaRedirect",a,function(){return Nl(b,a.providerId)},!1)},g.Bc=function(a){return Pl(this,"reauthViaRedirect",a,function(){return Nt()},!0)},g.Ab=function(a,b,t){var e=this;this.c&&(this.c.cancel(),this.c=null);var n=null;return Ll(this,this.F().then(function(n){return La(e.b,{requestUri:a,postBody:t,sessionId:b,idToken:n})}).then(function(a){return n=Dl(e,a,"link"),Al(e,a)}).then(function(){return n}))},g.Bb=function(a,b,t){var e=this;this.c&&(this.c.cancel(),this.c=null);var n=null;return Ll(this,Nt().then(function(){return Li(Ma(e.b,{requestUri:a,sessionId:b,postBody:t}),e.uid)}).then(function(a){return n=Dl(e,a,"reauthenticate"),Il(e,a),e.i=null,e.reload()}).then(function(){return n}),!0)},g.jb=function(a){var b=this,t=null;return Ll(this,this.F().then(function(b){return t=b,void 0===a||ct(a)?{}:ci(new Zr(a))}).then(function(a){return b.b.jb(t,a)}).then(function(a){if(b.email!=a)return b.reload()}).then(function(){}))},g.toJSON=function(){return this.C()},g.C=function(){var a={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.m,appName:this.o,authDomain:this.u,stsTokenManager:this.h.C(),redirectEventId:this.aa||null};return this.metadata&&mt(a,this.metadata.C()),F(this.providerData,function(b){a.providerData.push(function(a){var t,b={};for(t in a)a.hasOwnProperty(t)&&(b[t]=a[t]);return b}(b))}),a};var Bl={name:"redirectUser",A:"session"};function Vl(a){return lu(a.b,Bl,a.a)}function ql(a){this.a=a,this.b=au(),this.c=null,this.f=function(a){var b=Wl("local"),t=Wl("session"),n=Wl("none");return function(a,b,t){var n=uu(b,t),r=su(a,b.A);return a.get(b,t).then(function(o){var l=null;try{l=Tr(e.localStorage.getItem(n))}catch(t){}if(l&&!o)return e.localStorage.removeItem(n),a.set(b,l,t);l&&o&&"localStorage"!=r.type&&e.localStorage.removeItem(n)})}(a.b,b,a.a).then(function(){return a.b.get(t,a.a)}).then(function(e){return e?t:a.b.get(n,a.a).then(function(t){return t?n:a.b.get(b,a.a).then(function(t){return t?b:a.b.get(Ul,a.a).then(function(a){return a?Wl(a):b})})})}).then(function(b){return a.c=b,jl(a,b.A)}).s(function(){a.c||(a.c=b)})}(this),this.b.addListener(Wl("local"),this.a,S(this.g,this))}function jl(a,b){var t,e=[];for(t in iu)iu[t]!==b&&e.push(lu(a.b,Wl(iu[t]),a.a));return e.push(lu(a.b,Ul,a.a)),function(a){return new St(function(b,t){var e=a.length,n=[];if(e)for(var r=function(a,t){e--,n[a]=t,0==e&&b(n)},o=function(a){t(a)},l=0;l<a.length;l++)At(a[l],E(r,l),o);else b(n)})}(e)}ql.prototype.g=function(){var a=this,b=Wl("local");Kl(this,function(){return Nt().then(function(){return a.c&&"local"!=a.c.A?a.b.get(b,a.a):null}).then(function(t){if(t)return jl(a,"local").then(function(){a.c=b})})})};var Ul={name:"persistence",A:"session"};function Wl(a){return{name:"authUser",A:a}}function $l(a,b){return Kl(a,function(){return a.b.set(a.c,b.C(),a.a)})}function zl(a){return Kl(a,function(){return lu(a.b,a.c,a.a)})}function Hl(a,b){return Kl(a,function(){return a.b.get(a.c,a.a).then(function(a){return a&&b&&(a.authDomain=b),Ml(a||{})})})}function Kl(a,b){return a.f=a.f.then(b,b),a.f}function Ql(a){if(this.m=!1,Mr(this,"settings",new Yu),Mr(this,"app",a),!ec(this).options||!ec(this).options.apiKey)throw new Gr("invalid-api-key");a=r.a.SDK_VERSION?fr(r.a.SDK_VERSION):null,this.b=new pa(ec(this).options&&ec(this).options.apiKey,vi(bi),a),this.N=[],this.o=[],this.I=[],this.Tb=r.a.INTERNAL.createSubscribe(S(this.mc,this)),this.O=void 0,this.Ub=r.a.INTERNAL.createSubscribe(S(this.nc,this)),Zl(this,null),this.h=new ql(ec(this).options.apiKey+":"+ec(this).name),this.w=new Fl(ec(this).options.apiKey+":"+ec(this).name),this.V=oc(this,function(a){var b=ec(a).options.authDomain,t=function(a){var b=function(a,b){return a.b.get(Bl,a.a).then(function(a){return a&&b&&(a.authDomain=b),Ml(a||{})})}(a.w,ec(a).options.authDomain).then(function(b){return(a.D=b)&&(b.ba=a.w),Vl(a.w)});return oc(a,b)}(a).then(function(){return Hl(a.h,b)}).then(function(b){return b?(b.ba=a.w,a.D&&(a.D.aa||null)==(b.aa||null)?b:b.reload().then(function(){return $l(a.h,b).then(function(){return b})}).s(function(t){return"auth/network-request-failed"==t.code?b:zl(a.h)})):null}).then(function(b){Zl(a,b||null)});return oc(a,t)}(this)),this.i=oc(this,function(a){return a.V.then(function(){return a.fa()}).s(function(){}).then(function(){if(!a.m)return a.ka()}).s(function(){}).then(function(){if(!a.m){a.X=!0;var b=a.h;b.b.addListener(Wl("local"),b.a,a.ka)}})}(this)),this.X=!1,this.ka=S(this.Mc,this),this.Ha=S(this.Z,this),this.ra=S(this.bc,this),this.sa=S(this.jc,this),this.ta=S(this.kc,this),function(a){var b=ec(a).options.authDomain,t=ec(a).options.apiKey;b&&yr()&&(a.Sb=a.V.then(function(){if(!a.m){if(a.a=$u(b,t,ec(a).name),a.a.subscribe(a),nc(a)&&vl(nc(a)),a.D){vl(a.D);var e=a.D;e.pa(a.ea()),hl(e,a),fl(e=a.D,a.G),pl(e,a),a.D=null}return a.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=S(this.delete,this),this.INTERNAL.logFramework=S(this.tc,this),this.u=0,Fe.call(this),function(a){Object.defineProperty(a,"lc",{get:function(){return this.ea()},set:function(a){this.pa(a)},enumerable:!1}),a.W=null}(this),this.G=[]}function Gl(a){fe.call(this,"languageCodeChanged"),this.g=a}function Yl(a){fe.call(this,"frameworkChanged"),this.c=a}function Xl(a){return a.Sb||Dt(new Gr("auth-domain-config-required"))}function Jl(a,b){var t={};return t.apiKey=ec(a).options.apiKey,t.authDomain=ec(a).options.authDomain,t.appName=ec(a).name,a.V.then(function(){return function(a,b,t,e){var n=new cl(a,b);return t&&(n.ba=t),e&&fl(n,e),n.reload().then(function(){return n})}(t,b,a.w,a.ya())}).then(function(b){return nc(a)&&b.uid==nc(a).uid?(kl(nc(a),b),a.Z(b)):(Zl(a,b),vl(b),a.Z(b))}).then(function(){ic(a)})}function Zl(a,b){nc(a)&&(function(a,b){W(a.N,function(a){return a==b})}(nc(a),a.Ha),Ie(nc(a),"tokenChanged",a.ra),Ie(nc(a),"userDeleted",a.sa),Ie(nc(a),"userInvalidated",a.ta),ol(nc(a))),b&&(b.N.push(a.Ha),Ce(b,"tokenChanged",a.ra),Ce(b,"userDeleted",a.sa),Ce(b,"userInvalidated",a.ta),0<a.u&&ml(b)),Mr(a,"currentUser",b),b&&(b.pa(a.ea()),hl(b,a),fl(b,a.G),pl(b,a))}function tc(a,b){var t=null,e=null;return oc(a,b.then(function(b){return t=oo(b),e=Ti(b),Jl(a,b)}).then(function(){return Br({user:nc(a),credential:t,additionalUserInfo:e,operationType:"signIn"})}))}function ec(a){return a.app}function nc(a){return a.currentUser}function rc(a){return nc(a)&&nc(a)._lat||null}function ic(a){if(a.X){for(var b=0;b<a.o.length;b++)a.o[b]&&a.o[b](rc(a));if(a.O!==a.getUid()&&a.I.length)for(a.O=a.getUid(),b=0;b<a.I.length;b++)a.I[b]&&a.I[b](rc(a))}}function oc(a,b){return a.N.push(b),b.ia(function(){U(a.N,b)}),b}function ac(){}function sc(){this.a={},this.b=1e12}ql.prototype.mb=function(a){var b=null,t=this;return function(a){var b=new Gr("invalid-persistence-type"),t=new Gr("unsupported-persistence-type");t:{for(e in iu)if(iu[e]==a){var e=!0;break t}e=!1}if(!e||"string"!=typeof a)throw b;switch(ar()){case"ReactNative":if("session"===a)throw t;break;case"Node":if("none"!==a)throw t;break;default:if(!mr()&&"none"!==a)throw t}}(a),Kl(this,function(){return a!=t.c.A?t.b.get(t.c,t.a).then(function(e){return b=e,jl(t,a)}).then(function(){if(t.c=Wl(a),b)return t.b.set(t.c,b,t.a)}):Nt()})},C(Ql,Fe),C(Gl,fe),C(Yl,fe),(g=Ql.prototype).mb=function(a){return oc(this,a=this.h.mb(a))},g.pa=function(a){this.W===a||this.m||(this.W=a,_a(this.b,this.W),this.dispatchEvent(new Gl(this.ea())))},g.ea=function(){return this.W},g.Sc=function(){var a=e.navigator;this.pa(a&&(a.languages&&a.languages[0]||a.language||a.userLanguage)||null)},g.tc=function(a){this.G.push(a),Sa(this.b,r.a.SDK_VERSION?fr(r.a.SDK_VERSION,this.G):null),this.dispatchEvent(new Yl(this.G))},g.ya=function(){return z(this.G)},g.toJSON=function(){return{apiKey:ec(this).options.apiKey,authDomain:ec(this).options.authDomain,appName:ec(this).name,currentUser:nc(this)&&nc(this).C()}},g.vb=function(a,b){switch(a){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==b&&!!this.f;default:return!1}},g.ha=function(a,b,t,e){"signInViaPopup"==a&&this.g==e&&(t&&this.v?this.v(t):b&&!t&&this.f&&this.f(b),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},g.xa=function(a,b){return"signInViaRedirect"==a||"signInViaPopup"==a&&this.g==b&&this.f?S(this.ac,this):null},g.ac=function(a,b,t){var e=this;a={requestUri:a,postBody:t,sessionId:b},this.c&&(this.c.cancel(),this.c=null);var n=null,r=null,o=Ra(e.b,a).then(function(a){return n=oo(a),r=Ti(a),a});return oc(this,a=e.V.then(function(){return o}).then(function(a){return Jl(e,a)}).then(function(){return Br({user:nc(e),credential:n,additionalUserInfo:r,operationType:"signIn"})}))},g.Kc=function(a){if(!yr())return Dt(new Gr("operation-not-supported-in-this-environment"));var b=this,t=Ei(a.providerId),e=Cr(),n=null;(!_r()||ir())&&ec(this).options.authDomain&&a.isOAuthProvider&&(n=Cs(ec(this).options.authDomain,ec(this).options.apiKey,ec(this).name,"signInViaPopup",a,null,e,r.a.SDK_VERSION||null));var o=Jn(n,t&&t.Ba,t&&t.Aa);return oc(this,t=Xl(this).then(function(b){return ju(b,o,"signInViaPopup",a,e,!!n)}).then(function(){return new St(function(a,t){b.ha("signInViaPopup",null,new Gr("cancelled-popup-request"),b.g),b.f=a,b.v=t,b.g=e,b.c=b.a.Ea(b,"signInViaPopup",o,e)})}).then(function(a){return o&&Xn(o),a?Br(a):null}).s(function(a){throw o&&Xn(o),a}))},g.Lc=function(a){if(!yr())return Dt(new Gr("operation-not-supported-in-this-environment"));var b=this;return oc(this,Xl(this).then(function(){return Kl(a=b.h,function(){return a.b.set(Ul,a.c.A,a.a)});var a}).then(function(){return b.a.Ca("signInViaRedirect",a)}))},g.fa=function(){if(!yr())return Dt(new Gr("operation-not-supported-in-this-environment"));var a=this;return oc(this,Xl(this).then(function(){return a.a.fa()}).then(function(a){return a?Br(a):null}))},g.Qc=function(a){if(!a)return Dt(new Gr("null-user"));var b=this,t={};t.apiKey=ec(this).options.apiKey,t.authDomain=ec(this).options.authDomain,t.appName=ec(this).name;var e=function(a,b,t,e){b=b||{apiKey:a.m,authDomain:a.u,appName:a.o};var n=a.h,r={};return r[ma]=n.b,r.refreshToken=n.a,r.expiresIn=(n.c-T())/1e3,b=new cl(b,r),t&&(b.ba=t),e&&fl(b,e),kl(b,a),b}(a,t,b.w,b.ya());return oc(this,this.i.then(function(){if(ec(b).options.apiKey!=a.m)return e.reload()}).then(function(){return nc(b)&&a.uid==nc(b).uid?(kl(nc(b),a),b.Z(a)):(Zl(b,e),vl(e),b.Z(e))}).then(function(){ic(b)}))},g.nb=function(){var a=this;return oc(this,this.i.then(function(){return nc(a)?(Zl(a,null),zl(a.h).then(function(){ic(a)})):Nt()}))},g.Mc=function(){var a=this;return Hl(this.h,ec(this).options.authDomain).then(function(b){if(!a.m){var t;if(t=nc(a)&&b){t=nc(a).uid;var e=b.uid;t=null!=t&&""!==t&&null!=e&&""!==e&&t==e}if(t)return kl(nc(a),b),nc(a).F();(nc(a)||b)&&(Zl(a,b),b&&(vl(b),b.ba=a.w),a.a&&a.a.subscribe(a),ic(a))}})},g.Z=function(a){return $l(this.h,a)},g.bc=function(){ic(this),this.Z(nc(this))},g.jc=function(){this.nb()},g.kc=function(){this.nb()},g.mc=function(a){var b=this;this.addAuthTokenListener(function(){a.next(nc(b))})},g.nc=function(a){var b=this;!function(a,b){a.I.push(b),oc(a,a.i.then(function(){!a.m&&j(a.I,b)&&a.O!==a.getUid()&&(a.O=a.getUid(),b(rc(a)))}))}(this,function(){a.next(nc(b))})},g.vc=function(a,b,t){var e=this;return this.X&&r.a.Promise.resolve().then(function(){m(a)?a(nc(e)):m(a.next)&&a.next(nc(e))}),this.Tb(a,b,t)},g.uc=function(a,b,t){var e=this;return this.X&&r.a.Promise.resolve().then(function(){e.O=e.getUid(),m(a)?a(nc(e)):m(a.next)&&a.next(nc(e))}),this.Ub(a,b,t)},g.cc=function(a){var b=this;return oc(this,this.i.then(function(){return nc(b)?nc(b).F(a).then(function(a){return{accessToken:a}}):null}))},g.Nb=function(a){var b=this;return this.i.then(function(){return tc(b,cs(b.b,os,{token:a}))}).then(function(a){var t=a.user;return Cl(t,"isAnonymous",!1),b.Z(t),a})},g.Ec=function(a){return Rr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Nb(a)},g.Fc=function(a,b){return Rr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Ob(a,b)},g.Ob=function(a,b){var t=this;return this.i.then(function(){return tc(t,cs(t.b,as,{email:a,password:b}))})},g.xb=function(a,b){var t=this;return this.i.then(function(){return tc(t,cs(t.b,qa,{email:a,password:b}))})},g.Wb=function(a,b){return Rr("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.xb(a,b)},g.Hc=function(a){return Rr("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Pa(a).then(function(a){return a.user})},g.Pa=function(a){var b=this;return this.i.then(function(){return tc(b,a.la(b.b))})},g.Qa=function(){var a=this;return this.i.then(function(){var b=nc(a);if(b&&b.isAnonymous){var t=Br({providerId:null,isNewUser:!1});return Br({user:b,credential:null,additionalUserInfo:t,operationType:"signIn"})}return tc(a,a.b.Qa()).then(function(b){var t=b.user;return Cl(t,"isAnonymous",!0),a.Z(t),b})})},g.Gc=function(){return Rr("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Qa()},g.getUid=function(){return nc(this)&&nc(this).uid||null},g.Vb=function(a){this.addAuthTokenListener(a),this.u++,0<this.u&&nc(this)&&ml(nc(this))},g.Cc=function(a){var b=this;F(this.o,function(t){t==a&&b.u--}),0>this.u&&(this.u=0),0==this.u&&nc(this)&&ol(nc(this)),this.removeAuthTokenListener(a)},g.addAuthTokenListener=function(a){var b=this;this.o.push(a),oc(this,this.i.then(function(){b.m||j(b.o,a)&&a(rc(b))}))},g.removeAuthTokenListener=function(a){W(this.o,function(b){return b==a})},g.delete=function(){this.m=!0;for(var a=0;a<this.N.length;a++)this.N[a].cancel("app-deleted");return this.N=[],this.h&&(a=this.h).b.removeListener(Wl("local"),a.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Ya()),r.a.Promise.resolve()},g.Zb=function(a){return Rr("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),oc(this,function(a,b){return cs(a,ja,{identifier:b,continueUri:vr()?Qn():"http://localhost"}).then(function(a){return a.allProviders||[]})}(this.b,a))},g.$b=function(a){return oc(this,function(a,b){return cs(a,ja,{identifier:b,continueUri:vr()?Qn():"http://localhost"}).then(function(a){return a.signinMethods||[]})}(this.b,a))},g.oc=function(a){return!!to(a)},g.lb=function(a,b){var t=this;return oc(this,Nt().then(function(){var a=new Zr(b);if(!a.c)throw new Gr("argument-error",ni+" must be true when sending sign in link to email");return ci(a)}).then(function(b){return t.b.lb(a,b)}).then(function(){}))},g.Tc=function(a){return this.Ja(a).then(function(a){return a.data.email})},g.Za=function(a,b){return oc(this,this.b.Za(a,b).then(function(){}))},g.Ja=function(a){return oc(this,this.b.Ja(a).then(function(a){return new qr(a)}))},g.Wa=function(a){return oc(this,this.b.Wa(a).then(function(){}))},g.kb=function(a,b){var t=this;return oc(this,Nt().then(function(){return void 0===b||ct(b)?{}:ci(new Zr(b))}).then(function(b){return t.b.kb(a,b)}).then(function(){}))},g.Jc=function(a,b){return oc(this,Ju(this,a,b,S(this.Pa,this)))},g.Ic=function(a,b){var t=this;return oc(this,Nt().then(function(){var e=Zi(a,b||Qn());return t.Pa(e)}))},ac.prototype.render=function(){},ac.prototype.reset=function(){},ac.prototype.getResponse=function(){},ac.prototype.execute=function(){};var uc=null;function lc(a,b){return(b=cc(b))&&a.a[b]||null}function cc(a){return(a=void 0===a?1e12:a)?a.toString():null}function hc(a,b){this.g=!1,this.c=b,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Fn(a);var t=this;this.i=function(){t.execute()},this.h?this.execute():Ce(this.f,"click",this.i)}function dc(a){if(a.g)throw Error("reCAPTCHA mock was already deleted!")}function fc(){}sc.prototype.render=function(a,b){return this.a[this.b.toString()]=new hc(a,b),this.b++},sc.prototype.reset=function(a){var b=lc(this,a);a=cc(a),b&&a&&(b.delete(),delete this.a[a])},sc.prototype.getResponse=function(a){return(a=lc(this,a))?a.getResponse():null},sc.prototype.execute=function(a){(a=lc(this,a))&&a.execute()},hc.prototype.getResponse=function(){return dc(this),this.b},hc.prototype.execute=function(){dc(this);var a=this;this.a||(this.a=setTimeout(function(){a.b=function(){for(var a=50,b=[];0<a;)b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return b.join("")}();var b=a.c.callback,t=a.c["expired-callback"];if(b)try{b(a.b)}catch(t){}a.a=setTimeout(function(){if(a.a=null,a.b=null,t)try{t()}catch(t){}a.h&&a.execute()},6e4)},500))},hc.prototype.delete=function(){dc(this),this.g=!0,clearTimeout(this.a),this.a=null,Ie(this.f,"click",this.i)},fc.prototype.g=function(){return uc||(uc=new sc),Nt(uc)},fc.prototype.c=function(){};var pc=null;function gc(){this.b=e.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var mc=Sn("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),bc=new Ir(3e4,6e4);gc.prototype.g=function(a){var b=this;return new St(function(t,n){var r=setTimeout(function(){n(new Gr("network-request-failed"))},bc.get());!e.grecaptcha||a!==b.f&&!b.b?(e[b.a]=function(){if(e.grecaptcha){b.f=a;var o=e.grecaptcha.render;e.grecaptcha.render=function(a,t){return a=o(a,t),b.b++,a},clearTimeout(r),t(e.grecaptcha)}else clearTimeout(r),n(new Gr("internal-error"));delete e[b.a]},Nt(sa(Tn(mc,{onload:b.a,hl:a||""}))).s(function(){clearTimeout(r),n(new Gr("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(r),t(e.grecaptcha))})},gc.prototype.c=function(){this.b--};var yc=null;function vc(a,b,t,n,r,o,l){if(Mr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.m=b,this.g=null,l?(pc||(pc=new fc),l=pc):(yc||(yc=new gc),l=yc),this.o=l,this.a=t||{theme:"light",type:"image"},this.h=[],this.a[Sc])throw new Gr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ec],!e.document)throw new Gr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Fn(b)||!this.i&&Fn(b).hasChildNodes())throw new Gr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new pa(a,o||null,r||null),this.v=n||function(){return null};var c=this;this.l=[];var p=this.a[wc];this.a[wc]=function(a){if(Tc(c,a),"function"==typeof p)p(a);else if("string"==typeof p){var b=gr(p,e);"function"==typeof b&&b(a)}};var h=this.a[_c];this.a[_c]=function(){if(Tc(c,null),"function"==typeof h)h();else if("string"==typeof h){var a=gr(h,e);"function"==typeof a&&a()}}}var wc="callback",_c="expired-callback",Sc="sitekey",Ec="size";function Tc(a,b){for(var t=0;t<a.l.length;t++)try{a.l[t](b)}catch(t){}}function Cc(a,b){return a.h.push(b),b.ia(function(){U(a.h,b)}),b}function kc(a){if(a.D)throw new Gr("internal-error","RecaptchaVerifier instance has been destroyed.")}function xc(a,b,t){var e=!1;try{this.b=t||r.a.app()}catch(t){throw new Gr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Gr("invalid-api-key");t=this.b.options.apiKey;var n=this,o=null;try{o=this.b.auth().ya()}catch(t){}try{e=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=r.a.SDK_VERSION?fr(r.a.SDK_VERSION,o):null,vc.call(this,t,a,b,function(){try{var a=n.b.auth().ea()}catch(t){a=null}return a},o,vi(bi),e)}function Ic(a,b,t,e){t:{t=Array.prototype.slice.call(t);for(var n=0,r=!1,o=0;o<b.length;o++)if(b[o].optional)r=!0;else{if(r)throw new Gr("internal-error","Argument validator encountered a required argument after an optional argument.");n++}if(r=b.length,t.length<n||r<t.length)e="Expected "+(n==r?1==n?"1 argument":n+" arguments":n+"-"+r+" arguments")+" but got "+t.length+".";else{for(n=0;n<t.length;n++)if(r=b[n].optional&&void 0===t[n],!b[n].M(t[n])&&!r){if(b=b[n],0>n||n>=Nc.length)throw new Gr("internal-error","Argument validator received an unsupported number of arguments.");t=Nc[n],e=(e?"":t+" argument ")+(b.name?'"'+b.name+'" ':"")+"must be "+b.K+".";break t}e=null}}if(e)throw new Gr("argument-error",a+" failed: "+e)}(g=vc.prototype).za=function(){var a=this;return this.f?this.f:this.f=Cc(this,Nt().then(function(){if(vr()&&!or())return nr();throw new Gr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return a.o.g(a.v())}).then(function(b){return a.g=b,cs(a.u,Ya,{})}).then(function(b){a.a[Sc]=b.recaptchaSiteKey}).s(function(b){throw a.f=null,b}))},g.render=function(){kc(this);var a=this;return Cc(this,this.za().then(function(){if(null===a.c){var b=a.m;if(!a.i){var t=Fn(b);b=qn("DIV"),t.appendChild(b)}a.c=a.g.render(b,a.a)}return a.c}))},g.verify=function(){kc(this);var a=this;return Cc(this,this.render().then(function(b){return new St(function(t){var e=a.g.getResponse(b);if(e)t(e);else{var n=function(b){b&&(function(a,b){W(a.l,function(a){return a==b})}(a,n),t(b))};a.l.push(n),a.i&&a.g.execute(a.c)}})}))},g.reset=function(){kc(this),null!==this.c&&this.g.reset(this.c)},g.clear=function(){kc(this),this.D=!0,this.o.c();for(var a=0;a<this.h.length;a++)this.h[a].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){a=Fn(this.m);for(var b;b=a.firstChild;)a.removeChild(b)}},C(xc,vc);var Nc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Dc(a,b){return{name:a||"",K:"a valid string",optional:!!b,M:n}}function Ac(a,b){return{name:a||"",K:"a boolean",optional:!!b,M:o}}function Oc(a,b){return{name:a||"",K:"a valid object",optional:!!b,M:q}}function Pc(a,b){return{name:a||"",K:"a function",optional:!!b,M:m}}function Rc(a,b){return{name:a||"",K:"null",optional:!!b,M:h}}function Lc(a){return{name:a?a+"Credential":"credential",K:a?"a valid "+a+" credential":"a valid credential",optional:!1,M:function(b){if(!b)return!1;var t=!a||b.providerId===a;return!(!b.la||!t)}}}function Mc(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(a){return!!(a&&n(a.type)&&m(a.verify))}}}function Fc(a,b,t,e){return{name:t||"",K:a.K+" or "+b.K,optional:!!e,M:function(t){return a.M(t)||b.M(t)}}}function Bc(a,b){for(var t in b){var e=b[t].name;a[e]=jc(e,a[t],b[t].j)}}function Vc(a,b){for(var t in b){var e=b[t].name;e!==t&&Object.defineProperty(a,e,{get:E(function(a){return this[a]},t),set:E(function(a,b,t,e){Ic(a,[t],[e],!0),this[b]=e},e,t,b[t].tb),enumerable:!0})}}function qc(a,b,t,e){a[b]=jc(b,t,e)}function jc(a,b,t){function e(){var a=Array.prototype.slice.call(arguments);return Ic(r,t,a),b.apply(this,a)}if(!t)return b;var n,r=function(a){return(a=a.split("."))[a.length-1]}(a);for(n in b)e[n]=b[n];for(n in b.prototype)e.prototype[n]=b.prototype[n];return e}Bc(Ql.prototype,{Wa:{name:"applyActionCode",j:[Dc("code")]},Ja:{name:"checkActionCode",j:[Dc("code")]},Za:{name:"confirmPasswordReset",j:[Dc("code"),Dc("newPassword")]},xb:{name:"createUserWithEmailAndPassword",j:[Dc("email"),Dc("password")]},Wb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[Dc("email"),Dc("password")]},Zb:{name:"fetchProvidersForEmail",j:[Dc("email")]},$b:{name:"fetchSignInMethodsForEmail",j:[Dc("email")]},fa:{name:"getRedirectResult",j:[]},oc:{name:"isSignInWithEmailLink",j:[Dc("emailLink")]},uc:{name:"onAuthStateChanged",j:[Fc(Oc(),Pc(),"nextOrObserver"),Pc("opt_error",!0),Pc("opt_completed",!0)]},vc:{name:"onIdTokenChanged",j:[Fc(Oc(),Pc(),"nextOrObserver"),Pc("opt_error",!0),Pc("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[Dc("email"),Fc(Oc("opt_actionCodeSettings",!0),Rc(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[Dc("email"),Oc("actionCodeSettings")]},mb:{name:"setPersistence",j:[Dc("persistence")]},Pa:{name:"signInAndRetrieveDataWithCredential",j:[Lc()]},Qa:{name:"signInAnonymously",j:[]},Gc:{name:"signInAnonymouslyAndRetrieveData",j:[]},Hc:{name:"signInWithCredential",j:[Lc()]},Nb:{name:"signInWithCustomToken",j:[Dc("token")]},Ec:{name:"signInAndRetrieveDataWithCustomToken",j:[Dc("token")]},Ob:{name:"signInWithEmailAndPassword",j:[Dc("email"),Dc("password")]},Ic:{name:"signInWithEmailLink",j:[Dc("email"),Dc("emailLink",!0)]},Fc:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[Dc("email"),Dc("password")]},Jc:{name:"signInWithPhoneNumber",j:[Dc("phoneNumber"),Mc()]},Kc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Qc:{name:"updateCurrentUser",j:[Fc({name:"user",K:"an instance of Firebase User",optional:!1,M:function(a){return!!(a&&a instanceof cl)}},Rc(),"user")]},nb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Dc(null,!0)]},Sc:{name:"useDeviceLanguage",j:[]},Tc:{name:"verifyPasswordResetCode",j:[Dc("code")]}}),Vc(Ql.prototype,{lc:{name:"languageCode",tb:Fc(Dc(),Rc(),"languageCode")}}),Ql.Persistence=iu,Ql.Persistence.LOCAL="local",Ql.Persistence.SESSION="session",Ql.Persistence.NONE="none",Bc(cl.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[Ac("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[Ac("opt_forceRefresh",!0)]},eb:{name:"linkAndRetrieveDataWithCredential",j:[Lc()]},pc:{name:"linkWithCredential",j:[Lc()]},qc:{name:"linkWithPhoneNumber",j:[Dc("phoneNumber"),Mc()]},rc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},sc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},gb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Lc()]},yc:{name:"reauthenticateWithCredential",j:[Lc()]},zc:{name:"reauthenticateWithPhoneNumber",j:[Dc("phoneNumber"),Mc()]},Ac:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Bc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[Fc(Oc("opt_actionCodeSettings",!0),Rc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Dc(null,!0)]},Pc:{name:"unlink",j:[Dc("provider")]},pb:{name:"updateEmail",j:[Dc("email")]},qb:{name:"updatePassword",j:[Dc("password")]},Rc:{name:"updatePhoneNumber",j:[Lc("phone")]},rb:{name:"updateProfile",j:[Oc("profile")]}}),Bc(sc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Bc(ac.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Bc(St.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Vc(Yu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",tb:Ac("appVerificationDisabledForTesting")}}),Bc(Xu.prototype,{confirm:{name:"confirm",j:[Dc("verificationCode")]}}),qc(Ji,"credential",function(a,b){return new Xi(a,b)},[Dc("email"),Dc("password")]),Bc(Wi.prototype,{ua:{name:"addScope",j:[Dc("scope")]},Da:{name:"setCustomParameters",j:[Oc("customOAuthParameters")]}}),qc(Wi,"credential",$i,[Fc(Dc(),Oc(),"token")]),qc(Ji,"credentialWithLink",Zi,[Dc("email"),Dc("emailLink")]),Bc(zi.prototype,{ua:{name:"addScope",j:[Dc("scope")]},Da:{name:"setCustomParameters",j:[Oc("customOAuthParameters")]}}),qc(zi,"credential",Hi,[Fc(Dc(),Oc(),"token")]),Bc(Ki.prototype,{ua:{name:"addScope",j:[Dc("scope")]},Da:{name:"setCustomParameters",j:[Oc("customOAuthParameters")]}}),qc(Ki,"credential",Qi,[Fc(Dc(),Fc(Oc(),Rc()),"idToken"),Fc(Dc(),Rc(),"accessToken",!0)]),Bc(Gi.prototype,{Da:{name:"setCustomParameters",j:[Oc("customOAuthParameters")]}}),qc(Gi,"credential",Yi,[Fc(Dc(),Oc(),"token"),Dc("secret",!0)]),Bc(Ui.prototype,{ua:{name:"addScope",j:[Dc("scope")]},credential:{name:"credential",j:[Fc(Dc(),Rc(),"idToken",!0),Fc(Dc(),Rc(),"accessToken",!0),Fc(Dc(),Rc(),"nonce",!0)]},Da:{name:"setCustomParameters",j:[Oc("customOAuthParameters")]}}),qc(ro,"credential",io,[Dc("verificationId"),Dc("verificationCode")]),Bc(ro.prototype,{Ua:{name:"verifyPhoneNumber",j:[Dc("phoneNumber"),Mc()]}}),Bc(Gr.prototype,{toJSON:{name:"toJSON",j:[Dc(null,!0)]}}),Bc(po.prototype,{toJSON:{name:"toJSON",j:[Dc(null,!0)]}}),Bc(fo.prototype,{toJSON:{name:"toJSON",j:[Dc(null,!0)]}}),Bc(xc.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var a={Auth:Ql,Error:Gr};qc(a,"EmailAuthProvider",Ji,[]),qc(a,"FacebookAuthProvider",Wi,[]),qc(a,"GithubAuthProvider",zi,[]),qc(a,"GoogleAuthProvider",Ki,[]),qc(a,"TwitterAuthProvider",Gi,[]),qc(a,"OAuthProvider",Ui,[Dc("providerId")]),qc(a,"SAMLAuthProvider",ji,[Dc("providerId")]),qc(a,"PhoneAuthProvider",ro,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(a){return!!(a&&a instanceof Ql)}}]),qc(a,"RecaptchaVerifier",xc,[Fc(Dc(),{name:"",K:"an HTML element",optional:!1,M:function(a){return!!(a&&a instanceof Element)}},"recaptchaContainer"),Oc("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(a){return!!(a&&a instanceof r.a.app.App)}}]),r.a.INTERNAL.registerService("auth",function(a,t){return t({INTERNAL:{getUid:S((a=new Ql(a)).getUid,a),getToken:S(a.cc,a),addAuthTokenListener:S(a.Vb,a),removeAuthTokenListener:S(a.Cc,a)}}),a},a,function(a,t){if("create"===a)try{t.auth()}catch(t){}}),r.a.INTERNAL.extendNamespace({User:cl})}()}).apply(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(this,n(15))},269:function(t,e,n){"use strict";n(270)},270:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r,o,l=(r=n(0))&&"object"==typeof r&&"default"in r?r.default:r,c=n(119),h=n(271),d=n(272),f=l.SDK_VERSION,m=new c.Logger("@firebase/firestore");function y(){return m.logLevel===c.LogLevel.DEBUG?o.DEBUG:m.logLevel===c.LogLevel.SILENT?o.SILENT:o.ERROR}function v(t){switch(t){case o.DEBUG:m.logLevel=c.LogLevel.DEBUG;break;case o.ERROR:m.logLevel=c.LogLevel.ERROR;break;case o.SILENT:m.logLevel=c.LogLevel.SILENT;break;default:m.error("Firestore ("+f+"): Invalid value passed to `setLogLevel`")}}function w(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(m.logLevel<=c.LogLevel.DEBUG){var o=n.map(S);m.debug.apply(m,["Firestore ("+f+") ["+t+"]: "+e].concat(o))}}function _(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(m.logLevel<=c.LogLevel.ERROR){var r=e.map(S);m.error.apply(m,["Firestore ("+f+"): "+t].concat(r))}}function S(t){if("string"==typeof t)return t;var e=C.getPlatform();try{return e.formatJSON(t)}catch(e){return t}}function E(t){var e="FIRESTORE ("+f+") INTERNAL ASSERTION FAILED: "+t;throw _(e),new Error(e)}function T(t,e){t||E(e)}!function(t){t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT"}(o||(o={}));var C=function(){function t(){}return t.setPlatform=function(e){t.platform&&E("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||E("Platform not set"),t.platform},t}();function k(){return C.getPlatform().emptyByteString}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},I=function(t){function e(code,e){var n=t.call(this,e)||this;return n.code=code,n.message=e,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}return h.__extends(e,t),e}(Error);function N(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new I(x.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function A(t,e){return void 0!==t?t:e}function O(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function P(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function R(t){for(var e in T(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function L(t,e,n){if(e.length!==n)throw new I(x.INVALID_ARGUMENT,"Function "+t+"() requires "+J(n,"argument")+", but was called with "+J(e.length,"argument")+".")}function M(t,e,n){if(e.length<n)throw new I(x.INVALID_ARGUMENT,"Function "+t+"() requires at least "+J(n,"argument")+", but was called with "+J(e.length,"argument")+".")}function F(t,e,n,r){if(e.length<n||e.length>r)throw new I(x.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+J(e.length,"argument")+".")}function B(t,e,n,r){z(t,e,X(n)+" argument",r)}function V(t,e,n,r){void 0!==r&&B(t,e,n,r)}function j(t,e,n,r){z(t,e,n+" option",r)}function U(t,e,n,r){void 0!==r&&j(t,e,n,r)}function W(t,e,n,r,o){void 0!==r&&function(t,e,n,r,o){if(!(r instanceof Array))throw new I(x.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+K(r));for(var i=0;i<r.length;++i)if(!o(r[i]))throw new I(x.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be "+n+", but the value at index "+i+" was: "+K(r[i]))}(t,e,n,r,o)}function $(t,e,n,input,r){void 0!==input&&function(t,e,n,input,r){for(var o=[],l=0,c=r;l<c.length;l++){var h=c[l];if(h===input)return;o.push(K(h))}var d=K(input);throw new I(x.INVALID_ARGUMENT,"Invalid value "+d+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,input,r)}function z(t,e,n,input){if(!("object"===e?H(input):"non-empty string"===e?"string"==typeof input&&""!==input:typeof input===e)){var r=K(input);throw new I(x.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+r)}}function H(input){return"object"==typeof input&&null!==input&&(Object.getPrototypeOf(input)===Object.prototype||null===Object.getPrototypeOf(input))}function K(input){if(void 0===input)return"undefined";if(null===input)return"null";if("string"==typeof input)return input.length>20&&(input=input.substring(0,20)+"..."),JSON.stringify(input);if("number"==typeof input||"boolean"==typeof input)return""+input;if("object"==typeof input){if(input instanceof Array)return"an array";var t=function(input){if(input.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(input.constructor.toString());if(t&&t.length>1)return t[1]}return null}(input);return t?"a custom "+t+" object":"an object"}return"function"==typeof input?"a function":E("Unknown wrong type: "+typeof input)}function Q(t,e,n){if(void 0===n)throw new I(x.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+X(e)+" argument, but it was undefined.")}function G(t,e,n){P(e,function(e,r){if(n.indexOf(e)<0)throw new I(x.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function Y(t,e,n,r){var o=K(r);return new I(x.INVALID_ARGUMENT,"Function "+t+"() requires its "+X(n)+" argument to be a "+e+", but it was: "+o)}function X(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function J(t,e){return t+" "+e+(1===t?"":"s")}var Z=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",i=0;i<20;i++)e+=t.charAt(Math.floor(Math.random()*t.length));return T(20===e.length,"Invalid auto ID: "+e),e},t}();function tt(t,e){return t<e?-1:t>e?1:0}function et(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].isEqual(e[i]))return!1;return!0}function nt(){if("undefined"==typeof Uint8Array)throw new I(x.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function it(){if(!C.getPlatform().base64Available)throw new I(x.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ot,at,st=function(){function t(t){it(),this._binaryString=t}return t.fromBase64String=function(e){L("Blob.fromBase64String",arguments,1),B("Blob.fromBase64String","string",1,e),it();try{return new t(C.getPlatform().atob(e))}catch(t){throw new I(x.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(L("Blob.fromUint8Array",arguments,1),nt(),!(e instanceof Uint8Array))throw Y("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return L("Blob.toBase64",arguments,0),it(),C.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){L("Blob.toUint8Array",arguments,0),nt();for(var t=new Uint8Array(this._binaryString.length),i=0;i<this._binaryString.length;i++)t[i]=this._binaryString.charCodeAt(i);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return tt(this._binaryString,t._binaryString)},t}(),ut=N(st,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),lt=function(){function t(t,e){if(L("GeoPoint",arguments,2),B("GeoPoint","number",1,t),B("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new I(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new I(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return tt(this._lat,t._lat)||tt(this._long,t._long)},t}(),ct=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new I(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new I(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new I(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new I(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?tt(this.nanoseconds,t.nanoseconds):tt(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),ht=function(){return function(t,e,n,r){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r}}(),ft="(default)",pt=function(){function t(t,e){this.projectId=t,this.database=e||ft}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===ft},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return tt(this.projectId,t.projectId)||tt(this.database,t.database)},t}(),gt=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&E("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&E("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var path=Object.create(Object.getPrototypeOf(this));return path.init(t,e,n),path},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):E("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,T(this.length>=t,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return T(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return T(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return T(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},t.prototype.get=function(t){return T(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0},t.prototype.forEach=function(t){for(var i=this.offset,e=this.limit();i<e;i++)t(this.segments[i])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),o=e.get(i);if(r<o)return-1;if(r>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(path){if(path.indexOf("//")>=0)throw new I(x.INVALID_ARGUMENT,"Invalid path ("+path+"). Paths must not contain // in them.");return new e(path.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(gt),bt=/^[_a-zA-Z][_a-zA-Z0-9]*$/,yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h.__extends(e,t),e.isValidIdentifier=function(t){return bt.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(path){for(var t=[],n="",i=0,r=function(){if(0===n.length)throw new I(x.INVALID_ARGUMENT,"Invalid field path ("+path+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");t.push(n),n=""},o=!1;i<path.length;){var l=path[i];if("\\"===l){if(i+1===path.length)throw new I(x.INVALID_ARGUMENT,"Path has trailing escape character: "+path);var c=path[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new I(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+path);n+=c,i+=2}else"`"===l?(o=!o,i++):"."!==l||o?(n+=l,i++):(r(),i++)}if(r(),o)throw new I(x.INVALID_ARGUMENT,"Unterminated ` in path: "+path);return new e(t)},e.EMPTY_PATH=new e([]),e}(gt),vt=function(){function t(path){this.path=path,T(t.isDocumentKey(path),"Invalid DocumentKey with an odd number of segments: "+path.toArray().join("/"))}return t.prototype.isEqual=function(t){return null!==t&&0===mt.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return mt.comparator(t.path,e.path)},t.isDocumentKey=function(path){return path.length%2==0},t.fromSegments=function(e){return new t(new mt(e.slice()))},t.fromPathString=function(path){return new t(mt.fromString(path))},t.EMPTY=new t(new mt([])),t}(),wt=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return vt.comparator(t.key,e.key)},t}(),_t=function(t){function e(e,n,data,r,o){var l=t.call(this,e,n)||this;return l.data=data,l.proto=o,l.hasLocalMutations=!!r.hasLocalMutations,l.hasCommittedMutations=!!r.hasCommittedMutations,l}return h.__extends(e,t),e.prototype.field=function(path){return this.data.field(path)},e.prototype.fieldValue=function(path){var t=this.field(path);return t?t.value():void 0},e.prototype.value=function(){return this.data.value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.data.isEqual(t.data)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.compareByField=function(t,e,n){var r=e.field(t),o=n.field(t);return void 0!==r&&void 0!==o?r.compareTo(o):E("Trying to compare documents on fields that don't exist")},e}(wt),St=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.hasCommittedMutations=!(!r||!r.hasCommittedMutations),o}return h.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(wt),Et=function(t){function e(e,n){return t.call(this,e,n)||this}return h.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(wt),Tt=function(){function t(t,e){this.comparator=t,this.root=e||kt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Ct(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Ct(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Ct(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Ct(this.root,t,this.comparator,!0)},t}(),Ct=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){T(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),kt=function(){function t(e,n,r,o,l){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=o?o:t.EMPTY,this.right=null!=l?l:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,o,l){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,o=n(t,r.key);return(r=o<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(e,o.key)){if(o.right.isEmpty())return t.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw E("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw E("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw E("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),xt=function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,o){return this},t.prototype.insert=function(t,e,n){return new kt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();kt.EMPTY=new xt,function(t){t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue"}(ot||(ot={})),function(t){t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous"}(at||(at={}));var It=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(at.Estimate,n);case"previous":return new t(at.Previous,n);case"none":case void 0:return new t(at.Default,n);default:return E("fromSnapshotOptions() called with invalid options.")}},t}(),Nt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return T(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),tt(this.typeOrder,t.typeOrder)},t}(),Dt=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=ot.NullValue,e.internalValue=null,e}return h.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(Nt),At=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ot.BooleanValue,n}return h.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?tt(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(Nt),Ot=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ot.NumberValue,n}return h.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue,r=t.internalValue,n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1):this.defaultCompareTo(t);var n,r},e}(Nt);function Pt(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Rt=function(t){function e(e){return t.call(this,e)||this}return h.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Pt(this.internalValue,t.internalValue)},e}(Ot),Lt=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return h.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Pt(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Ot),Mt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ot.StringValue,n}return h.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?tt(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(Nt),Ft=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ot.TimestampValue,n}return h.__extends(e,t),e.prototype.value=function(t){return t&&t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof Bt?-1:this.defaultCompareTo(t)},e}(Nt),Bt=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=ot.TimestampValue,r}return h.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===at.Estimate?new Ft(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===at.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof Ft?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(Nt),Vt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ot.BlobValue,n}return h.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Nt),qt=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=ot.RefValue,r}return h.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&(this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId))},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:vt.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(Nt),jt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ot.GeoPointValue,n}return h.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Nt),Ut=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ot.ObjectValue,n}return h.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),l=r.getNext();if(o.key!==l.key||!o.value.isEqual(l.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),l=r.getNext(),c=tt(o.key,l.key)||o.value.compareTo(l.value);if(c)return c}return tt(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(path,t){if(T(!path.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===path.length)return this.setChild(path.firstSegment(),t);var n=this.child(path.firstSegment());n instanceof e||(n=e.EMPTY);var r=n.set(path.popFirst(),t);return this.setChild(path.firstSegment(),r)},e.prototype.delete=function(path){if(T(!path.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===path.length)return new e(this.internalValue.remove(path.firstSegment()));var t=this.child(path.firstSegment());if(t instanceof e){var n=t.delete(path.popFirst());return new e(this.internalValue.insert(path.firstSegment(),n))}return this},e.prototype.contains=function(path){return void 0!==this.field(path)},e.prototype.field=function(path){T(!path.isEmpty(),"Can't get field of empty path");var t=this;return path.forEach(function(n){t=t instanceof e&&t.internalValue.get(n)||void 0}),t},e.prototype.toString=function(){return JSON.stringify(this.value())},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new Tt(tt)),e}(Nt),Wt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ot.ArrayValue,n}return h.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var i=0;i<this.internalValue.length;i++)if(!this.internalValue[i].isEqual(t.internalValue[i]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),i=0;i<n;i++){var r=this.internalValue[i].compareTo(t.internalValue[i]);if(r)return r}return tt(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return JSON.stringify(this.value())},e}(Nt),$t=Number,zt=$t.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Ht=$t.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Kt=$t.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function Qt(t){return null==t}function Gt(t){return Kt(t)&&t<=Ht&&t>=zt}var Yt,Xt=function(){function t(path,t,e,n,r,o){void 0===t&&(t=[]),void 0===e&&(e=[]),void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=null),this.path=path,this.explicitOrderBy=t,this.filters=e,this.limit=n,this.startAt=r,this.endAt=o,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(path){return new t(path)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)t.isKeyField()?this.memoizedOrderBy=[ae]:this.memoizedOrderBy=[new oe(t),ae];else{T(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,o=this.explicitOrderBy;r<o.length;r++){var l=o[r];this.memoizedOrderBy.push(l),l.field.isKeyField()&&(n=!0)}if(!n){var c=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:re.ASCENDING;this.memoizedOrderBy.push(c===re.ASCENDING?ae:se)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(filter){T(null==this.getInequalityFilterField()||!(filter instanceof te)||!filter.isInequality()||filter.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),T(!vt.isDocumentKey(this.path),"No filtering allowed for document query");var e=this.filters.concat([filter]);return new t(this.path,this.explicitOrderBy.slice(),e,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){T(!vt.isDocumentKey(this.path),"No ordering allowed for document query"),T(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();t+="|f:";for(var e=0,n=this.filters;e<n.length;e++){t+=n[e].canonicalId(),t+=","}t+="|ob:";for(var r=0,o=this.orderBy;r<o.length;r++){t+=o[r].canonicalId(),t+=","}Qt(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),Qt(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var i=0;i<this.orderBy.length;i++)if(!this.orderBy[i].isEqual(t.orderBy[i]))return!1;if(this.filters.length!==t.filters.length)return!1;for(i=0;i<this.filters.length;i++)if(!this.filters[i].isEqual(t.filters[i]))return!1;return!!this.path.isEqual(t.path)&&(!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt))},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,o=this.orderBy;r<o.length;r++){var l=o[r],c=l.compare(t,e);if(0!==c)return c;n=n||l.field.isKeyField()}return T(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesAncestor(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!Qt(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var filter=e[t];if(filter instanceof te&&filter.isInequality())return filter.field}return null},t.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(filter){return filter instanceof te&&filter.op===Zt.ARRAY_CONTAINS})},t.prototype.isDocumentQuery=function(){return vt.isDocumentKey(this.path)&&0===this.filters.length},t.prototype.matchesAncestor=function(t){var e=t.key.path;return vt.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isPrefixOf(e)&&this.path.length===e.length-1},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++){if(!n[e].matches(t))return!1}return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){T(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),Jt=function(){function t(){}return t.create=function(t,e,n){if(n.isEqual(Dt.INSTANCE)){if(e!==Zt.EQUAL)throw new I(x.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new ee(t)}if(n.isEqual(Lt.NAN)){if(e!==Zt.EQUAL)throw new I(x.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new ne(t)}return new te(t,e,n)},t}(),Zt=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;default:return E("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t}(),te=function(t){function e(e,n,r){var o=t.call(this)||this;return o.field=e,o.op=n,o.value=r,o}return h.__extends(e,t),e.prototype.matches=function(t){if(this.field.isKeyField()){T(this.value instanceof qt,"Comparing on key, but filter value not a RefValue"),T(this.op!==Zt.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var e=this.value,n=vt.comparator(t.key,e.key);return this.matchesComparison(n)}var r=t.field(this.field);return void 0!==r&&this.matchesValue(r)},e.prototype.matchesValue=function(t){var e=this;return this.op===Zt.ARRAY_CONTAINS?t instanceof Wt&&void 0!==t.internalValue.find(function(element){return element.isEqual(e.value)}):this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case Zt.LESS_THAN:return t<0;case Zt.LESS_THAN_OR_EQUAL:return t<=0;case Zt.EQUAL:return 0===t;case Zt.GREATER_THAN:return t>0;case Zt.GREATER_THAN_OR_EQUAL:return t>=0;default:return E("Unknown relation op"+this.op)}},e.prototype.isInequality=function(){return this.op!==Zt.EQUAL&&this.op!==Zt.ARRAY_CONTAINS},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&(this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value))},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(Jt),ee=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return h.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(Jt),ne=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return h.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field),n=e&&e.value();return"number"==typeof n&&isNaN(n)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(Jt),re=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),ie=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++){t+=n[e].toString()}return t},t.prototype.sortsBeforeDocument=function(t,e){T(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,i=0;i<this.position.length;i++){var r=t[i],component=this.position[i];if(r.field.isKeyField())T(component instanceof qt,"Bound has a non-key value where the key path is being used."),n=vt.comparator(component.key,e.key);else{var o=e.field(r.field);T(void 0!==o,"Field should exist since document matched the orderBy already."),n=component.compareTo(o)}if(r.dir===re.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var i=0;i<this.position.length;i++){var e=this.position[i],n=t.position[i];return e.isEqual(n)}return!0},t}(),oe=function(){function t(t,e){this.field=t,void 0===e&&(e=re.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?_t.compareByKey(t,e):_t.compareByField(this.field,t,e);switch(this.dir){case re.ASCENDING:return n;case re.DESCENDING:return-1*n;default:return E("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),ae=new oe(yt.keyField(),re.ASCENDING),se=new oe(yt.keyField(),re.DESCENDING),ue=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new ct(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new ct(0,0)),t}();!function(t){t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution"}(Yt||(Yt={}));var le,ce=function(){function t(t,e,n,r,o,l){void 0===o&&(o=ue.MIN),void 0===l&&(l=k()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.resumeToken=l}return t.prototype.copy=function(e){return new t(this.query,this.targetId,this.purpose,void 0===e.sequenceNumber?this.sequenceNumber:e.sequenceNumber,void 0===e.snapshotVersion?this.snapshotVersion:e.snapshotVersion,void 0===e.resumeToken?this.resumeToken:e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),he=function(){function t(t){this.comparator=t,this.data=new Tt(this.comparator)}return t.fromMapKeys=function(map){var e=new t(map.comparator);return map.forEach(function(t){e=e.add(t)}),e},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();){if(!t(n.getNext().key))return}},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new de(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new de(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var o=n.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(data){var e=new t(this.comparator);return e.data=data,e},t}(),de=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),fe=function(){function t(t){this.fields=t}return t.fromArray=function(e){var n=new he(yt.comparator);return e.forEach(function(t){return n=n.add(t)}),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach(function(n){n.isPrefixOf(t)&&(e=!0)}),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),pe=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),ge=function(){return function(t,e){this.version=t,this.transformResults=e}}();!function(t){t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete"}(le||(le={}));var me=function(){function t(t,e){this.updateTime=t,this.exists=e,T(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof _t&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof _t:(T(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return e=this.updateTime,n=t.updateTime,(null!=e?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),be=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&T(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof _t?t.version:ue.MIN},t}(),ye=function(t){function e(e,n,r){var o=t.call(this)||this;return o.key=e,o.value=n,o.precondition=r,o.type=le.Set,o}return h.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),T(null==e.transformResults,"Transform results received by SetMutation.");var n=e.version;return new _t(this.key,n,this.value,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=be.getPostMutationVersion(t);return new _t(this.key,r,this.value,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(be),ve=function(t){function e(e,data,n,r){var o=t.call(this)||this;return o.key=e,o.data=data,o.fieldMask=n,o.precondition=r,o.type=le.Patch,o}return h.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),T(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new Et(this.key,e.version);var n=this.patchDocument(t);return new _t(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=be.getPostMutationVersion(t),o=this.patchDocument(t);return new _t(this.key,r,o,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){var data;return data=t instanceof _t?t.data:Ut.EMPTY,this.patchObject(data)},e.prototype.patchObject=function(data){var t=this;return this.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var n=t.data.field(e);data=void 0!==n?data.set(e,n):data.delete(e)}}),data},e}(be),we=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=le.Transform,r.precondition=me.exists(!0),r}return h.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),T(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new Et(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),o=e.version,l=this.transformObject(n.data,r);return new _t(this.key,o,l,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),o=this.localTransformResults(n,e),l=this.transformObject(r.data,o);return new _t(this.key,r.version,l,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&et(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){T(t instanceof _t,"Unknown MaybeDocument type "+t);var e=t;return T(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];T(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var i=0;i<e.length;i++){var r=this.fieldTransforms[i],o=r.transform,l=null;t instanceof _t&&(l=t.field(r.field)||null),n.push(o.applyToRemoteDocument(l,e[i]))}return n},e.prototype.localTransformResults=function(t,e){for(var n=[],r=0,o=this.fieldTransforms;r<o.length;r++){var l=o[r],c=l.transform,h=null;e instanceof _t&&(h=e.field(l.field)||null),n.push(c.applyToLocalView(h,t))}return n},e.prototype.transformObject=function(data,t){T(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var i=0;i<this.fieldTransforms.length;i++){var e=this.fieldTransforms[i].field;data=data.set(e,t[i])}return data},e}(be),_e=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=le.Delete,r}return h.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),T(null==e.transformResults,"Transform results received by DeleteMutation."),new St(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&T(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new St(this.key,ue.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(be),Se=function(){function t(){}return t.prototype.applyToLocalView=function(t,e){return new Bt(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),Ee=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=Ce(t),n=function(t){e.find(function(element){return element.isEqual(t)})||e.push(t)},r=0,o=this.elements;r<o.length;r++){n(o[r])}return new Wt(e)},t.prototype.isEqual=function(e){return e instanceof t&&et(e.elements,this.elements)},t}(),Te=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=Ce(t),n=function(t){e=e.filter(function(element){return!element.isEqual(t)})},r=0,o=this.elements;r<o.length;r++){n(o[r])}return new Wt(e)},t.prototype.isEqual=function(e){return e instanceof t&&et(e.elements,this.elements)},t}();function Ce(t){return t instanceof Wt?t.internalValue.slice():[]}var ke,xe=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();function Ie(code){switch(code){case x.OK:return E("Treated status OK as error");case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0;default:return E("Unknown status code: "+code)}}function Ne(code){if(void 0===code)return _("GRPC error has no .code"),x.UNKNOWN;switch(code){case ke.OK:return x.OK;case ke.CANCELLED:return x.CANCELLED;case ke.UNKNOWN:return x.UNKNOWN;case ke.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case ke.INTERNAL:return x.INTERNAL;case ke.UNAVAILABLE:return x.UNAVAILABLE;case ke.UNAUTHENTICATED:return x.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case ke.NOT_FOUND:return x.NOT_FOUND;case ke.ALREADY_EXISTS:return x.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return x.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case ke.ABORTED:return x.ABORTED;case ke.OUT_OF_RANGE:return x.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return x.UNIMPLEMENTED;case ke.DATA_LOSS:return x.DATA_LOSS;default:return E("Unknown status code: "+code)}}function De(code){if(void 0===code)return ke.OK;switch(code){case x.OK:return ke.OK;case x.CANCELLED:return ke.CANCELLED;case x.UNKNOWN:return ke.UNKNOWN;case x.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case x.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case x.INTERNAL:return ke.INTERNAL;case x.UNAVAILABLE:return ke.UNAVAILABLE;case x.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case x.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case x.NOT_FOUND:return ke.NOT_FOUND;case x.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case x.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case x.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case x.ABORTED:return ke.ABORTED;case x.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case x.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case x.DATA_LOSS:return ke.DATA_LOSS;default:return E("Unknown status code: "+code)}}!function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS"}(ke||(ke={}));var Ae=new Tt(vt.comparator);function Oe(){return Ae}function Pe(){return Oe()}var Re=new Tt(vt.comparator);function Le(){return Re}var Me=new Tt(vt.comparator);function Fe(){return Me}var Be=new he(vt.comparator);function Ve(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Be,r=0,o=t;r<o.length;r++){var l=o[r];n=n.add(l)}return n}var qe=new he(tt);function je(){return qe}var Ue,We,$e=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||vt.comparator(e.key,n.key)}:function(t,e){return vt.comparator(t.key,e.key)},this.keyedMap=Le(),this.sortedSet=new Tt(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}();!function(t){t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata"}(Ue||(Ue={})),function(t){t[t.Local=0]="Local",t[t.Synced=1]="Synced"}(We||(We={}));var ze,He=function(){function t(){this.changeMap=new Tt(vt.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==Ue.Added&&n.type===Ue.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Ue.Metadata&&n.type!==Ue.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===Ue.Modified&&n.type===Ue.Modified?this.changeMap=this.changeMap.insert(e,{type:Ue.Modified,doc:t.doc}):t.type===Ue.Modified&&n.type===Ue.Added?this.changeMap=this.changeMap.insert(e,{type:Ue.Added,doc:t.doc}):t.type===Ue.Removed&&n.type===Ue.Added?this.changeMap=this.changeMap.remove(e):t.type===Ue.Removed&&n.type===Ue.Modified?this.changeMap=this.changeMap.insert(e,{type:Ue.Removed,doc:n.doc}):t.type===Ue.Added&&n.type===Ue.Removed?this.changeMap=this.changeMap.insert(e,{type:Ue.Modified,doc:t.doc}):E("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Ke=function(){function t(t,e,n,r,o,l,c,h){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h}return t.fromInitialDocuments=function(e,n,r,o){var l=[];return n.forEach(function(t){l.push({type:Ue.Added,doc:t})}),new t(e,n,$e.emptySet(n),l,r,o,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}(),Qe=function(){function t(t,e,n,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r,o=((r={})[e]=Ge.createSynthesizedTargetChangeForCurrentChange(e,n),r);return new t(ue.MIN,o,je(),Oe(),Ve())},t}(),Ge=function(){function t(t,e,n,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(k(),n,Ve(),Ve(),Ve())},t}(),Ye=function(){return function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}}(),Xe=function(){return function(t,e){this.targetId=t,this.existenceFilter=e}}();!function(t){t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset"}(ze||(ze={}));var Je=function(){return function(t,e,n,r){void 0===n&&(n=k()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),Ze=function(){function t(){this.pendingResponses=0,this.documentChanges=nn(),this._resumeToken=k(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Ve(),e=Ve(),n=Ve();return this.documentChanges.forEach(function(r,o){switch(o){case Ue.Added:t=t.add(r);break;case Ue.Modified:e=e.add(r);break;case Ue.Removed:n=n.add(r);break;default:E("Encountered invalid change type: "+o)}}),new Ge(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=nn()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),tn=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=Oe(),this.pendingDocumentTargetMapping=en(),this.pendingTargetResets=new he(tt)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof _t?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof St&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var o=0,l=t.removedTargetIds;o<l.length;o++){r=l[o];this.removeDocumentFromTarget(r,t.key,t.newDoc)}},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ensureTargetState(n);switch(t.state){case ze.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case ze.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case ze.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),T(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case ze.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case ze.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:E("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):O(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var o=r.query;if(o.isDocumentQuery())if(0===n){var l=new vt(o.path);this.removeDocumentFromTarget(e,l,new St(l,ue.forDeletedDoc()))}else T(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};O(this.targetStates,function(r,o){var l=e.queryDataForActiveTarget(r);if(l){if(o.current&&l.query.isDocumentQuery()){var c=new vt(l.query.path);null!==e.pendingDocumentUpdates.get(c)||e.targetContainsDocument(r,c)||e.removeDocumentFromTarget(r,c,new St(c,t))}o.hasPendingChanges&&(n[r]=o.toTargetChange(),o.clearPendingChanges())}});var r=Ve();this.pendingDocumentTargetMapping.forEach(function(t,n){var o=!0;n.forEachWhile(function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===Yt.LimboResolution||(o=!1,!1)}),o&&(r=r.add(t))});var o=new Qe(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Oe(),this.pendingDocumentTargetMapping=en(),this.pendingTargetResets=new he(tt),o},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?Ue.Modified:Ue.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,Ue.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new Ze),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new he(tt),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){return null!==this.queryDataForActiveTarget(t)},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;T(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new Ze,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n,null)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function en(){return new Tt(vt.comparator)}function nn(){return new Tt(vt.comparator)}var rn,on,an=((rn={})[re.ASCENDING.name]="ASCENDING",rn[re.DESCENDING.name]="DESCENDING",rn),sn=((on={})[Zt.LESS_THAN.name]="LESS_THAN",on[Zt.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",on[Zt.GREATER_THAN.name]="GREATER_THAN",on[Zt.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",on[Zt.EQUAL.name]="EQUAL",on[Zt.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",on),un=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ln(t,e){T(!Qt(t),e+" is missing")}function cn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):E("can't parse "+t)}var hn=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var code=void 0===t.code?x.UNKNOWN:Ne(t.code);return new I(code,t.message||"")},t.prototype.toInt32Value=function(t){return Qt(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return Qt(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);T(!!t,"Cannot deserialize null or undefined timestamp.");var e=cn(t.seconds||"0"),n=t.nanos||0;return new ct(e,n)},t.prototype.fromIso8601String=function(t){var e=0,n=un.exec(t);if(T(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var o=new Date(t),l=Math.floor(o.getTime()/1e3);return new ct(l,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(T(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),st.fromBase64String(t)):(T(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),st.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return T(!!t,"Trying to deserialize version that isn't set"),ue.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,path){return this.fullyQualifiedPrefixPath(t).child("documents").child(path).canonicalString()},t.prototype.fromResourceName=function(t){var e=mt.fromString(t);return T(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return T(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),T(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new vt(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(path){return 0===path.length?this.encodedDatabaseId:this.toResourceName(this.databaseId,path)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?mt.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new mt(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new mt(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return T(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(path){return path.length>=4&&"projects"===path.get(0)&&"databases"===path.get(2)},t.prototype.toValue=function(t){if(t instanceof Dt)return{nullValue:"NULL_VALUE"};if(t instanceof At)return{booleanValue:t.value()};if(t instanceof Rt)return{integerValue:""+t.value()};if(t instanceof Lt){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof Mt?{stringValue:t.value()}:t instanceof Ut?{mapValue:this.toMapValue(t)}:t instanceof Wt?{arrayValue:this.toArrayValue(t)}:t instanceof Ft?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof jt?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Vt?{bytesValue:this.toBytes(t.value())}:t instanceof qt?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:E("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(dn(t,n,"nullValue"))return Dt.INSTANCE;if(dn(t,n,"booleanValue"))return At.of(t.booleanValue);if(dn(t,n,"integerValue"))return new Rt(cn(t.integerValue));if(dn(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Lt.NAN;if("Infinity"===t.doubleValue)return Lt.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Lt.NEGATIVE_INFINITY}return new Lt(t.doubleValue)}if(dn(t,n,"stringValue"))return new Mt(t.stringValue);if(dn(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(dn(t,n,"arrayValue")){ln(t.arrayValue,"arrayValue");var r=t.arrayValue.values||[];return new Wt(r.map(function(t){return e.fromValue(t)}))}if(dn(t,n,"timestampValue"))return ln(t.timestampValue,"timestampValue"),new Ft(this.fromTimestamp(t.timestampValue));if(dn(t,n,"geoPointValue")){ln(t.geoPointValue,"geoPointValue");var o=t.geoPointValue.latitude||0,l=t.geoPointValue.longitude||0;return new jt(new lt(o,l))}if(dn(t,n,"bytesValue")){ln(t.bytesValue,"bytesValue");var c=this.fromBlob(t.bytesValue);return new Vt(c)}if(dn(t,n,"referenceValue")){ln(t.referenceValue,"referenceValue");var h=this.fromResourceName(t.referenceValue),d=new pt(h.get(1),h.get(3)),f=new vt(this.extractLocalPathFromResourceName(h));return new qt(d,f)}return E("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return T(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){return new _t(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasCommittedMutations:!!e})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(object){var t=this,map=object,e=Ut.EMPTY;return P(map,function(n,r){e=e.set(new yt([n]),t.fromValue(r))}),e},t.prototype.toMapValue=function(map){return{fields:this.toFields(map)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){T(!!t.found,"Tried to deserialize a found document from a missing document."),ln(t.found.name,"doc.found.name"),ln(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new _t(e,n,r,{},t.found)},t.prototype.fromMissing=function(t){T(!!t.missing,"Tried to deserialize a missing document from a found document."),T(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new St(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result;return dn(t,e,"found")?this.fromFound(t):dn(t,e,"missing")?this.fromMissing(t):E("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case ze.Added:return"ADD";case ze.Current:return"CURRENT";case ze.NoChange:return"NO_CHANGE";case ze.Removed:return"REMOVE";case ze.Reset:return"RESET";default:return E("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Xe)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Ye){if(t.newDoc instanceof _t){var e=t.newDoc;return{documentChange:{document:{name:this.toName(e.key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}}}if(t.newDoc instanceof St){e=t.newDoc;return{documentDelete:{document:this.toName(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}}}if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Je){var n=void 0;return t.cause&&(n={code:De(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return E("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.response_type;if(dn(t,n,"targetChange")){ln(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],l=t.targetChange.resumeToken||this.emptyByteString(),c=t.targetChange.cause,h=c&&this.fromRpcStatus(c);e=new Je(r,o,l,h||null)}else if(dn(t,n,"documentChange")){ln(t.documentChange,"documentChange"),ln(t.documentChange.document,"documentChange.name"),ln(t.documentChange.document.name,"documentChange.document.name"),ln(t.documentChange.document.updateTime,"documentChange.document.updateTime");var d=t.documentChange,f=this.fromName(d.document.name),m=this.fromVersion(d.document.updateTime),y=this.fromFields(d.document.fields||{}),v=new _t(f,m,y,{},d.document),w=d.targetIds||[],_=d.removedTargetIds||[];e=new Ye(w,_,v.key,v)}else if(dn(t,n,"documentDelete")){ln(t.documentDelete,"documentDelete"),ln(t.documentDelete.document,"documentDelete.document");var S=t.documentDelete;f=this.fromName(S.document),m=S.readTime?this.fromVersion(S.readTime):ue.forDeletedDoc(),v=new St(f,m),_=S.removedTargetIds||[];e=new Ye([],_,v.key,v)}else if(dn(t,n,"documentRemove")){ln(t.documentRemove,"documentRemove"),ln(t.documentRemove.document,"documentRemove");var T=t.documentRemove;f=this.fromName(T.document),_=T.removedTargetIds||[];e=new Ye([],_,f,null)}else{if(!dn(t,n,"filter"))return E("Unknown change type "+JSON.stringify(t));ln(t.filter,"filter"),ln(t.filter.targetId,"filter.targetId");var filter=t.filter,C=filter.count||0,k=new xe(C),x=filter.targetId;e=new Xe(x,k)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?ze.NoChange:"ADD"===t?ze.Added:"REMOVE"===t?ze.Removed:"CURRENT"===t?ze.Current:"RESET"===t?ze.Reset:E("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!dn(t,t.response_type,"targetChange"))return ue.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?ue.MIN:e.readTime?this.fromVersion(e.readTime):ue.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof ye)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof _e)e={delete:this.toName(t.key)};else if(t instanceof ve)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof we))return E("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):me.NONE;if(t.update){ln(t.update.name,"name");var r=this.fromName(t.update.name),o=this.fromFields(t.update.fields||{});if(t.updateMask){var l=this.fromDocumentMask(t.updateMask);return new ve(r,o,l,n)}return new ye(r,o,n)}if(t.delete){r=this.fromName(t.delete);return new _e(r,n)}if(t.transform){r=this.fromName(t.transform.document);var c=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return T(!0===n.exists,'Transforms only support precondition "exists == true"'),new we(r,c)}return E("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return T(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:E("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?me.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?me.exists(t.exists):me.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e),o=null;return t.transformResults&&t.transformResults.length>0&&(o=t.transformResults.map(function(t){return n.fromValue(t)})),new ge(r,o)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(T(void 0!==e,"Received a write result without a commit time"),t.map(function(t){return n.fromWriteResult(t,e)})):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof Se)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ee)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof Te)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}};throw E("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=t.transform_type,r=null;if(dn(t,n,"setToServerValue"))T("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),r=Se.instance;else if(dn(t,n,"appendMissingElements")){var o=t.appendMissingElements.values||[];r=new Ee(o.map(function(t){return e.fromValue(t)}))}else if(dn(t,n,"removeAllFromArray")){o=t.removeAllFromArray.values||[];r=new Te(o.map(function(t){return e.fromValue(t)}))}else E("Unknown transform proto: "+JSON.stringify(t));var l=yt.fromServerFormat(t.fieldPath);return new pe(l,r)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;T(1===e,"DocumentsTarget contained other than 1 document: "+e);var n=t.documents[0];return Xt.atPath(this.fromQueryPath(n))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}};if(t.path.isEmpty())e.parent=this.toQueryPath(mt.EMPTY_PATH);else{var path=t.path;T(path.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(path.popLast()),e.structuredQuery.from=[{collectionId:path.lastSegment()}]}var n=this.toFilter(t.filters);n&&(e.structuredQuery.where=n);var r=this.toOrder(t.orderBy);r&&(e.structuredQuery.orderBy=r);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var path=this.fromQueryPath(t.parent),e=t.structuredQuery,n=e.from?e.from.length:0;if(n>0){T(1===n,"StructuredQuery.from with more than one collection is not supported.");var r=e.from[0];path=path.child(r.collectionId)}var o=[];e.where&&(o=this.fromFilter(e.where));var l=[];e.orderBy&&(l=this.fromOrder(e.orderBy));var c=null;e.limit&&(c=this.fromInt32Value(e.limit));var h=null;e.startAt&&(h=this.fromCursor(e.startAt));var d=null;return e.endAt&&(d=this.fromCursor(e.endAt)),new Xt(path,l,o,c,h,d)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case Yt.Listen:return null;case Yt.ExistenceFilterMismatch:return"existence-filter-mismatch";case Yt.LimboResolution:return"limbo-document";default:return E("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(filter){return filter instanceof te?e.toRelationFilter(filter):e.toUnaryFilter(filter)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(filter){var t=this;return filter?void 0!==filter.unaryFilter?[this.fromUnaryFilter(filter)]:void 0!==filter.fieldFilter?[this.fromRelationFilter(filter)]:void 0!==filter.compositeFilter?filter.compositeFilter.filters.map(function(e){return t.fromFilter(e)}).reduce(function(t,e){return t.concat(e)}):E("Unknown filter: "+JSON.stringify(filter)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(cursor){var t=this;return{before:cursor.before,values:cursor.position.map(function(component){return t.toValue(component)})}},t.prototype.fromCursor=function(cursor){var t=this,e=!!cursor.before,n=cursor.values.map(function(component){return t.fromValue(component)});return new ie(n,e)},t.prototype.toDirection=function(t){return an[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return re.ASCENDING;case"DESCENDING":return re.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return sn[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return Zt.EQUAL;case"GREATER_THAN":return Zt.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Zt.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Zt.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Zt.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Zt.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return E("Unspecified relation");default:return E("Unknown relation")}},t.prototype.toFieldPathReference=function(path){return{fieldPath:path.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return yt.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new oe(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(filter){return filter instanceof te?{fieldFilter:{field:this.toFieldPathReference(filter.field),op:this.toOperatorName(filter.op),value:this.toValue(filter.value)}}:E("Unrecognized filter: "+JSON.stringify(filter))},t.prototype.fromRelationFilter=function(filter){return new te(this.fromFieldPathReference(filter.fieldFilter.field),this.fromOperatorName(filter.fieldFilter.op),this.fromValue(filter.fieldFilter.value))},t.prototype.toUnaryFilter=function(filter){return filter instanceof ne?{unaryFilter:{field:this.toFieldPathReference(filter.field),op:"IS_NAN"}}:filter instanceof ee?{unaryFilter:{field:this.toFieldPathReference(filter.field),op:"IS_NULL"}}:E("Unrecognized filter: "+JSON.stringify(filter))},t.prototype.fromUnaryFilter=function(filter){switch(filter.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(filter.unaryFilter.field);return new ne(t);case"IS_NULL":var e=this.fromFieldPathReference(filter.unaryFilter.field);return new ee(e);case"OPERATOR_UNSPECIFIED":return E("Unspecified filter");default:return E("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(path){return yt.fromServerFormat(path)});return fe.fromArray(e)},t}();function dn(t,e,n){return e===n||!e&&n in t}var fn="FirebaseError",pn=Error.captureStackTrace,gn=function(){return function(code,t){if(this.code=code,this.message=t,pn)pn(this,mn.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name=fn,Object.defineProperty(this,"stack",{get:function(){return t.stack}})}}}();gn.prototype=Object.create(Error.prototype),gn.prototype.constructor=gn,gn.prototype.name=fn;var mn=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(code,data){void 0===data&&(data={});var t,template=this.errors[code],e=this.service+"/"+code;t=void 0===template?"Error":template.replace(this.pattern,function(t,e){var n=data[e];return void 0!==n?n.toString():"<"+e+"?>"}),t=this.serviceName+": "+t+" ("+e+").";var n=new gn(e,t);for(var r in data)data.hasOwnProperty(r)&&"_"!==r.slice(-1)&&(n[r]=data[r]);return n},t}(),bn=(function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var i=1;i<e.blockSize;++i)e.pad_[i]=0;return e.reset(),e}h.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,l,a=this.chain_[0],b=this.chain_[1],c=this.chain_[2],h=this.chain_[3],d=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=h^b&(c^h),l=1518500249):(o=b^c^h,l=1859775393):i<60?(o=b&c|h&(b|c),l=2400959708):(o=b^c^h,l=3395469782);r=(a<<5|a>>>27)+o+d+l+n[i]&4294967295;d=h,h=c,c=4294967295&(b<<30|b>>>2),b=a,a=r}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+b&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,l=this.inbuf_;r<e;){if(0==l)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(o[l]=t.charCodeAt(r),++r,++l==this.blockSize){this.compress_(o),l=0;break}}else for(;r<e;)if(o[l]=t[r],++r,++l==this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&e,e/=256;this.compress_(this.buf_);var n=0;for(i=0;i<5;i++)for(var r=24;r>=0;r-=8)t[n]=this.chain_[i]>>r&255,++n;return t}}(function(){return function(){this.blockSize=-1}}()),function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){T(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){T(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){T(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){T(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){T(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){T(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}()),yn="Connection",vn={BatchGetDocuments:"batchGet",Commit:"commit"},wn="gl-js/ fire/"+f,_n=function(){function t(t){this.databaseId=t.databaseId,this.pool=new d.XhrIoPool;var e=t.ssl?"https":"http";this.baseUrl=e+"://"+t.host}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var header in e.authHeaders)e.authHeaders.hasOwnProperty(header)&&(t[header]=e.authHeaders[header]);t["X-Goog-Api-Client"]=wn},t.prototype.invokeRPC=function(t,e,n){var r=this,o=this.makeUrl(t);return new Promise(function(l,c){r.pool.getObject(function(h){h.listenOnce(d.EventType.COMPLETE,function(){try{switch(h.getLastErrorCode()){case d.ErrorCode.NO_ERROR:var e=h.getResponseJson();w(yn,"XHR received:",JSON.stringify(e)),l(e);break;case d.ErrorCode.TIMEOUT:w(yn,'RPC "'+t+'" timed out'),c(new I(x.DEADLINE_EXCEEDED,"Request time out"));break;case d.ErrorCode.HTTP_ERROR:var n=h.getStatus();w(yn,'RPC "'+t+'" failed with status:',n,"response text:",h.getResponseText()),n>0?c(new I(function(t){switch(t){case 200:return x.OK;case 400:return x.INVALID_ARGUMENT;case 401:return x.UNAUTHENTICATED;case 403:return x.PERMISSION_DENIED;case 404:return x.NOT_FOUND;case 409:return x.ABORTED;case 416:return x.OUT_OF_RANGE;case 429:return x.RESOURCE_EXHAUSTED;case 499:return x.CANCELLED;case 500:return x.UNKNOWN;case 501:return x.UNIMPLEMENTED;case 503:return x.UNAVAILABLE;case 504:return x.DEADLINE_EXCEEDED;default:return t>=200&&t<300?x.OK:t>=400&&t<500?x.FAILED_PRECONDITION:t>=500&&t<600?x.INTERNAL:x.UNKNOWN}}(n),"Server responded with status "+h.getStatusText())):(w(yn,'RPC "'+t+'" failed'),c(new I(x.UNAVAILABLE,"Connection failed.")));break;default:E('RPC "'+t+'" failed with unanticipated webchannel error '+h.getLastErrorCode()+": "+h.getLastError()+", giving up.")}}finally{w(yn,'RPC "'+t+'" completed.'),r.pool.releaseObject(h)}});var f=JSON.stringify(e);w(yn,"XHR sending: ",o+" "+f);var m={"Content-Type":"text/plain"};r.modifyHeadersForRequest(m,n),h.send(o,"POST",f,m,15)})})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1beta1.Firestore","/",t,"/channel"],r=d.createWebChannelTransport(),o={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(o.initMessageHeaders,e),"object"==typeof navigator&&"ReactNative"===navigator.product||(o.httpHeadersOverwriteParam="$httpHeaders");var l=n.join("");w(yn,"Creating WebChannel: "+l+" "+o);var c=r.createWebChannel(l,o),h=!1,f=!1,m=new bn({sendFn:function(t){f?w(yn,"Not sending because WebChannel is closed:",t):(h||(w(yn,"Opening WebChannel transport."),c.open(),h=!0),w(yn,"WebChannel sending:",t),c.send(t))},closeFn:function(){return c.close()}}),y=function(t,e){c.listen(t,function(param){try{e(param)}catch(t){setTimeout(function(){throw t},0)}})};return y(d.WebChannel.EventType.OPEN,function(){f||w(yn,"WebChannel transport opened.")}),y(d.WebChannel.EventType.CLOSE,function(){f||(f=!0,w(yn,"WebChannel transport closed"),m.callOnClose())}),y(d.WebChannel.EventType.ERROR,function(t){f||(f=!0,w(yn,"WebChannel transport errored:",t),m.callOnClose(new I(x.UNAVAILABLE,"The operation could not be completed")))}),y(d.WebChannel.EventType.MESSAGE,function(t){if(!f){var e=t.data[0];T(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){w(yn,"WebChannel received error:",n);var r=n.status,code=function(t){var code=ke[t];if(void 0!==code)return Ne(code)}(r),o=n.message;void 0===code&&(code=x.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),f=!0,m.callOnClose(new I(code,o)),c.close()}else w(yn,"WebChannel received:",e),m.callOnMessage(e)}}),setTimeout(function(){m.callOnOpen()},0),m},t.prototype.makeUrl=function(t){var e=vn[t];T(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1beta1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}(),Sn=function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new _n(t))},t.prototype.newSerializer=function(t){return new hn(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}();C.setPlatform(new Sn);var En,Tn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),Cn=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}}();!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh",t.LruGarbageCollection="lru_garbage_collection"}(En||(En={}));var kn=function(){function t(t,e,n,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new Cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,o,l){var c=new t(e,n,Date.now()+r,o,l);return c.start(r),c},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new I(x.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),xn=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw _("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),T(e>=0,"Attempted to schedule an operation with a negative delay of "+e),T(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var o=kn.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(o),o},t.prototype.verifyNotFailed=function(){this.failure&&E("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){T(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++){if(n[e].timerId===t)return!0}return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){T(t===En.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(a,b){return a.targetTimeMs-b.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var o=r[n];if(o.skipDelay(),t!==En.All&&o.timerId===t)break}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);T(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),In="",Nn="",Dn="",An="";function On(path){for(var t="",i=0;i<path.length;i++)t.length>0&&(t=Rn(t)),t=Pn(path.get(i),t);return Rn(t)}function Pn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=In+Dn;break;case In:n+=In+An;break;default:n+=o}}return n}function Rn(t){return t+In+Nn}function Ln(path){var t=path.length;if(T(t>=2,"Invalid path "+path),2===t)return T(path.charAt(0)===In&&path.charAt(1)===Nn,"Non-empty path "+path+" had length 2"),mt.EMPTY_PATH;for(var e=t-2,n=[],r="",o=0;o<t;){var l=path.indexOf(In,o);switch((l<0||l>e)&&E('Invalid encoded resource path: "'+path+'"'),path.charAt(l+1)){case Nn:var c=path.substring(o,l),h=void 0;0===r.length?h=c:(h=r+=c,r=""),n.push(h);break;case Dn:r+=path.substring(o,l),r+="\0";break;case An:r+=path.substring(o,l+1);break;default:E('Invalid encoded resource path: "'+path+'"')}o=l+2}return new mt(n)}var Mn,Fn=-1,Bn=function(){function t(t,e,n){this.batchId=t,this.localWriteTime=e,this.mutations=n,T(n.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&T(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;T(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(t)){var l=r[i];e=o.applyToRemoteDocument(e,l)}}return e},t.prototype.applyToLocalView=function(t,e){e&&T(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=e,i=0;i<this.mutations.length;i++){var r=this.mutations[i];r.key.isEqual(t)&&(e=r.applyToLocalView(e,n,this.localWriteTime))}return e},t.prototype.keys=function(){for(var t=Ve(),e=0,n=this.mutations;e<n.length;e++){var r=n[e];t=t.add(r.key)}return t},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&et(this.mutations,t.mutations)},t}(),Vn=function(){function t(t,e,n,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=o}return t.from=function(e,n,r,o){T(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var l=Fe(),c=e.mutations,i=0;i<c.length;i++)l=l.insert(c[i].key,r[i].version);return new t(e,n,r,o,l)},t}(),qn=1;!function(t){t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine"}(Mn||(Mn={}));var jn=function(){function t(t,e){this.generatorId=t,T((t&qn)===t,"Generator ID "+t+" contains more than "+qn+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<qn,t},t.prototype.after=function(t){return this.seek(t+(1<<qn)),this.next()},t.prototype.seek=function(t){T((t&qn)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forQueryCache=function(){return new t(Mn.QueryCache,2)},t.forSyncEngine=function(){return new t(Mn.SyncEngine)},t}(),Un=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&E("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,o){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,o)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,o)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,o=0,l=!1;e.forEach(function(element){++r,element.next(function(){++o,l&&o===r&&t()},function(t){return n(t)})}),l=!0,o===r&&t()})},t.or=function(e){for(var p=t.resolve(!1),n=function(e){p=p.next(function(n){return n?t.resolve(n):e()})},r=0,o=e;r<o.length;r++){n(o[r])}return p},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,s){r.push(e.call(n,t,s))}),this.waitFor(r)},t}(),Wn=function(){function e(t){this.db=t}return e.openOrCreate=function(t,n,r){return T(e.isAvailable(),"IndexedDB not supported in current environment."),w("SimpleDb","Opening database:",t),new Un(function(o,l){var c=window.indexedDB.open(t,n);c.onsuccess=function(t){var n=t.target.result;o(new e(n))},c.onblocked=function(){l(new I(x.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=function(t){var e=t.target.error;"VersionError"===e.name?l(new I(x.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l(e)},c.onupgradeneeded=function(e){w("SimpleDb",'Database "'+t+'" requires upgrade from version:',e.oldVersion);var n=e.target.result,o=new zn(c.transaction);r.createOrUpgrade(n,o,e.oldVersion,cr).next(function(){w("SimpleDb","Database upgrade to version "+cr+" complete")})}}).toPromise()},e.delete=function(t){return w("SimpleDb","Removing database:",t),Kn(window.indexedDB.deleteDatabase(t)).toPromise()},e.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===t.env.USE_MOCK_PERSISTENCE;var e=window.navigator.userAgent;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0)},e.getStore=function(t,e){return t.store(e)},e.prototype.runTransaction=function(t,e,n){var r=zn.open(this.db,t,e),o=n(r).catch(function(t){return r.abort(t),Un.reject(t)}).toPromise();return r.completionPromise.then(function(){return o})},e.prototype.close=function(){this.db.close()},e}(),$n=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return Kn(this.dbCursor.delete())},t}(),zn=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new Cn,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){e.completionDeferred.reject(t.target.error)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(w("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return T(!!e,"Object store not part of transaction: "+t),new Hn(e)},t}(),Hn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(w("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(w("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Kn(n)},t.prototype.add=function(t){return w("SimpleDb","ADD",this.store.name,t,t),Kn(this.store.add(t))},t.prototype.get=function(t){var e=this;return Kn(this.store.get(t)).next(function(n){return void 0===n&&(n=null),w("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return w("SimpleDb","DELETE",this.store.name,t),Kn(this.store.delete(t))},t.prototype.count=function(){return w("SimpleDb","COUNT",this.store.name),Kn(this.store.count())},t.prototype.loadAll=function(t,e){var cursor=this.cursor(this.options(t,e)),n=[];return this.iterateCursor(cursor,function(t,e){n.push(e)}).next(function(){return n})},t.prototype.deleteAll=function(t,e){w("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var cursor=this.cursor(n);return this.iterateCursor(cursor,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var cursor=this.cursor(n);return this.iterateCursor(cursor,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new Un(function(n,r){e.onerror=function(t){r(t.target.error)},e.onsuccess=function(e){var cursor=e.target.result;cursor?t(cursor.primaryKey,cursor.value).next(function(t){t?cursor.continue():n()}):n()}})},t.prototype.iterateCursor=function(t,e){var n=[];return new Un(function(r,o){t.onerror=function(t){o(t.target.error)},t.onsuccess=function(t){var cursor=t.target.result;if(cursor){var o=new $n(cursor),l=e(cursor.primaryKey,cursor.value,o);if(l instanceof Un){var c=l.catch(function(t){return o.done(),Un.reject(t)});n.push(c)}o.isDone?r():null===o.skipToKey?cursor.continue():cursor.continue(o.skipToKey)}else r()}}).next(function(){return Un.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(T(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Kn(t){return new Un(function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){n(t.target.error)}})}var Qn=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=jn.forQueryCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next(function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return ue.fromTimestamp(new ct(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return Xn(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next(function(o){return o.highestListenSequenceNumber=e,n&&(o.lastRemoteSnapshotVersion=n.toTimestamp()),e>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=e),r.saveMetadata(t,o)})},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.retrieveMetadata(t).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(e,r),n.saveMetadata(t,r)})})},t.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},t.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Gn(t).delete(e.targetId)}).next(function(){return n.retrieveMetadata(t)}).next(function(e){return T(e.targetCount>0,"Removing from an empty query cache"),e.targetCount-=1,n.saveMetadata(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,o=0,l=[];return Gn(t).iterate(function(c,h){var d=r.serializer.fromDbTarget(h);d.sequenceNumber<=e&&void 0===n[d.targetId]&&(o++,l.push(r.removeQueryData(t,d)))}).next(function(){return Un.waitFor(l)}).next(function(){return o})},t.prototype.forEachTarget=function(t,e){var n=this;return Gn(t).iterate(function(t,r){var o=n.serializer.fromDbTarget(r);e(o)})},t.prototype.retrieveMetadata=function(t){return Yn(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,Yr.getStore(n,Cr.store)).put(Cr.key,e);var n},t.prototype.saveQueryData=function(t,e){return Gn(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),l=null;return Gn(t).iterate({range:o,index:Er.queryTargetsIndexName},function(t,r,o){var c=n.serializer.fromDbTarget(r);e.isEqual(c.query)&&(l=c,o.done())}).next(function(){return l})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,o=[],l=Jn(t);return e.forEach(function(e){var path=On(e.path);o.push(l.put(new Tr(n,path))),o.push(r.referenceDelegate.addReference(t,e))}),Un.waitFor(o)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,o=Jn(t);return Un.forEach(e,function(e){var path=On(e.path);return Un.waitFor([o.delete([n,path]),r.referenceDelegate.removeReference(t,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Jn(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Jn(t),o=Ve();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var path=Ln(t[1]),r=new vt(path);o=o.add(r)}).next(function(){return o})},t.prototype.containsKey=function(t,e){var s,path=On(e.path),n=IDBKeyRange.bound([path],[(s=path,s+"\0")],!1,!0),r=0;return Jn(t).iterate({index:Tr.documentTargetsIndex,keysOnly:!0,range:n},function(t,e,n){var o=t[0];t[1];0!==o&&(r++,n.done())}).next(function(){return r>0})},t.prototype.getQueryDataForTarget=function(t,e){var n=this;return Gn(t).get(e).next(function(t){return t?n.serializer.fromDbTarget(t):null})},t}();function Gn(t){return Yr.getStore(t,Er.store)}function Yn(t){return Wn.getStore(t,Cr.store).get(Cr.key).next(function(t){return T(null!==t,"Missing metadata row."),t})}function Xn(t){return Yn(t).next(function(t){return t.highestListenSequenceNumber})}function Jn(t){return Yr.getStore(t,Tr.store)}var Zn=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,o=n;r<o.length;r++){var l=o[r],c=l[0],h=l[1];if(c.isEqual(t))return h}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(n[i][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){P(this.inner,function(e,n){for(var r=0,o=n;r<o.length;r++){var l=o[r],c=l[0],h=l[1];t(c,h)}})},t.prototype.isEmpty=function(){return R(this.inner)},t}(),er=function(){function t(){this.changes=Oe(),this.documentSizes=new Zn(function(t){return t.toString()})}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this,r=this.assertChanges().get(e);return r?Un.resolve(r):this.getFromCache(t,e).next(function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)})},t.prototype.getEntries=function(t,e){var n=this;return this.getAllFromCache(t,e).next(function(t){var e=t.maybeDocuments;return t.sizeMap.forEach(function(t,e){n.documentSizes.set(t,e)}),e})},t.prototype.apply=function(t){var e=this.applyChanges(t);return this.changes=null,e},t.prototype.assertChanges=function(){return T(null!==this.changes,"Changes have already been applied."),this.changes},t}(),nr="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",rr=function(){function t(t,e){this.serializer=t,this.keepDocumentChangeLog=e,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(t.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=Wn.getStore(t,xr.store);return this.synchronizeLastDocumentChangeId(e)},t.prototype.addEntries=function(t,e,n){var r=[];if(e.length>0){for(var o=ar(t),l=Ve(),c=0,h=e;c<h.length;c++){var d=h[c],f=d.key,m=d.doc;r.push(o.put(ur(f),m)),l=l.add(f)}this.keepDocumentChangeLog&&r.push(sr(t).put({changes:this.serializer.toDbResourcePaths(l)})),r.push(this.updateSize(t,n))}return Un.waitFor(r)},t.prototype.removeEntry=function(t,e){var n=ar(t),r=ur(e);return n.get(r).next(function(t){return t?n.delete(r).next(function(){return lr(t)}):Un.resolve(0)})},t.prototype.getEntry=function(t,e){var n=this;return ar(t).get(ur(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getSizedEntry=function(t,e){var n=this;return ar(t).get(ur(e)).next(function(t){return t?{maybeDocument:n.serializer.fromDbRemoteDocument(t),size:lr(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Pe();return this.forEachDbEntry(t,e,function(t,e){r=e?r.insert(t,n.serializer.fromDbRemoteDocument(e)):r.insert(t,null)}).next(function(){return r})},t.prototype.getSizedEntries=function(t,e){var n=this,r=Pe(),o=new Tt(vt.comparator);return this.forEachDbEntry(t,e,function(t,e){e?(r=r.insert(t,n.serializer.fromDbRemoteDocument(e)),o=o.insert(t,lr(e))):(r=r.insert(t,null),o=o.insert(t,0))}).next(function(){return{maybeDocuments:r,sizeMap:o}})},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return Un.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),o=e.getIterator(),l=o.getNext();return ar(t).iterate({range:r},function(t,e,r){for(var c=vt.fromSegments(t);l&&vt.comparator(l,c)<0;)n(l,null),l=o.getNext();l&&l.isEqual(c)&&(n(l,e),l=o.hasNext()?o.getNext():null),l?r.skip(l.path.toArray()):r.done()}).next(function(){for(;l;)n(l,null),l=o.hasNext()?o.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this,r=Le(),o=e.path.toArray(),l=IDBKeyRange.lowerBound(o);return ar(t).iterate({range:l},function(t,o,l){var c=n.serializer.fromDbRemoteDocument(o);e.path.isPrefixOf(c.key.path)?c instanceof _t&&e.matches(c)&&(r=r.insert(c.key,c)):l.done()}).next(function(){return r})},t.prototype.getNewDocumentChanges=function(t){var e=this;T(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Ve(),r=Oe(),o=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),l=!0,c=sr(t);return c.iterate({range:o},function(t,r){if(l&&(l=!1,e._lastProcessedDocumentChangeId+1!==r.id))return e.synchronizeLastDocumentChangeId(c).next(function(){return Un.reject(new I(x.DATA_LOSS,nr))});n=n.unionWith(e.serializer.fromDbResourcePaths(r.changes)),e._lastProcessedDocumentChangeId=r.id}).next(function(){var o=[];return n.forEach(function(n){o.push(e.getEntry(t,n).next(function(t){var e=t||new St(n,ue.forDeletedDoc());r=r.insert(n,e)}))}),Un.waitFor(o)}).next(function(){return r})},t.prototype.removeDocumentChangesThroughChangeId=function(t,e){var n=IDBKeyRange.upperBound(e);return sr(t).delete(n)},t.prototype.synchronizeLastDocumentChangeId=function(t){var e=this;return this._lastProcessedDocumentChangeId=0,t.iterate({keysOnly:!0,reverse:!0},function(t,n,r){e._lastProcessedDocumentChangeId=t,r.done()})},t.prototype.newChangeBuffer=function(){return new or(this)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return ir(t).get(Sr.key).next(function(t){return T(!!t,"Missing document cache metadata"),t})},t.prototype.setMetadata=function(t,e){return ir(t).put(Sr.key,e)},t.prototype.updateSize=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.setMetadata(t,r)})},t}();function ir(t){return Yr.getStore(t,Sr.store)}var or=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return h.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,o=[];return n.forEach(function(t,n){var l=e.documentCache.serializer.toDbRemoteDocument(n),c=e.documentSizes.get(t);T(void 0!==c,"Attempting to change document "+t.toString()+" without having read it first");var h=lr(l);r+=h-c,o.push({key:t,doc:l})}),this.documentCache.addEntries(t,o,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(er);function ar(t){return Yr.getStore(t,_r.store)}function sr(t){return Yr.getStore(t,xr.store)}function ur(t){return t.path.toArray()}function lr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw E("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var cr=7,dr=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var o=this;T(n<r&&n>=0&&r<=cr,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(function(t){t.createObjectStore(pr.store)}(t),function(t){t.createObjectStore(gr.store,{keyPath:gr.keyPath}),t.createObjectStore(mr.store,{keyPath:mr.keyPath,autoIncrement:!0}).createIndex(mr.userMutationsIndex,mr.userMutationsKeyPath,{unique:!0}),t.createObjectStore(yr.store)}(t),kr(t),function(t){t.createObjectStore(_r.store)}(t));var p=Un.resolve();return n<3&&r>=3&&(0!==n&&(!function(t){t.deleteObjectStore(Tr.store),t.deleteObjectStore(Er.store),t.deleteObjectStore(Cr.store)}(t),kr(t)),p=p.next(function(){return function(t){var e=t.store(Cr.store),n=new Cr(0,0,ue.MIN.toTimestamp(),0);return e.put(Cr.key,n)}(e)})),n<4&&r>=4&&(0!==n&&(p=p.next(function(){return function(t,e){return e.store(mr.store).loadAll().next(function(n){t.deleteObjectStore(mr.store);var r=t.createObjectStore(mr.store,{keyPath:mr.keyPath,autoIncrement:!0});r.createIndex(mr.userMutationsIndex,mr.userMutationsKeyPath,{unique:!0});var o=e.store(mr.store),l=n.map(function(t){return o.put(t)});return Un.waitFor(l)})}(t,e)})),p=p.next(function(){!function(t){t.createObjectStore(Ir.store,{keyPath:Ir.keyPath})}(t),function(t){t.createObjectStore(xr.store,{keyPath:"id",autoIncrement:!0})}(t)})),n<5&&r>=5&&(p=p.next(function(){return o.removeAcknowledgedMutations(e)})),n<6&&r>=6&&(p=p.next(function(){return function(t){t.createObjectStore(Sr.store)}(t),o.addDocumentGlobal(e)})),n<7&&r>=7&&(p=p.next(function(){return o.ensureSequenceNumbers(e)})),p},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(_r.store).iterate(function(t,n){e+=lr(n)}).next(function(){var n=new Sr(e);return t.store(Sr.store).put(Sr.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(gr.store),r=t.store(mr.store);return n.loadAll().next(function(n){return Un.forEach(n,function(n){var o=IDBKeyRange.bound([n.userId,Fn],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(mr.userMutationsIndex,o).next(function(r){return Un.forEach(r,function(r){T(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var o=e.serializer.fromDbMutationBatch(r);return Or(t,n.userId,o).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Tr.store),n=t.store(_r.store);return Xn(t).next(function(t){var r=[];return n.iterate(function(n,o){var path=new mt(n),l=function(path){return[0,On(path)]}(path);r.push(e.get(l).next(function(n){return n?Un.resolve():function(path){return e.put(new Tr(0,On(path),t))}(path)}))}).next(function(){return Un.waitFor(r)})})},t}();var fr=function(){return function(t,e){this.seconds=t,this.nanoseconds=e}}(),pr=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}();var gr=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),mr=function(){function t(t,e,n,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.mutations=r}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}();var yr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,path){return[t,On(path)]},t.key=function(t,path,e){return[t,On(path),e]},t.store="documentMutations",t.PLACEHOLDER=new t,t}();var vr=function(){return function(path,t){this.path=path,this.readTime=t}}(),wr=function(){return function(path,t){this.path=path,this.version=t}}(),_r=function(){function t(t,e,n,r){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r}return t.store="remoteDocuments",t}(),Sr=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}();var Er=function(){function t(t,e,n,r,o,l){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.query=l}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),Tr=function(){function t(t,path,e){this.targetId=t,this.path=path,this.sequenceNumber=e,T(0===t==(void 0!==e),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),Cr=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}();function kr(t){t.createObjectStore(Tr.store,{keyPath:Tr.keyPath}).createIndex(Tr.documentTargetsIndex,Tr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Er.store,{keyPath:Er.keyPath}).createIndex(Er.queryTargetsIndexName,Er.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Cr.store)}var xr=function(){function t(t){this.changes=t}return t.store="remoteDocumentChanges",t.keyPath="id",t}();var Ir=function(){function t(t,e,n,r,o){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=o}return t.store="clientMetadata",t.keyPath="clientId",t}();var Nr=[gr.store,mr.store,yr.store,_r.store,Er.store,pr.store,Cr.store,Tr.store].concat([Ir.store,xr.store]).concat([Sr.store]),Dr=function(){function t(t,e,n){this.userId=t,this.serializer=e,this.referenceDelegate=n,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r){return T(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,r)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rr(t).iterate({index:mr.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next(function(r){var o=e.batchId;return T(o>r.lastAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order"),r.lastAcknowledgedBatchId=o,r.lastStreamToken=Pr(n),Mr(t).put(r)})},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next(function(n){return n.lastStreamToken=Pr(e),Mr(t).put(n)})},t.prototype.addMutationBatch=function(t,e,n){var r=this,o=Lr(t),l=Rr(t);return l.add({}).next(function(t){T("number"==typeof t,"Auto-generated key is not a number");var c=new Bn(t,e,n),h=r.serializer.toDbMutationBatch(r.userId,c);r.documentKeysByBatchId[t]=c.keys();for(var d=[],f=0,m=n;f<m.length;f++){var y=m[f],v=yr.key(r.userId,y.key.path,t);d.push(l.put(h)),d.push(o.put(v,yr.PLACEHOLDER))}return Un.waitFor(d).next(function(){return c})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Rr(t).get(e).next(function(t){return t?(T(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null})},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?Un.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this;return this.getMutationQueueMetadata(t).next(function(r){var o=Math.max(e,r.lastAcknowledgedBatchId)+1,l=IDBKeyRange.lowerBound([n.userId,o]),c=null;return Rr(t).iterate({index:mr.userMutationsIndex,range:l},function(t,e,r){e.userId===n.userId&&(T(e.batchId>=o,"Should have found mutation after "+o),c=n.serializer.fromDbMutationBatch(e)),r.done()}).next(function(){return c})})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,Fn],[this.userId,Number.POSITIVE_INFINITY]);return Rr(t).loadAll(mr.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=yr.prefixForPath(this.userId,e.path),o=IDBKeyRange.lowerBound(r),l=[];return Lr(t).iterate({range:o},function(r,o,c){var h=r[0],d=r[1],f=r[2],path=Ln(d);if(h===n.userId&&e.path.isEqual(path))return Rr(t).get(f).next(function(t){if(!t)throw E("Dangling document-mutation reference found: "+r+" which points to "+f);T(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+f),l.push(n.serializer.fromDbMutationBatch(t))});c.done()}).next(function(){return l})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new he(tt),o=[];return e.forEach(function(e){var l=yr.prefixForPath(n.userId,e.path),c=IDBKeyRange.lowerBound(l),h=Lr(t).iterate({range:c},function(t,o,l){var c=t[0],h=t[1],d=t[2],path=Ln(h);c===n.userId&&e.path.isEqual(path)?r=r.add(d):l.done()});o.push(h)}),Un.waitFor(o).next(function(){return n.lookupMutationBatches(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;T(!e.isDocumentQuery(),"Document queries shouldn't go down this path");var r=e.path,o=r.length+1,l=yr.prefixForPath(this.userId,r),c=IDBKeyRange.lowerBound(l),h=new he(tt);return Lr(t).iterate({range:c},function(t,e,l){var c=t[0],d=t[1],f=t[2],path=Ln(d);c===n.userId&&r.isPrefixOf(path)?path.length===o&&(h=h.add(f)):l.done()}).next(function(){return n.lookupMutationBatches(t,h)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],o=[];return e.forEach(function(e){o.push(Rr(t).get(e).next(function(t){if(null===t)throw E("Dangling document-mutation reference found, which points to "+e);T(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))}))}),Un.waitFor(o).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Or(t.simpleDbTransaction,this.userId,e).next(function(r){return n.removeCachedMutationKeys(e.batchId),Un.forEach(r,function(e){return n.referenceDelegate.removeMutationReference(t,e)})})},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Un.resolve();var r=IDBKeyRange.lowerBound(yr.prefixForUser(e.userId)),o=[];return Lr(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var path=Ln(t[1]);o.push(path)}else r.done()}).next(function(){T(0===o.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+o.map(function(p){return p.canonicalString()}))})})},t.prototype.containsKey=function(t,e){return Ar(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return Mr(t).get(this.userId).next(function(t){return t||new gr(e.userId,Fn,"")})},t}();function Ar(t,e,n){var r=yr.prefixForPath(e,n.path),o=r[1],l=IDBKeyRange.lowerBound(r),c=!1;return Lr(t).iterate({range:l,keysOnly:!0},function(t,n,r){var l=t[0],h=t[1];t[2];l===e&&h===o&&(c=!0),r.done()}).next(function(){return c})}function Or(t,e,n){var r=t.store(mr.store),o=t.store(yr.store),l=[],c=IDBKeyRange.only(n.batchId),h=0,d=r.iterate({range:c},function(t,e,n){return h++,n.delete()});l.push(d.next(function(){T(1===h,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var f=[],m=0,y=n.mutations;m<y.length;m++){var v=y[m],w=yr.key(e,v.key.path,n.batchId);l.push(o.delete(w)),f.push(v.key)}return Un.waitFor(l).next(function(){return f})}function Pr(e){return e instanceof Uint8Array?(T("YES"===t.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),e.toString()):e}function Rr(t){return Yr.getStore(t,mr.store)}function Lr(t){return Yr.getStore(t,yr.store)}function Mr(t){return Yr.getStore(t,gr.store)}var Fr=function(){function e(t){this.remoteSerializer=t}return e.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=vt.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new St(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){e=vt.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version);return new Et(e,n)}return E("Unexpected DbRemoteDocument")},e.prototype.toDbRemoteDocument=function(t){if(t instanceof _t){var e=t.proto?t.proto:this.remoteSerializer.toDocument(t),n=t.hasCommittedMutations;return new _r(null,null,e,n)}if(t instanceof St){var path=t.key.path.toArray(),r=this.toDbTimestamp(t.version);n=t.hasCommittedMutations;return new _r(null,new vr(path,r),null,n)}if(t instanceof Et){path=t.key.path.toArray(),r=this.toDbTimestamp(t.version);return new _r(new wr(path,r),null,null,!0)}return E("Unexpected MaybeDocumment")},e.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new fr(e.seconds,e.nanoseconds)},e.prototype.fromDbTimestamp=function(t){var e=new ct(t.seconds,t.nanoseconds);return ue.fromTimestamp(e)},e.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new mr(t,e.batchId,e.localWriteTime.toMillis(),r)},e.prototype.fromDbMutationBatch=function(t){var e=this,n=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),r=ct.fromMillis(t.localWriteTimeMs);return new Bn(t.batchId,r,n)},e.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(On(t.path))}),e},e.prototype.fromDbResourcePaths=function(t){for(var e=Ve(),n=0,r=t;n<r.length;n++){var o=r[n];e=e.add(new vt(Ln(o)))}return e},e.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new ce(e,t.targetId,Yt.Listen,t.lastListenSequenceNumber,n,t.resumeToken)},e.prototype.toDbTarget=function(e){T(Yt.Listen===e.purpose,"Only queries with purpose "+Yt.Listen+" may be stored, got "+e.purpose);var n,r,o=this.toDbTimestamp(e.snapshotVersion);return n=e.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.query):this.remoteSerializer.toQueryTarget(e.query),e.resumeToken instanceof Uint8Array?(T("YES"===t.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),r=e.resumeToken.toString()):r=e.resumeToken,new Er(e.targetId,e.query.canonicalId(),o,r,e.sequenceNumber,n)},e}();function Br(t,e){var n=t[0],r=t[1],o=e[0],l=e[1],c=tt(n,o);return 0===c?tt(r,l):c}var Vr=function(){function t(t){this.maxElements=t,this.buffer=new he(Br),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Br(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),qr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jr=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),Ur=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.gcTask=null}return t.prototype.start=function(){T(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Ro&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;T(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;w("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(En.LruGarbageCollection,e,function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then(function(){return t.scheduleGC()}).catch(Xr)})},t}(),Wr=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Un.resolve(Tn.INVALID);var r=new Vr(e);return this.delegate.forEachTarget(t,function(t){return r.addElement(t.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return r.addElement(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===jr.COLLECTION_DISABLED?(w("LruGarbageCollector","Garbage collection skipped; disabled"),Un.resolve(qr)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(w("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),qr):n.runGarbageCollection(t,e)})},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,r,l,c,h,d,f,m,v=this;return c=Date.now(),this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>v.params.maximumSequenceNumbersToCollect?(w("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+v.params.maximumSequenceNumbersToCollect+" from "+e),r=v.params.maximumSequenceNumbersToCollect):r=e,h=Date.now(),v.nthSequenceNumber(t,r)}).next(function(r){return n=r,d=Date.now(),v.removeTargets(t,n,e)}).next(function(e){return l=e,f=Date.now(),v.removeOrphanedDocuments(t,n)}).next(function(t){(m=Date.now(),y()<=o.DEBUG)&&w("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(h-c)+"ms\n\tDetermined least recently used "+r+" in "+(d-h)+"ms\n\tRemoved "+l+" targets in "+(f-d)+"ms\n\tRemoved "+t+" documents in "+(m-f)+"ms\nTotal Duration: "+(m-c)+"ms");return Un.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:l,documentsRemoved:t})})},t}(),$r=function(){return function(){}}(),zr="IndexedDbPersistence",Hr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Kr="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `experimentalTabSynchronization:true` in all tabs.",Qr="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",Gr=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return h.__extends(e,t),e}($r),Yr=function(){function t(e,n,r,o,l,c,h){if(this.persistenceKey=e,this.clientId=n,this.queue=o,this.multiClientParams=h,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},!t.isAvailable())throw new I(x.UNIMPLEMENTED,Qr);if(this.referenceDelegate=new ti(this,c),this.dbName=e+t.MAIN_DATABASE,this.serializer=new Fr(l),this.document=r.document,this.allowTabSynchronization=void 0!==h,this.queryCache=new Qn(this.referenceDelegate,this.serializer),this.remoteDocumentCache=new rr(this.serializer,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new I(x.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof Gr)return Wn.getStore(t.simpleDbTransaction,e);throw E("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e,n,r,o,l,c){return h.__awaiter(this,void 0,void 0,function(){var d;return h.__generator(this,function(h){switch(h.label){case 0:return[4,(d=new t(e,n,r,o,l,c)).start()];case 1:return h.sent(),[2,d]}})})},t.createMultiClientIndexedDbPersistence=function(e,n,r,o,l,c,d){return h.__awaiter(this,void 0,void 0,function(){var f;return h.__generator(this,function(h){switch(h.label){case 0:return[4,(f=new t(e,n,r,o,l,c,d)).start()];case 1:return h.sent(),[2,f]}})})},t.prototype.start=function(){var t=this;return T(!this.started,"IndexedDbPersistence double-started!"),T(null!==this.window,"Expected 'window' to be defined"),Wn.openOrCreate(this.dbName,cr,new dr(this.serializer)).then(function(e){t.simpleDb=e}).then(function(){return t.startRemoteDocumentCache()}).then(function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})}).then(function(){return t.simpleDb.runTransaction("readonly",[Cr.store],function(e){return Xn(e).next(function(e){var n=t.multiClientParams?t.multiClientParams.sequenceNumberSyncer:void 0;t.listenSequence=new Tn(e,n)})})}).then(function(){t._started=!0}).catch(function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)})},t.prototype.startRemoteDocumentCache=function(){var t=this;return this.simpleDb.runTransaction("readonly",Nr,function(e){return t.remoteDocumentCache.start(e)})},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return h.__awaiter(e,void 0,void 0,function(){return h.__generator(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return h.__awaiter(e,void 0,void 0,function(){return h.__generator(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",Nr,function(e){return Zr(e).put(new Ir(t.clientId,Date.now(),t.networkEnabled,t.inForeground,t.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next(function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget(function(){return t.primaryStateListener(!1)}))})}).next(function(){return t.canActAsPrimary(e)}).next(function(n){var r=t.isPrimary;return t.isPrimary=n,r!==t.isPrimary&&t.queue.enqueueAndForget(function(){return t.primaryStateListener(t.isPrimary)}),r&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0})})},t.prototype.verifyPrimaryLease=function(t){var e=this;return Jr(t).get(pr.key).next(function(t){return Un.resolve(e.isLocalClient(t))})},t.prototype.removeClientMetadata=function(t){return Zr(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return h.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return h.__generator(this,function(o){switch(o.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(o){var l=t.getStore(o,Ir.store);return l.loadAll().next(function(t){e=r.filterActiveClients(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)})}).next(function(){return Un.forEach(n,function(t){return l.delete(t.clientId)})}).next(function(){if((e=e.filter(function(t){return t.clientId!==r.clientId})).length>0){var t=e.map(function(t){return t.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,t);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(o,n)}})})]);case 1:o.sent(),n.forEach(function(t){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(t.clientId))}),o.label=2;case 2:return[2]}})})},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(En.ClientMetadataRefresh,4e3,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return Jr(t).get(pr.key).next(function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new I(x.FAILED_PRECONDITION,Kr);return!1}}return!(!e.networkEnabled||!e.inForeground)||Zr(t).loadAll().next(function(t){return void 0===e.filterActiveClients(t,5e3).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,o=e.networkEnabled===t.networkEnabled;if(n||r&&o)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&w(zr,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(t){return h.__awaiter(this,void 0,void 0,function(){var e=this;return h.__generator(this,function(n){switch(n.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[pr.store,Ir.store],function(t){return e.releasePrimaryLeaseIfHeld(t).next(function(){return e.removeClientMetadata(t)})})];case 1:return n.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),t?[4,Wn.delete(this.dbName)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter(function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)})},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly",[Ir.store],function(e){return Zr(e).loadAll().next(function(e){return t.filterActiveClients(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return T(this.started,"Cannot initialize MutationQueue before persistence is started."),Dr.forUser(t,this.serializer,this.referenceDelegate)},t.prototype.getQueryCache=function(){return T(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},t.prototype.getRemoteDocumentCache=function(){return T(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;return w(zr,"Starting transaction:",t),this.simpleDb.runTransaction("readonly"===e?"readonly":"readwrite",Nr,function(o){return"readwrite-primary"===e?r.verifyPrimaryLease(o).next(function(e){if(!e)throw _("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new I(x.FAILED_PRECONDITION,Hr);return n(new Gr(o,r.listenSequence.next()))}).next(function(t){return r.acquireOrExtendPrimaryLease(o).next(function(){return t})}):r.verifyAllowTabSynchronization(o).next(function(){return n(new Gr(o,r.listenSequence.next()))})})},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return Jr(t).get(pr.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new I(x.FAILED_PRECONDITION,Kr)})},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new pr(this.clientId,this.allowTabSynchronization,Date.now());return Jr(t).put(pr.key,e)},t.isAvailable=function(){return Wn.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=Jr(t);return n.get(pr.key).next(function(t){return e.isLocalClient(t)?(w(zr,"Releasing primary lease."),n.delete(pr.key)):Un.resolve()})},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e)&&(!(t>n)||(_("Detected an update time that is in the future: "+t+" > "+n),!1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(T(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(T("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return w(zr,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return _(zr,"Failed to get zombied client id.",t),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){_("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function Xr(t){return h.__awaiter(this,void 0,void 0,function(){return h.__generator(this,function(e){if(!function(t){return t.code===x.FAILED_PRECONDITION&&t.message===Hr}(t))throw t;return w(zr,"Unexpectedly lost primary lease"),[2]})})}function Jr(t){return t.store(pr.store)}function Zr(t){return t.store(Ir.store)}var ti=function(){function t(t,e){this.db=t,this.garbageCollector=new Wr(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getQueryCache().getQueryCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,function(t,n){return e(n)})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return ei(t,e)},t.prototype.removeReference=function(t,e){return ei(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return ei(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?Un.resolve(!0):function(t,e){var n=!1;return Mr(t).iterateSerial(function(r){return Ar(t,r,e).next(function(t){return t&&(n=!0),Un.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,o=0,l=[];return this.forEachOrphanedDocument(t,function(c,h){if(h<=e){var p=n.isPinned(t,c).next(function(e){if(!e)return r++,n.removeOrphanedDocument(t,c).next(function(t){o+=t})});l.push(p)}}).next(function(){return Un.waitFor(l)}).next(function(){return n.db.getRemoteDocumentCache().updateSize(t,-o)}).next(function(){return r})},t.prototype.removeOrphanedDocument=function(t,e){var n,r=0,o=this.db.getRemoteDocumentCache();return Un.waitFor([Jn(t).delete((n=e,[0,On(n.path)])),o.removeEntry(t,e).next(function(t){r+=t})]).next(function(){return r})},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(t,n)},t.prototype.updateLimboDocument=function(t,e){return ei(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=Jn(t),o=Tn.INVALID;return r.iterate({index:Tr.documentTargetsIndex},function(t,r){var l=t[0],path=(t[1],r.path),c=r.sequenceNumber;0===l?(o!==Tn.INVALID&&e(new vt(Ln(n)),o),o=c,n=path):o=Tn.INVALID}).next(function(){o!==Tn.INVALID&&e(new vt(Ln(n)),o)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function ei(t,e){return Jn(t).put(function(t,e){return new Tr(0,On(t.path),e)}(e,t.currentSequenceNumber))}var ni=function(){function t(t,e){this.remoteDocumentCache=t,this.mutationQueue=e}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.getDocumentInternal(t,e,r)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var r=0,o=n;r<o.length;r++){t=o[r].applyToLocalView(e,t)}return t})},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var r=Pe();return e.forEach(function(t,e){for(var o=0,l=n;o<l.length;o++){e=l[o].applyToLocalView(t,e)}r=r.insert(t,e)}),r},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next(function(e){return n.getLocalViewOfDocuments(t,e)})},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var o=n.applyLocalMutationsToDocuments(t,e,r),l=Oe();return o.forEach(function(t,e){e||(e=new St(t,ue.forDeletedDoc())),l=l.insert(t,e)}),l})},t.prototype.getDocumentsMatchingQuery=function(t,e){return vt.isDocumentKey(e.path)?this.getDocumentsMatchingDocumentQuery(t,e.path):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new vt(e)).next(function(t){var e=Le();return t instanceof _t&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(o){return n=o,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(t){for(var r=0,o=t;r<o.length;r++)for(var l=o[r],c=0,h=l.mutations;c<h.length;c++){var d=h[c],f=d.key;if(e.path.isImmediateParentOf(f.path)){var m=n.get(f),y=d.applyToLocalView(m,m,l.localWriteTime);n=y instanceof _t?n.insert(f,y):n.remove(f)}}}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t}(),ri=function(){function t(){this.refsByKey=new he(ii.compareByKey),this.refsByTarget=new he(ii.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new ii(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new ii(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=vt.EMPTY,r=new ii(n,t),o=new ii(n,t+1),l=[];return this.refsByTarget.forEachInRange([r,o],function(t){e.removeRef(t),l.push(t.key)}),l},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=vt.EMPTY,n=new ii(e,t),r=new ii(e,t+1),o=Ve();return this.refsByTarget.forEachInRange([n,r],function(t){o=o.add(t.key)}),o},t.prototype.containsKey=function(t){var e=new ii(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),ii=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return vt.comparator(t.key,e.key)||tt(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return tt(t.targetOrBatchId,e.targetOrBatchId)||vt.comparator(t.key,e.key)},t}(),oi=function(){function t(t,e){this.persistence=t,this.localViewReferences=new ri,this.queryDataByTarget={},T(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new ni(this.remoteDocuments,this.mutationQueue)}return t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(o){return r=o,e.mutationQueue=e.persistence.getMutationQueue(t),e.localDocuments=new ni(e.remoteDocuments,e.mutationQueue),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var o=[],l=[],c=Ve(),h=0,d=r;h<d.length;h++){var f=d[h];o.push(f.batchId);for(var m=0,y=f.mutations;m<y.length;m++){var v=y[m];c=c.add(v.key)}}for(var w=0,_=t;w<_.length;w++){f=_[w];l.push(f.batchId);for(var S=0,E=f.mutations;S<E.length;S++){v=E[S];c=c.add(v.key)}}return e.localDocuments.getDocuments(n,c).next(function(t){return{affectedDocuments:t,removedBatchIds:o,addedBatchIds:l}})})})},t.prototype.localWrite=function(t){var e=this;return this.persistence.runTransaction("Locally write mutations","readwrite",function(n){var r,o=ct.now();return e.mutationQueue.addMutationBatch(n,o,t).next(function(t){var o=(r=t).keys();return e.localDocuments.getDocuments(n,o)}).next(function(t){return{batchId:r.batchId,changes:t}})})},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return e.mutationQueue.lookupMutationKeys(n,t).next(function(t){return t?e.localDocuments.getDocuments(n,t):Un.resolve(null)})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=t.batch.keys(),o=e.remoteDocuments.newChangeBuffer();return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){return e.applyWriteToRemoteDocuments(n,t,o)}).next(function(){return o.apply(n)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next(function(t){return T(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)})},t.prototype.applyRemoteEvent=function(e){var n=this,r=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var l=[],c=Ve();O(e.targetChanges,function(r,h){var d=n.queryDataByTarget[r];if(d){h.addedDocuments.forEach(function(t){c=c.add(t)}),h.modifiedDocuments.forEach(function(t){c=c.add(t)}),l.push(n.queryCache.removeMatchingKeys(o,h.removedDocuments,r).next(function(){return n.queryCache.addMatchingKeys(o,h.addedDocuments,r)}));var f=h.resumeToken;if(f.length>0){var m=d;d=d.copy({resumeToken:f,snapshotVersion:e.snapshotVersion}),n.queryDataByTarget[r]=d,t.shouldPersistQueryData(m,d,h)&&l.push(n.queryCache.updateQueryData(o,d))}}});var h=Oe(),d=Ve();e.documentUpdates.forEach(function(t,e){d=d.add(t)}),l.push(r.getEntries(o,d).next(function(t){e.documentUpdates.forEach(function(d,f){var m=t.get(d);null==m||f.version.isEqual(ue.MIN)||c.has(f.key)&&!m.hasPendingWrites||f.version.compareTo(m.version)>=0?(r.addEntry(f),h=h.insert(d,f)):w("LocalStore","Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version),e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))})}));var f=e.snapshotVersion;if(!f.isEqual(ue.MIN)){var m=n.queryCache.getLastRemoteSnapshotVersion(o).next(function(t){return T(f.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+f+" < "+t),n.queryCache.setTargetsMetadata(o,o.currentSequenceNumber,f)});l.push(m)}return Un.waitFor(l).next(function(){return r.apply(o)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(o,h)})})},t.shouldPersistQueryData=function(t,e,n){return 0!==e.resumeToken.length&&(0===t.resumeToken.length||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0))},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return Un.forEach(t,function(t){return e.localViewReferences.addReferences(t.addedKeys,t.targetId),e.localViewReferences.removeReferences(t.removedKeys,t.targetId),Un.forEach(t.removedKeys,function(t){return e.persistence.referenceDelegate.removeReference(n,t)})})})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===t&&(t=Fn),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(o){return o?(r=o,Un.resolve()):e.queryCache.allocateTargetId(n).next(function(o){return r=new ce(t,o,Yt.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,r)})}).next(function(){return T(!e.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+t),e.queryDataByTarget[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t,e){var n=this,r=e?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",r,function(r){return n.queryCache.getQueryData(r,t).next(function(o){T(null!=o,"Tried to release nonexistent query: "+t);var l=o.targetId,c=n.queryDataByTarget[l],h=n.localViewReferences.removeReferencesForId(l);return delete n.queryDataByTarget[l],e?Un.resolve():Un.forEach(h,function(t){return n.persistence.referenceDelegate.removeReference(r,t)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,c)})})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,o=e.batch,l=o.keys(),c=Un.resolve();return l.forEach(function(r){c=c.next(function(){return n.getEntry(t,r)}).next(function(t){var l=t,c=e.docVersions.get(r);T(null!==c,"ackVersions should contain every doc in the write."),(!l||l.version.compareTo(c)<0)&&((l=o.applyToRemoteDocument(r,l,e))?n.addEntry(l):T(!t,"Mutation batch "+o+" applied to document "+t+" resulted in null"))})}),c.next(function(){return r.mutationQueue.removeMutationBatch(t,o)})},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.queryDataByTarget)})},t.prototype.getQueryForTarget=function(t){var e=this;return this.queryDataByTarget[t]?Promise.resolve(this.queryDataByTarget[t].query):this.persistence.runTransaction("Get query data","readonly",function(n){return e.queryCache.getQueryDataForTarget(n,t).next(function(t){return t?t.query:null})})},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",function(e){return t.remoteDocuments.getNewDocumentChanges(e)})},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),ai=function(){function t(t){this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.highestAcknowledgedBatchId=Fn,this.lastStreamToken=k(),this.batchesByDocumentKey=new he(ii.compareByKey)}return t.prototype.checkEmpty=function(t){return Un.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;T(r>this.highestAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order");var o=this.indexOfExistingBatchId(r,"acknowledged");T(0===o,"Can only acknowledge the first batch in the mutation queue");var l=this.mutationQueue[o];return T(r===l.batchId,"Queue ordering failure: expected batch "+r+", got batch "+l.batchId),this.highestAcknowledgedBatchId=r,this.lastStreamToken=n,Un.resolve()},t.prototype.getLastStreamToken=function(t){return Un.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,Un.resolve()},t.prototype.addMutationBatch=function(t,e,n){T(0!==n.length,"Mutation batches should not be empty");var r=this.nextBatchId;(this.nextBatchId++,this.mutationQueue.length>0)&&T(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var o=new Bn(r,e,n);this.mutationQueue.push(o);for(var l=0,c=n;l<c.length;l++){var h=c[l];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new ii(h.key,r))}return Un.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Un.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return T(null!=n,"Failed to find local mutation batch."),Un.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=Math.max(e,this.highestAcknowledgedBatchId)+1,r=this.indexOfBatchId(n),o=r<0?0:r;return Un.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)},t.prototype.getAllMutationBatches=function(t){return Un.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new ii(e,0),o=new ii(e,Number.POSITIVE_INFINITY),l=[];return this.batchesByDocumentKey.forEachInRange([r,o],function(t){T(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);T(null!==r,"Batches in the index must exist in the main table"),l.push(r)}),Un.resolve(l)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new he(tt);return e.forEach(function(t){var e=new ii(t,0),o=new ii(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,o],function(e){T(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)})}),Un.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,o=n;vt.isDocumentKey(o)||(o=o.child(""));var l=new ii(new vt(o),0),c=new he(tt);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(c=c.add(t.targetOrBatchId)),!0)},l),Un.resolve(this.findMutationBatches(c))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;T(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return Un.forEach(e.mutations,function(o){var l=new ii(o.key,e.batchId);return r=r.delete(l),n.referenceDelegate.removeMutationReference(t,o.key)}).next(function(){n.batchesByDocumentKey=r})},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new ii(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Un.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&T(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Un.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return T(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return T(n.batchId===t,"If found batch must match"),n},t}(),si=function(){function t(t){this.persistence=t,this.queries=new Zn(function(q){return q.canonicalId()}),this.lastRemoteSnapshotVersion=ue.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new ri,this.targetCount=0,this.targetIdGenerator=jn.forQueryCache()}return t.prototype.getTargetCount=function(t){return Un.resolve(this.targetCount)},t.prototype.forEachTarget=function(t,e){return this.queries.forEach(function(t,n){return e(n)}),Un.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Un.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Un.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,Un.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),Un.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addQueryData=function(t,e){return T(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,Un.resolve()},t.prototype.updateQueryData=function(t,e){return T(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),Un.resolve()},t.prototype.removeQueryData=function(t,e){return T(this.targetCount>0,"Removing a target from an empty cache"),T(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,Un.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,o=0,l=[];return this.queries.forEach(function(c,h){h.sequenceNumber<=e&&!n[h.targetId]&&(r.queries.delete(c),l.push(r.removeMatchingKeysForTargetId(t,h.targetId)),o++)}),Un.waitFor(l).next(function(){return o})},t.prototype.getQueryCount=function(t){return Un.resolve(this.targetCount)},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return Un.resolve(n)},t.prototype.getQueryDataForTarget=function(t,e){return E("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(function(e){o.push(r.addReference(t,e))}),Un.waitFor(o)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(function(e){o.push(r.removeReference(t,e))}),Un.waitFor(o)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),Un.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return Un.resolve(n)},t.prototype.containsKey=function(t,e){return Un.resolve(this.references.containsKey(e))},t}();var ui,ci=function(){function t(t){this.sizer=t,this.docs=new Tt(vt.comparator),this.newDocumentChanges=Ve(),this.size=0}return t.prototype.addEntries=function(t,e,n){for(var r=0,o=e;r<o.length;r++){var l=o[r],c=l.maybeDocument.key;this.docs=this.docs.insert(c,l),this.newDocumentChanges=this.newDocumentChanges.add(c)}return this.size+=n,Un.resolve()},t.prototype.removeEntry=function(t,e){var n=this.docs.get(e);return n?(this.docs=this.docs.remove(e),this.size-=n.size,Un.resolve(n.size)):Un.resolve(0)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Un.resolve(n?n.maybeDocument:null)},t.prototype.getSizedEntry=function(t,e){return Un.resolve(this.docs.get(e))},t.prototype.getEntries=function(t,e){var n=this,r=Pe();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),Un.resolve(r)},t.prototype.getSizedEntries=function(t,e){var n=this,r=Pe(),o=new Tt(vt.comparator);return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null),o=o.insert(t,e?e.size:0)}),Un.resolve({maybeDocuments:r,sizeMap:o})},t.prototype.getDocumentsMatchingQuery=function(t,e){for(var n=Le(),r=new vt(e.path.child("")),o=this.docs.getIteratorFrom(r);o.hasNext();){var l=o.getNext(),c=l.key,h=l.value.maybeDocument;if(!e.path.isPrefixOf(c.path))break;h instanceof _t&&e.matches(h)&&(n=n.insert(h.key,h))}return Un.resolve(n)},t.prototype.forEachDocumentKey=function(t,e){return Un.forEach(this.docs,function(t){return e(t)})},t.prototype.getNewDocumentChanges=function(t){var e=this,n=Oe();return this.newDocumentChanges.forEach(function(t){var r=e.docs.get(t),o=r?r.maybeDocument:new St(t,ue.forDeletedDoc());n=n.insert(t,o)}),this.newDocumentChanges=Ve(),Un.resolve(n)},t.prototype.newChangeBuffer=function(){return new hi(this.sizer,this)},t.prototype.getSize=function(t){return Un.resolve(this.size)},t}(),hi=function(t){function e(e,n){var r=t.call(this)||this;return r.sizer=e,r.documentCache=n,r}return h.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,o=[];return n.forEach(function(t,n){var l=e.documentSizes.get(t);T(void 0!==l,"Attempting to change document "+t.toString()+" without having read it first");var c=e.sizer(n);r+=c-l,o.push({maybeDocument:n,size:c})}),this.documentCache.addEntries(t,o,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(er),di=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new Tn(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new si(this);this.remoteDocumentCache=new ci(function(t){return n.referenceDelegate.documentSize(t)})}return t.createLruPersistence=function(e,n,r){return new t(e,function(p){return new gi(p,new Fr(n),r)})},t.createEagerPersistence=function(e){return new t(e,function(p){return new pi(p)})},t.prototype.shutdown=function(t){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return h.__awaiter(this,void 0,void 0,function(){return h.__generator(this,function(t){return[2,[this.clientId]]})})},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setNetworkEnabled=function(t){},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new ai(this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;w("MemoryPersistence","Starting transaction:",t);var o=new fi(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(o).next(function(t){return r.referenceDelegate.onTransactionCommitted(o).next(function(){return t})}).toPromise()},t.prototype.mutationQueuesContainKey=function(t,e){return Un.or((n=this.mutationQueues,r=[],P(n,function(t,e){return r.push(e)}),r).map(function(n){return function(){return n.containsKey(t,e)}}));var n,r},t}(),fi=function(){return function(t){this.currentSequenceNumber=t}}(),pi=function(){function t(t){this.persistence=t}return t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),Un.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),Un.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),Un.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.orphanedDocuments.add(t)})}).next(function(){return r.removeQueryData(t,e)})},t.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache();return Un.forEach(this.orphanedDocuments,function(r){return e.isReferenced(t,r).next(function(e){return e?Un.resolve():n.removeEntry(t,r).next(function(){})})})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next(function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)})},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return Un.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return Un.resolve(n.inMemoryPins.containsKey(e))}])},t}(),gi=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.orphanedSequenceNumbers=new Zn(function(t){return On(t.path)}),this.garbageCollector=new Wr(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return Un.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getQueryCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return Un.forEach(this.orphanedSequenceNumbers,function(r,o){return n.isPinned(t,r,o).next(function(t){return t?Un.resolve():e(o)})})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,o=this.persistence.getRemoteDocumentCache();return o.forEachDocumentKey(t,function(l){return n.isPinned(t,l,e).next(function(e){return e?Un.resolve():(r++,o.removeEntry(t,l).next())})}).next(function(){return r})},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Un.resolve()},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Un.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Un.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Un.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw E("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var r=this;return Un.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return Un.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return Un.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),mi=function(){function t(t,e,n,r,o){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=o,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),o=Math.max(0,n-r);this.currentBaseMs>0&&w("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,o,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}();!function(t){t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff"}(ui||(ui={}));var bi,yi,vi=1e3,wi=6e4,_i=1.5,Si=function(){function t(t,e,n,r,o,l){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=o,this.listener=l,this.state=ui.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new mi(t,e,vi,_i,wi)}return t.prototype.isStarted=function(){return this.state===ui.Starting||this.state===ui.Open||this.state===ui.Backoff},t.prototype.isOpen=function(){return this.state===ui.Open},t.prototype.start=function(){this.state!==ui.Error?(T(this.state===ui.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return h.__awaiter(this,void 0,void 0,function(){return h.__generator(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(ui.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.inhibitBackoff=function(){T(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=ui.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return h.__awaiter(this,void 0,void 0,function(){return h.__generator(this,function(t){return this.isOpen()?[2,this.close(ui.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return h.__awaiter(this,void 0,void 0,function(){return h.__generator(this,function(n){switch(n.label){case 0:return T(this.isStarted(),"Only started streams should be closed."),T(t===ui.Error||Qt(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==ui.Error?this.backoff.reset():e&&e.code===x.RESOURCE_EXHAUSTED?(_(e.toString()),_("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===x.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;T(this.state===ui.Initial,"Must be in initial state to auth"),this.state=ui.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new I(x.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;T(this.state===ui.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return T(e.state===ui.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=ui.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;T(this.state===ui.Error,"Should only perform backoff when in Error state"),this.state=ui.Backoff,this.backoff.backoffAndRun(function(){return h.__awaiter(t,void 0,void 0,function(){return h.__generator(this,function(t){return T(this.state===ui.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=ui.Initial,this.start(),T(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return T(this.isStarted(),"Can't handle server close on non-started stream"),w("PersistentStream","close with error: "+t),this.stream=null,this.close(ui.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget(function(){return e.closeCount===t?n():(w("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Ei=function(t){function e(e,n,r,o,l){var c=t.call(this,e,En.ListenStreamConnectionBackoff,En.ListenStreamIdle,n,r,l)||this;return c.serializer=o,c}return h.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(Si),Ti=function(t){function e(e,n,r,o,l){var c=t.call(this,e,En.WriteStreamConnectionBackoff,En.WriteStreamIdle,n,r,l)||this;return c.serializer=o,c.handshakeComplete_=!1,c}return h.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(T(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return T(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){T(this.isOpen(),"Writing handshake requires an opened stream"),T(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;T(this.isOpen(),"Writing mutations requires an opened stream"),T(this.handshakeComplete_,"Handshake must be complete before writing mutations"),T(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(Si),Ci=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new Ti(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new Ei(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=Oe();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var o=[];return t.forEach(function(t){var e=r.get(t);T(!!e,"Missing entity in write response for "+t),o.push(e)}),o})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===x.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===x.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),ki=function(){function t(t){this.datastore=t,this.readVersions=Fe(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e;if(t instanceof _t)e=t.version;else{if(!(t instanceof St))throw E("Document in a transaction was a "+t.constructor.name);e=ue.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new I(x.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){t instanceof St||t instanceof _t?e.recordVersion(t):E("Document in a transaction was a "+t.constructor.name)}),t})},t.prototype.write=function(t){if(this.committed)throw new I(x.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?me.updateTime(e):me.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual(ue.forDeletedDoc()))throw new I(x.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?me.updateTime(e):me.exists(!0)},t.prototype.set=function(t,data){this.write(data.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,data){this.write(data.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new _e(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,ue.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}();!function(t){t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline"}(bi||(bi={})),function(t){t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState"}(yi||(yi={}));var xi=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=bi.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(bi.Unknown),T(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(En.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,T(t.state===bi.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(bi.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===bi.Online?(this.setAndBroadcast(bi.Unknown),T(0===this.watchStreamFailures,"watchStreamFailures must be 0"),T(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(bi.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===bi.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(details){var t="Could not reach Cloud Firestore backend. "+details+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(_(t),this.shouldWarnClientIsOffline=!1):w("OnlineStateTracker",t)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),Ii=function(){function t(t,e,n,r){this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.onlineStateTracker=new xi(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return h.__awaiter(this,void 0,void 0,function(){var t;return h.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(bi.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return h.__awaiter(this,void 0,void 0,function(){return h.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(bi.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return h.__awaiter(this,void 0,void 0,function(){return h.__generator(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(w("RemoteStore","Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},t.prototype.shutdown=function(){return h.__awaiter(this,void 0,void 0,function(){return h.__generator(this,function(t){switch(t.label){case 0:return w("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(bi.Unknown),[2]}})})},t.prototype.listen=function(t){T(!D(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){T(D(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),R(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(bi.Unknown))},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){T(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new tn(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!R(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return h.__awaiter(this,void 0,void 0,function(){var t=this;return h.__generator(this,function(e){return O(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return h.__awaiter(this,void 0,void 0,function(){return h.__generator(this,function(e){return void 0===t&&T(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(bi.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return h.__awaiter(this,void 0,void 0,function(){var n;return h.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(bi.Online),t instanceof Je&&t.state===ze.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof Ye?this.watchChangeAggregator.handleDocumentChange(t):t instanceof Xe?this.watchChangeAggregator.handleExistenceFilter(t):(T(t instanceof Je,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(ue.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;T(!t.isEqual(ue.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return O(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var o=e.listenTargets[n];o&&(e.listenTargets[n]=o.copy({resumeToken:r.resumeToken,snapshotVersion:t}))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.copy({resumeToken:k()}),e.sendUnwatchRequest(t);var r=new ce(n.query,t,Yt.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;T(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return h.__awaiter(e,void 0,void 0,function(){return h.__generator(this,function(e){return D(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return h.__awaiter(this,void 0,void 0,function(){var t,e;return h.__generator(this,function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(t=this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:Fn,[4,this.localStore.nextMutationBatch(t)]):[3,4];case 1:return null!==(e=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(e),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){T(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){T(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return h.__awaiter(this,void 0,void 0,function(){return h.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++){var r=n[e];t.writeStream.writeMutations(r.mutations)}}).catch(Xr)},t.prototype.onMutationResult=function(t,e){var n=this;T(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),o=Vn.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(o).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return h.__awaiter(this,void 0,void 0,function(){var e=this;return h.__generator(this,function(n){return void 0===t&&T(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?(void 0,[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]):[2]})})},t.prototype.handleHandshakeError=function(t){return h.__awaiter(this,void 0,void 0,function(){return h.__generator(this,function(e){return Ie(t.code)||t.code===x.ABORTED?(w("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=k(),[2,this.localStore.setLastStreamToken(k()).catch(Xr)]):[2]})})},t.prototype.handleWriteError=function(t){return h.__awaiter(this,void 0,void 0,function(){var e,n=this;return h.__generator(this,function(r){return Ie(t.code)?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2]})})},t.prototype.createTransaction=function(){return new ki(this.datastore)},t.prototype.handleCredentialChange=function(){return h.__awaiter(this,void 0,void 0,function(){return h.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(w("RemoteStore","RemoteStore restarting streams for new credential"),this.networkEnabled=!1,[4,this.disableNetworkInternal()]):[3,3];case 1:return t.sent(),this.onlineStateTracker.set(bi.Unknown),[4,this.enableNetwork()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.applyPrimaryState=function(t){return h.__awaiter(this,void 0,void 0,function(){return h.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(bi.Unknown),e.label=4;case 4:return[2]}})})},t}(),Ni=function(){return function(){this.listeners=[]}}(),Di=function(){function t(t){this.syncEngine=t,this.queries=new Zn(function(q){return q.canonicalId()}),this.onlineState=bi.Unknown,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new Ni,this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return h.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return h.__generator(this,function(o){return e=t.query,n=!1,(r=this.queries.get(e))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onWatchChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],o=r.query,l=this.queries.get(o);if(l){for(var c=0,h=l.listeners;c<h.length;c++){h[c].onViewSnapshot(r)}l.viewSnap=r}}},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,o=n.listeners;r<o.length;r++){o[r].onError(e)}this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,o=n.listeners;r<o.length;r++){o[r].applyOnlineStateChange(t)}})},t}(),Ai=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=bi.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(T(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var o=r[n];o.type!==Ue.Metadata&&e.push(o)}t=new Ke(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){if(T(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache)return!0;var n=e!==bi.Offline;return this.options.waitForSyncWhenOnline&&n?(T(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===bi.Offline},t.prototype.shouldRaiseEvent=function(t){if(t.docChanges.length>0)return!0;var e=this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){T(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Ke.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),Oi=function(){function t(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e,n){for(var r=Ve(),o=Ve(),l=0,c=n.docChanges;l<c.length;l++){var h=c[l];switch(h.type){case Ue.Added:r=r.add(h.doc.key);break;case Ue.Removed:o=o.add(h.doc.key)}}return new t(e,r,o)},t}(),Pi=function(){return function(t){this.key=t}}(),Ri=function(){return function(t){this.key=t}}(),Li=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Ve(),this.mutatedKeys=Ve(),this.documentSet=new $e(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new He,o=e?e.documentSet:this.documentSet,l=e?e.mutatedKeys:this.mutatedKeys,c=o,h=!1,d=this.query.hasLimit()&&o.size===this.query.limit?o.last():null;if(t.inorderTraversal(function(t,e){var f=o.get(t),m=e instanceof _t?e:null;m&&(T(t.isEqual(m.key),"Mismatching keys found in document changes: "+t+" != "+m.key),m=n.query.matches(m)?m:null);var y=!!f&&n.mutatedKeys.has(f.key),v=!!m&&(m.hasLocalMutations||n.mutatedKeys.has(m.key)&&m.hasCommittedMutations),w=!1;f&&m?f.data.isEqual(m.data)?y!==v&&(r.track({type:Ue.Metadata,doc:m}),w=!0):n.shouldWaitForSyncedDocument(f,m)||(r.track({type:Ue.Modified,doc:m}),w=!0,d&&n.query.docComparator(m,d)>0&&(h=!0)):!f&&m?(r.track({type:Ue.Added,doc:m}),w=!0):f&&!m&&(r.track({type:Ue.Removed,doc:f}),w=!0,d&&(h=!0));w&&(m?(c=c.add(m),l=v?l.add(t):l.delete(t)):(c=c.delete(t),l=l.delete(t)))}),this.query.hasLimit())for(;c.size>this.query.limit;){var f=c.last();c=c.delete(f.key),l=l.delete(f.key),r.track({type:Ue.Removed,doc:f})}return T(!h||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:c,changeSet:r,needsRefill:h,mutatedKeys:l}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;T(!t.needsRefill,"Cannot apply changes that need a refill");var o=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var l=t.changeSet.getChanges();l.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case Ue.Added:return 1;case Ue.Modified:case Ue.Metadata:return 2;case Ue.Removed:return 0;default:return E("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(n);var c=e?this.updateLimboDocuments():[],h=0===this.limboDocuments.size&&this.current?We.Synced:We.Local,d=h!==this.syncState;return this.syncState=h,0!==l.length||d?{snapshot:new Ke(this.query,t.documentSet,o,l,t.mutatedKeys,h===We.Local,d,!1),limboChanges:c}:{limboChanges:c}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===bi.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new He,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&(!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations)},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return T(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Ve(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new Ri(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new Pi(t))}),n},t.prototype.synchronizeWithPersistedState=function(t,e){this._syncedDocuments=e,this.limboDocuments=Ve();var n=this.computeDocChanges(t);return this.applyChanges(n,!0)},t.prototype.computeInitialSnapshot=function(){return Ke.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===We.Local)},t}();var Mi=function(){return function(t,e,view){this.query=t,this.targetId=e,this.view=view}}(),Fi=function(){return function(t){this.key=t}}(),Bi=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new Zn(function(q){return q.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new Tt(vt.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new ri,this.mutationUserCallbacks={},this.limboTargetIdGenerator=jn.forSyncEngine(),this.isPrimary=void 0,this.onlineState=bi.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){T(null!==t,"SyncEngine listener cannot be null"),T(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return h.__awaiter(this,void 0,void 0,function(){var e,n,r,o,l;return h.__generator(this,function(c){switch(c.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(e=r.targetId,this.sharedClientState.addLocalQueryTarget(e),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return o=c.sent(),l=this.sharedClientState.addLocalQueryTarget(o.targetId),e=o.targetId,[4,this.initializeViewAndComputeSnapshot(o,"current"===l)];case 3:n=c.sent(),this.isPrimary&&this.remoteStore.listen(o),c.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}})})},t.prototype.initializeViewAndComputeSnapshot=function(t,e){var n=this,r=t.query;return this.localStore.executeQuery(r).then(function(o){return n.localStore.remoteDocumentKeys(t.targetId).then(function(l){var view=new Li(r,l),c=view.computeDocChanges(o),h=Ge.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&n.onlineState!==bi.Offline),d=view.applyChanges(c,!0===n.isPrimary,h);T(0===d.limboChanges.length,"View returned limbo docs before target ack from the server."),T(!!d.snapshot,"applyChanges for new view should always return a snapshot");var data=new Mi(r,t.targetId,view);return n.queryViewsByQuery.set(r,data),n.queryViewsByTarget[t.targetId]=data,d.snapshot})})},t.prototype.synchronizeViewAndComputeSnapshot=function(t){var e=this;return this.localStore.executeQuery(t.query).then(function(n){return e.localStore.remoteDocumentKeys(t.targetId).then(function(r){return h.__awaiter(e,void 0,void 0,function(){var e;return h.__generator(this,function(o){return e=t.view.synchronizeWithPersistedState(n,r),this.isPrimary&&this.updateTrackedLimbos(t.targetId,e.limboChanges),[2,e]})})})})},t.prototype.unlisten=function(t){return h.__awaiter(this,void 0,void 0,function(){var e,n=this;return h.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),T(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(t,!1).then(function(){n.sharedClientState.clearQueryState(e.targetId),n.remoteStore.unlisten(e.targetId),n.removeAndCleanupQuery(e)}).catch(Xr)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.sharedClientState.addPendingMutation(t.batchId),n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),T(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!Qt(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(t){return Promise.reject(n.wrapUpdateFunctionError(t))}}().then(function(o){return r.commit().then(function(){return o}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(t).then(function(n){return P(t.targetChanges,function(t,n){var r=e.limboResolutionsByTarget[t];r&&(T(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),n.addedDocuments.size>0?r.receivedDocument=!0:n.modifiedDocuments.size>0?T(r.receivedDocument,"Received change for limbo target document without add."):n.removedDocuments.size>0&&(T(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),e.emitNewSnapsAndNotifyLocalStore(n,t)}).catch(Xr)},t.prototype.applyOnlineStateChange=function(t,source){if(this.isPrimary&&source===yi.RemoteStore||!this.isPrimary&&source===yi.SharedClientState){var e=[];this.queryViewsByQuery.forEach(function(n,r){var o=r.view.applyOnlineStateChange(t);T(0===o.limboChanges.length,"OnlineState should not affect limbo documents."),o.snapshot&&e.push(o.snapshot)}),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(e),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return h.__awaiter(this,void 0,void 0,function(){var n,r,o,l,c,d,f=this;return h.__generator(this,function(h){switch(h.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),n=this.limboResolutionsByTarget[t],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],o=(o=new Tt(vt.comparator)).insert(r,new St(r,ue.forDeletedDoc())),l=Ve().add(r),c=new Qe(ue.MIN,{},new he(tt),o,l),[2,this.applyRemoteEvent(c)]):[3,1];case 1:return T(!!(d=this.queryViewsByTarget[t]),"Unknown targetId: "+t),[4,this.localStore.releaseQuery(d.query,!1).then(function(){return f.removeAndCleanupQuery(d)}).catch(Xr)];case 2:h.sent(),this.syncEngineListener.onWatchError(d.query,e),h.label=3;case 3:return[2]}})})},t.prototype.applyBatchState=function(t,e,n){return h.__awaiter(this,void 0,void 0,function(){var r;return h.__generator(this,function(o){switch(o.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=o.sent())?(w("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return o.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):E("Unknown batchState: "+e),o.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return o.sent(),[2]}})})},t.prototype.applySuccessfulWrite=function(t){var e=this;this.assertSubscribed("applySuccessfulWrite()");var n=t.batch.batchId;return this.processUserCallback(n,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.sharedClientState.updateMutationState(n,"acknowledged"),e.emitNewSnapsAndNotifyLocalStore(t)}).catch(Xr)},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(r){return n.sharedClientState.updateMutationState(t,"rejected",e),n.emitNewSnapsAndNotifyLocalStore(r)}).catch(Xr)},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new Tt(tt)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(T(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach(function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)})}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o instanceof Pi)this.limboDocumentRefs.addReference(o.key,t),this.trackLimboChange(o);else if(o instanceof Ri){w("SyncEngine","Document no longer in limbo: "+o.key),this.limboDocumentRefs.removeReference(o.key,t),this.limboDocumentRefs.containsKey(o.key)||this.removeLimboTarget(o.key)}else E("Unknown limbo change: "+JSON.stringify(o))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){w("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=Xt.atPath(e.path);this.limboResolutionsByTarget[n]=new Fi(e),this.remoteStore.listen(new ce(r,n,Yt.LimboResolution,Tn.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return h.__awaiter(this,void 0,void 0,function(){var n,r,o,l=this;return h.__generator(this,function(c){switch(c.label){case 0:return n=[],r=[],o=[],this.queryViewsByQuery.forEach(function(c,h){o.push(Promise.resolve().then(function(){var e=h.view.computeDocChanges(t);return e.needsRefill?l.localStore.executeQuery(h.query).then(function(t){return h.view.computeDocChanges(t,e)}):e}).then(function(t){var o=e&&e.targetChanges[h.targetId],c=h.view.applyChanges(t,!0===l.isPrimary,o);if(l.updateTrackedLimbos(h.targetId,c.limboChanges),c.snapshot){l.isPrimary&&l.sharedClientState.updateQueryState(h.targetId,c.snapshot.fromCache?"not-current":"current"),n.push(c.snapshot);var d=Oi.fromSnapshot(h.targetId,c.snapshot);r.push(d)}}))}),[4,Promise.all(o)];case 1:return c.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return c.sent(),[2]}})})},t.prototype.assertSubscribed=function(t){T(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return h.__awaiter(this,void 0,void 0,function(){var e,n;return h.__generator(this,function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?[4,this.localStore.handleUserChange(t)]:[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},t.prototype.applyPrimaryState=function(t){return h.__awaiter(this,void 0,void 0,function(){var e,n,r,o,l,c,d,f=this;return h.__generator(this,function(h){switch(h.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return h.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=h.sent(),r=0,o=n;r<o.length;r++)l=o[r],this.remoteStore.listen(l);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,c=[],d=Promise.resolve(),O(this.queryViewsByTarget,function(t,e){f.sharedClientState.isLocalQueryTarget(t)?c.push(t):d=d.then(function(){return f.unlisten(e.query)}),f.remoteStore.unlisten(e.targetId)}),[4,d]);case 4:return h.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(c)];case 5:return h.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:h.sent(),h.label=7;case 7:return[2]}})})},t.prototype.resetLimboDocuments=function(){var t=this;O(this.limboResolutionsByTarget,function(e){t.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new Tt(vt.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){for(var e=this,p=Promise.resolve(),n=[],r=[],o=function(t){p=p.then(function(){return h.__awaiter(e,void 0,void 0,function(){var e,o,l,c;return h.__generator(this,function(h){switch(h.label){case 0:return(o=this.queryViewsByTarget[t])?[4,this.localStore.releaseQuery(o.query,!0)]:[3,4];case 1:return h.sent(),[4,this.localStore.allocateQuery(o.query)];case 2:return e=h.sent(),[4,this.synchronizeViewAndComputeSnapshot(o)];case 3:return(l=h.sent()).snapshot&&r.push(l.snapshot),[3,8];case 4:return T(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(t)];case 5:return T(!!(c=h.sent()),"Query data for target "+t+" not found"),[4,this.localStore.allocateQuery(c)];case 6:return e=h.sent(),[4,this.initializeViewAndComputeSnapshot(e,!1)];case 7:h.sent(),h.label=8;case 8:return n.push(e),[2]}})})})},l=0,c=t;l<c.length;l++){o(c[l])}return p.then(function(){return e.syncEngineListener.onWatchChange(r),n})},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return h.__awaiter(this,void 0,void 0,function(){var r,o=this;return h.__generator(this,function(l){switch(l.label){case 0:if(this.isPrimary)return w("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,5];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then(function(n){return h.__awaiter(o,void 0,void 0,function(){var r;return h.__generator(this,function(o){switch(o.label){case 0:return r=Qe.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(n,r)];case 1:return o.sent(),[2]}})})},function(t){return h.__awaiter(o,void 0,void 0,function(){var e;return h.__generator(this,function(n){switch(n.label){case 0:return function(t){return t.code===x.DATA_LOSS&&t.message===nr}(t)?(e=[],O(this.queryViewsByTarget,function(t){return e.push(t)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e)]):[3,2];case 1:return n.sent(),[3,3];case 2:throw t;case 3:return[2]}})})})];case 2:return r=this.queryViewsByTarget[t],this.removeAndCleanupQuery(r),[4,this.localStore.releaseQuery(r.query,!0)];case 3:return l.sent(),this.syncEngineListener.onWatchError(r.query,n),[3,5];case 4:E("Unexpected target state: "+e),l.label=5;case 5:return[2]}})})},t.prototype.applyActiveTargetsChange=function(t,e){return h.__awaiter(this,void 0,void 0,function(){var n,r,o,l,c,d,f,m,y,v=this;return h.__generator(this,function(w){switch(w.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,w.label=1;case 1:return n<r.length?(y=r[n],T(!this.queryViewsByTarget[y],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(y)]):[3,6];case 2:return T(!!(o=w.sent()),"Query data for active target "+y+" not found"),[4,this.localStore.allocateQuery(o)];case 3:return l=w.sent(),[4,this.initializeViewAndComputeSnapshot(l,!1)];case 4:w.sent(),this.remoteStore.listen(l),w.label=5;case 5:return n++,[3,1];case 6:c=function(t){var e;return h.__generator(this,function(n){switch(n.label){case 0:return(e=d.queryViewsByTarget[t])?[4,d.localStore.releaseQuery(e.query,!1).then(function(){v.remoteStore.unlisten(t),v.removeAndCleanupQuery(e)}).catch(Xr)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},d=this,f=0,m=e,w.label=7;case 7:return f<m.length?(y=m[f],[5,c(y)]):[3,10];case 8:w.sent(),w.label=9;case 9:return f++,[3,7];case 10:return[2]}})})},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?Ve().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:Ve()},t}(),Vi=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),qi="SharedClientState",ji="firestore_clients",Ui="firestore_mutations",Wi="firestore_targets",$i="firestore_online_state",zi="firestore_sequence_number",Hi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,T(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,r){var o=JSON.parse(r),l="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error),c=void 0;return l&&o.error&&(l="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(c=new I(o.error.code,o.error.message)),l?new t(e,n,o.state,c):(_(qi,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ki=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,T(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),l=void 0;return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(l=new I(r.error.code,r.error.message)),o?new t(e,r.state,l):(_(qi,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Qi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),o="object"==typeof r&&r.activeTargetIds instanceof Array,l=je(),i=0;o&&i<r.activeTargetIds.length;++i)o=Gt(r.activeTargetIds[i]),l=l.add(r.activeTargetIds[i]);return o?new t(e,l):(_(qi,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Gi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"==typeof n&&void 0!==bi[n.onlineState]&&"string"==typeof n.clientId?new t(n.clientId,bi[n.onlineState]):(_(qi,"Failed to parse online state: "+e),null)},t}(),Yi=function(){function t(){this.activeTargetIds=je()}return t.prototype.addQueryTarget=function(t){T(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var data={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(data)},t}(),Xi=function(){function t(e,n,r,o,l){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new I(x.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=l,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=zi+"_"+r,this.activeClients[this.localClientId]=new Yi,this.clientStateKeyRe=new RegExp("^"+ji+"_"+c+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Ui+"_"+c+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Wi+"_"+c+"_(\\d+)$"),this.onlineStateKey=$i+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return h.__awaiter(this,void 0,void 0,function(){var t,e,n,r,o,l,c,d,f,m,y,v=this;return h.__generator(this,function(h){switch(h.label){case 0:return T(!this.started,"WebStorageSharedClientState already started"),T(null!==this.syncEngine,"syncEngine property must be set before calling start()"),T(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(o=this.getItem(this.toWebStorageClientStateKey(r)))&&(l=Qi.fromWebStorageEntry(r,o))&&(this.activeClients[l.clientId]=l);for(this.persistClientState(),(c=this.storage.getItem(this.onlineStateKey))&&(d=this.fromWebStorageOnlineState(c))&&this.handleOnlineStateEvent(d),f=0,m=this.earlyEvents;f<m.length;f++)y=m[f],this.handleWebStorageEvent(y);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return v.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=je();return P(this.activeClients,function(e,n){t=t.unionWith(n.activeTargetIds)}),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=Ki.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.removeMutationState(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return w(qi,"READ",t,e),e},t.prototype.setItem=function(t,e){w(qi,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){w(qi,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(w(qi,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void _("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return h.__awaiter(e,void 0,void 0,function(){var e,n,r,o,l,c;return h.__generator(this,function(h){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(o=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(o)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(l=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(l)]}else t.key===this.sequenceNumberKey&&(T(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(c=function(t){var e=Tn.INVALID;if(null!=t)try{var n=JSON.parse(t);T("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(t){_(qi,"Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==Tn.INVALID&&this.sequenceNumberHandler(c));return[2]})})})}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new Hi(this.currentUser,t,e,n),o=this.toWebStorageMutationBatchKey(t);this.setItem(o,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){var e={clientId:this.localClientId,onlineState:bi[t]};this.storage.setItem(this.onlineStateKey,JSON.stringify(e))},t.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),o=new Ki(t,e,n);this.setItem(r,o.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return T(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),ji+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return Wi+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=Ui+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return T(null!==n,"Cannot parse client state key '"+t+"'"),Qi.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);T(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]),o=void 0!==n[2]?n[2]:null;return Hi.fromWebStorageEntry(new Vi(o),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);T(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return Ki.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return Gi.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return h.__awaiter(this,void 0,void 0,function(){return h.__generator(this,function(e){return t.user.uid!==this.currentUser.uid?(w(qi,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]})})},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var o=this.getAllActiveQueryTargets(),l=[],c=[];return o.forEach(function(t){return h.__awaiter(n,void 0,void 0,function(){return h.__generator(this,function(e){return r.has(t)||l.push(t),[2]})})}),r.forEach(function(t){return h.__awaiter(n,void 0,void 0,function(){return h.__generator(this,function(e){return o.has(t)||c.push(t),[2]})})}),this.syncEngine.applyActiveTargetsChange(l,c)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}();var Ji=function(){function t(){this.localState=new Yi,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new Yi,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),Zi=function(){function t(t,e){this.cacheSizeBytes=t,this.experimentalTabSynchronization=e}return t.prototype.lruParams=function(){return jr.withCacheSize(this.cacheSizeBytes)},t}(),to=function(){return function(){}}(),eo=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=Z.newId()}return t.prototype.start=function(t){var e=this,n=new Cn,r=new Cn,o=!1;return this.credentials.setChangeListener(function(l){o?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(l)}):(o=!0,e.initializePersistence(t,r,l).then(function(t){return e.initializeRest(l,t)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},t.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof Zi?this.startIndexedDbPersistence(n,t).then(function(t){return e.resolve(),t}).catch(function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),r.startMemoryPersistence()}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof I?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||(22===t.code||20===t.code)},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,r=Yr.buildStoragePrefix(this.databaseInfo),o=new hn(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return h.__awaiter(n,void 0,void 0,function(){var n,l;return h.__generator(this,function(c){switch(c.label){case 0:if(e.experimentalTabSynchronization&&!Xi.isAvailable(this.platform))throw new I(x.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return l=e.lruParams(),e.experimentalTabSynchronization?(this.sharedClientState=new Xi(this.asyncQueue,this.platform,r,this.clientId,t),[4,Yr.createMultiClientIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,o,l,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n=c.sent(),[3,4];case 2:return this.sharedClientState=new Ji,[4,Yr.createIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,o,l)];case 3:n=c.sent(),c.label=4;case 4:return this.persistence=n,[2,n.referenceDelegate.garbageCollector]}})})})},t.prototype.startMemoryPersistence=function(){return this.persistence=di.createEagerPersistence(this.clientId),this.sharedClientState=new Ji,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return w("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return h.__awaiter(n,void 0,void 0,function(){var n,o,l,c,d=this;return h.__generator(this,function(f){switch(f.label){case 0:return this.localStore=new oi(this.persistence,t),e&&(this.lruScheduler=new Ur(e,this.asyncQueue,this.localStore)),n=this.platform.newSerializer(this.databaseInfo.databaseId),o=new Ci(this.asyncQueue,r,this.credentials,n),l=function(t){return d.syncEngine.applyOnlineStateChange(t,yi.RemoteStore)},c=function(t){return d.syncEngine.applyOnlineStateChange(t,yi.SharedClientState)},this.remoteStore=new Ii(this.localStore,o,this.asyncQueue,l),this.syncEngine=new Bi(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=c,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new Di(this.syncEngine),[4,this.sharedClientState.start()];case 1:return f.sent(),[4,this.remoteStore.start()];case 2:return f.sent(),[4,this.persistence.setPrimaryStateListener(function(t){return h.__awaiter(d,void 0,void 0,function(){return h.__generator(this,function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}})})})];case 3:return f.sent(),[2]}})})})},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),w("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},t.prototype.shutdown=function(t){var e=this;return this.asyncQueue.enqueue(function(){return h.__awaiter(e,void 0,void 0,function(){return h.__generator(this,function(e){switch(e.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown(t&&t.purgePersistenceWithDataLoss)];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}})})})},t.prototype.listen=function(t,e,n){var r=this,o=new Ai(t,e,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(o)}),o},t.prototype.unlisten=function(t){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof _t)return t;if(t instanceof St)return null;throw new I(x.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=Ve(),view=new Li(t,n),r=view.computeDocChanges(e);return view.applyChanges(r,!1).snapshot})},t.prototype.write=function(t){var e=this,n=new Cn;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.asyncQueue.enqueue(function(){return h.__awaiter(e,void 0,void 0,function(){return h.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),no=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),ro=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<r)throw new I(x.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" argument to be an array with at least "+J(r,"element")+".")}("FieldPath",t,"fieldNames",1);for(var i=0;i<t.length;++i)if(B("FieldPath","string",i,t[i]),0===t[i].length)throw new I(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Y("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(yt.keyField().canonicalString()),t}(),io=new RegExp("[~\\*/\\[\\]]");var oo=function(){return function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}}(),ao=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){T(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(Vi.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){T(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),so=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;T(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.tokenCounter!==e)throw new I(x.ABORTED,"getToken aborted due to token change.");return n?(T("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new oo(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){T(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){T(null!=this.tokenListener,"removeChangeListener() called twice"),T(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return T(null===t||"string"==typeof t,"Received invalid UID: "+t),new Vi(t)},t}(),uo=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=Vi.FIRST_PARTY,T(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),t}(),lo=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,T(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return t.prototype.getToken=function(){return Promise.resolve(new uo(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(Vi.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function co(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var object=t,n=0,r=e;n<r.length;n++){var o=r[n];if(o in object&&"function"==typeof object[o])return!0}return!1}(t,["next","error","complete"])}var ho,fo=function(){function t(t){this._methodName=t}return t.delete=function(){return po.instance},t.serverTimestamp=function(){return go.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return M("FieldValue.arrayUnion",arguments,1),new mo(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return M("FieldValue.arrayRemove",arguments,1),new bo(t)},t.prototype.isEqual=function(t){return this===t},t}(),po=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return h.__extends(e,t),e.instance=new e,e}(fo),go=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return h.__extends(e,t),e.instance=new e,e}(fo),mo=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return h.__extends(e,t),e}(fo),bo=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return h.__extends(e,t),e}(fo),yo=N(fo,"Use FieldValue.<field>() instead."),vo=/^__.*__$/,wo=function(){function t(data,t,e){this.data=data,this.fieldMask=t,this.fieldTransforms=e}return t.prototype.toMutations=function(t,e){var n=[];return null!==this.fieldMask?n.push(new ve(t,this.data,this.fieldMask,e)):n.push(new ye(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new we(t,this.fieldTransforms)),n},t}(),_o=function(){function t(data,t,e){this.data=data,this.fieldMask=t,this.fieldTransforms=e}return t.prototype.toMutations=function(t,e){var n=[new ve(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new we(t,this.fieldTransforms)),n},t}();function So(t){switch(t){case ho.Set:case ho.MergeSet:case ho.Update:return!0;case ho.Argument:return!1;default:throw E("Unexpected case for UserDataSource: "+t)}}!function(t){t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument"}(ho||(ho={}));var Eo=function(){function t(t,e,path,n,r,o){this.dataSource=t,this.methodName=e,this.path=path,this.arrayElement=n,void 0===r&&this.validatePath(),this.arrayElement=void 0!==n&&n,this.fieldTransforms=r||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new I(x.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var i=0;i<this.path.length;i++)this.validatePathSegment(this.path.get(i))},t.prototype.validatePathSegment=function(t){if(So(this.dataSource)&&vo.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),To=function(){return function(t,e){this.databaseId=t,this.key=e}}(),Co=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,input){var e=new Eo(ho.Set,t,yt.EMPTY_PATH);xo("Data must be an object, but it was:",e,input);var n=this.parseData(input,e);return new wo(n,null,e.fieldTransforms)},t.prototype.parseMergeData=function(t,input,e){var n=new Eo(ho.MergeSet,t,yt.EMPTY_PATH);xo("Data must be an object, but it was:",n,input);var r,o,l=this.parseData(input,n);if(e){for(var c=[],h=0,d=e;h<d.length;h++){var f=d[h],m=void 0;if(f instanceof ro)m=f._internalPath;else{if("string"!=typeof f)throw E("Expected stringOrFieldPath to be a string or a FieldPath");m=No(t,f)}if(!n.contains(m))throw new I(x.INVALID_ARGUMENT,"Field '"+m+"' is specified in your field mask but missing from your input data.");c.push(m)}r=fe.fromArray(c),o=n.fieldTransforms.filter(function(t){return r.covers(t.field)})}else r=fe.fromArray(n.fieldMask),o=n.fieldTransforms;return new wo(l,r,o)},t.prototype.parseUpdateData=function(t,input){var e=this,n=new Eo(ho.Update,t,yt.EMPTY_PATH);xo("Data must be an object, but it was:",n,input);var r=[],o=Ut.EMPTY;P(input,function(l,c){var path=No(t,l),h=n.childContextForFieldPath(path);if((c=e.runPreConverter(c,h))instanceof po)r.push(path);else{var d=e.parseData(c,h);null!=d&&(r.push(path),o=o.set(path,d))}});var mask=fe.fromArray(r);return new _o(o,mask,n.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var o=new Eo(ho.Update,t,yt.EMPTY_PATH),l=[Io(t,e)],c=[n];if(r.length%2!=0)throw new I(x.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var i=0;i<r.length;i+=2)l.push(Io(t,r[i])),c.push(r[i+1]);var h=[],d=Ut.EMPTY;for(i=0;i<l.length;++i){var path=l[i],f=o.childContextForFieldPath(path),m=this.runPreConverter(c[i],f);if(m instanceof po)h.push(path);else{var y=this.parseData(m,f);null!=y&&(h.push(path),d=d.set(path,y))}}var mask=fe.fromArray(h);return new _o(d,mask,o.fieldTransforms)},t.prototype.parseQueryValue=function(t,input){var e=new Eo(ho.Argument,t,yt.EMPTY_PATH),n=this.parseData(input,e);return T(null!=n,"Parsed data should not be null."),T(0===e.fieldTransforms.length,"Field transforms should have been disallowed."),n},t.prototype.runPreConverter=function(input,t){try{return this.preConverter(input)}catch(n){var e=Do(n);throw t.createError(e)}},t.prototype.parseData=function(input,t){if(ko(input=this.runPreConverter(input,t)))return xo("Unsupported field value:",t,input),this.parseObject(input,t);if(input instanceof fo)return this.parseSentinelFieldValue(input,t),null;if(t.path&&t.fieldMask.push(t.path),input instanceof Array){if(t.arrayElement)throw t.createError("Nested arrays are not supported");return this.parseArray(input,t)}return this.parseScalarValue(input,t)},t.prototype.parseObject=function(t,e){var n=this,r=new Tt(tt);return R(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):P(t,function(t,o){var l=n.parseData(o,e.childContextForField(t));null!=l&&(r=r.insert(t,l))}),new Ut(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,o=0,l=t;o<l.length;o++){var c=l[o],h=this.parseData(c,e.childContextForArray(r));null==h&&(h=Dt.INSTANCE),n.push(h),r++}return new Wt(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!So(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof po){if(e.dataSource!==ho.MergeSet)throw e.dataSource===ho.Update?(T(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof go)e.fieldTransforms.push(new pe(e.path,Se.instance));else if(t instanceof mo){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new Ee(n);e.fieldTransforms.push(new pe(e.path,r))}else if(t instanceof bo){n=this.parseArrayTransformElements(t._methodName,t._elements);var o=new Te(n);e.fieldTransforms.push(new pe(e.path,o))}else E("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return Dt.INSTANCE;if("number"==typeof t)return Gt(t)?new Rt(t):new Lt(t);if("boolean"==typeof t)return At.of(t);if("string"==typeof t)return new Mt(t);if(t instanceof Date)return new Ft(ct.fromDate(t));if(t instanceof ct)return new Ft(new ct(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof lt)return new jt(t);if(t instanceof st)return new Vt(t);if(t instanceof To)return new qt(t.databaseId,t.key);throw e.createError("Unsupported field value: "+K(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(element,i){var e=new Eo(ho.Argument,t,yt.EMPTY_PATH);return n.parseData(element,e.childContextForArray(i))})},t}();function ko(input){return!("object"!=typeof input||null===input||input instanceof Array||input instanceof Date||input instanceof ct||input instanceof lt||input instanceof st||input instanceof To||input instanceof fo)}function xo(t,e,input){if(!ko(input)||!H(input)){var n=K(input);throw"an object"===n?e.createError(t+" a custom object"):e.createError(t+" "+n)}}function Io(t,path){if(path instanceof ro)return path._internalPath;if("string"==typeof path)return No(t,path);throw new I(x.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function No(t,path){try{return function(path){if(path.search(io)>=0)throw new I(x.INVALID_ARGUMENT,"Invalid field path ("+path+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(ro.bind.apply(ro,[void 0].concat(path.split("."))))}catch(t){throw new I(x.INVALID_ARGUMENT,"Invalid field path ("+path+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(path)._internalPath}catch(n){var e=Do(n);throw new I(x.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+e)}}function Do(t){return t instanceof Error?t.message:t.toString()}var Ao="firestore.googleapis.com",Oo=!0,Po=!1,Ro=jr.COLLECTION_DISABLED,Lo=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new I(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ao,this.ssl=Oo}else j("settings","non-empty string","host",t.host),this.host=t.host,U("settings","boolean","ssl",t.ssl),this.ssl=A(t.ssl,Oo);if(G("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes"]),U("settings","object","credentials",t.credentials),this.credentials=t.credentials,U("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),this.timestampsInSnapshots=A(t.timestampsInSnapshots,Po),U("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=jr.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==Ro&&t.cacheSizeBytes<jr.MINIMUM_CACHE_SIZE_BYTES)throw new I(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+jr.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes},t}(),Mo=function(){return function(){}}(),Fo=function(){function t(e){var n=this;this._queue=new xn,this.INTERNAL={delete:function(t){return h.__awaiter(n,void 0,void 0,function(){return h.__generator(this,function(e){return this._firestoreClient?[2,this._firestoreClient.shutdown(t)]:[2]})})}};var r=new Mo;if("object"==typeof e.options){var o=e;r.firebaseApp=o,r.databaseId=t.databaseIdFromApp(o),r.persistenceKey=r.firebaseApp.name,r.credentials=new so(o)}else{var l=e;if(!l.projectId)throw new I(x.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new pt(l.projectId,l.database),r.persistenceKey="[DEFAULT]",r.credentials=new ao}r.settings=new Lo({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(L("Firestore.settings",arguments,1),B("Firestore.settings","object",1,t),D(t,"persistence"))throw new I(x.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Lo(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new I(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=function(t){if(!t)return new ao;switch(t.type){case"gapi":return new lo(t.client,t.sessionIndex||"0");case"provider":return t.client;default:throw new I(x.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new I(x.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(new Zi(this._config.settings.cacheSizeBytes,void 0!==t&&A(t.experimentalTabSynchronization,!1)))},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new to),this._firestoreClient},t.prototype.configureClient=function(t){var e=this;T(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),this._config.settings.timestampsInSnapshots||_("\nThe behavior for Date objects stored in Firestore is going to change\nAND YOUR APP MAY BREAK.\nTo hide this warning and ensure your app does not break, you need to add the\nfollowing code to your app before calling any other Cloud Firestore methods:\n\n  const firestore = firebase.firestore();\n  const settings = {/* your settings... */ timestampsInSnapshots: true};\n  firestore.settings(settings);\n\nWith this change, timestamps stored in Cloud Firestore will be read back as\nFirebase Timestamp objects instead of as system Date objects. So you will also\nneed to update code expecting a Date to instead expect a Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at');\n  const date = timestamp.toDate();\n\nPlease audit all existing usages of Date when you enable the new behavior. In a\nfuture release, the behavior will change to the new behavior, so if you do not\nfollow these steps, YOUR APP MAY BREAK."),T(!this._firestoreClient,"configureClient() called multiple times");var n=new ht(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl);return this._dataConverter=new Co(function(t){if(t instanceof qo){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.isEqual(n))throw new I(x.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new To(e._config.databaseId,t._key)}return t}),this._firestoreClient=new eo(C.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!D(e,"projectId"))throw new I(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new I(x.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new pt(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new I(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(L("Firestore.collection",arguments,1),B("Firestore.collection","non-empty string",1,t),!t)throw new I(x.INVALID_ARGUMENT,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new Ho(mt.fromString(t),this)},t.prototype.doc=function(t){if(L("Firestore.doc",arguments,1),B("Firestore.doc","non-empty string",1,t),!t)throw new I(x.INVALID_ARGUMENT,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),qo.forPath(mt.fromString(t),this)},t.prototype.runTransaction=function(t){var e=this;return L("Firestore.runTransaction",arguments,1),B("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new Bo(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new Vo(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(y()){case o.DEBUG:return"debug";case o.ERROR:return"error";case o.SILENT:return"silent";default:return E("Unknown log level: "+y())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(L("Firestore.setLogLevel",arguments,1),B("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":v(o.DEBUG);break;case"error":v(o.ERROR);break;case"silent":v(o.SILENT);break;default:throw new I(x.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},t}(),Bo=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;L("Transaction.get",arguments,1);var n=Yo("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return E("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof St)return new Uo(e._firestore,n._key,null,!1,!1);if(r instanceof _t)return new Uo(e._firestore,n._key,r,!1,!1);throw E("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},t.prototype.set=function(t,e,n){F("Transaction.set",arguments,2,3);var r=Yo("Transaction.set",t,this._firestore),o=(n=Ko("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r,o,l=[],c=3;c<arguments.length;c++)l[c-3]=arguments[c];return"string"==typeof e||e instanceof ro?(M("Transaction.update",arguments,3),r=Yo("Transaction.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,l)):(L("Transaction.update",arguments,2),r=Yo("Transaction.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,o),this},t.prototype.delete=function(t){L("Transaction.delete",arguments,1);var e=Yo("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),Vo=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){F("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Yo("WriteBatch.set",t,this._firestore),o=(n=Ko("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(o.toMutations(r._key,me.NONE)),this},t.prototype.update=function(t,e,n){for(var r,o,l=[],c=3;c<arguments.length;c++)l[c-3]=arguments[c];return this.verifyNotCommitted(),"string"==typeof e||e instanceof ro?(M("WriteBatch.update",arguments,3),r=Yo("WriteBatch.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,l)):(L("WriteBatch.update",arguments,2),r=Yo("WriteBatch.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(o.toMutations(r._key,me.exists(!0))),this},t.prototype.delete=function(t){L("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=Yo("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new _e(e._key,me.NONE)),this},t.prototype.commit=function(){return h.__awaiter(this,void 0,void 0,function(){return h.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new I(x.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),qo=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(path,e){if(path.length%2!=0)throw new I(x.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+path.canonicalString()+" has "+path.length);return new t(new vt(path),e)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ho(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(L("DocumentReference.collection",arguments,1),B("DocumentReference.collection","non-empty string",1,t),!t)throw new I(x.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var path=mt.fromString(t);return new Ho(this._key.path.child(path),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Y("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){F("DocumentReference.set",arguments,1,2);var n=(e=Ko("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,me.NONE))},t.prototype.update=function(t,e){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return"string"==typeof t||t instanceof ro?(M("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(L("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,me.exists(!0)))},t.prototype.delete=function(){return L("DocumentReference.delete",arguments,0),this._firestoreClient.write([new _e(this._key,me.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];F("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||co(t[o])||(G("DocumentReference.onSnapshot",r=t[o],["includeMetadataChanges"]),U("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),o++);var l={includeMetadataChanges:r.includeMetadataChanges};return co(t[o])?n=t[o]:(B("DocumentReference.onSnapshot","function",o,t[o]),V("DocumentReference.onSnapshot","function",o+1,t[o+1]),V("DocumentReference.onSnapshot","function",o+2,t[o+2]),n={next:t[o],error:t[o+1],complete:t[o+2]}),this.onSnapshotInternal(l,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var o=new no({next:function(t){if(e.next){T(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new Uo(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),l=this._firestoreClient.listen(Xt.atPath(this._key.path),o,t);return function(){o.mute(),n._firestoreClient.unlisten(l)}},t.prototype.get=function(t){var e=this;return F("DocumentReference.get",arguments,0,1),Go("DocumentReference.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new Uo(e.firestore,e._key,t,!0,t instanceof _t&&t.hasLocalMutations))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(o){r(),!o.exists&&o.metadata.fromCache?e(new I(x.UNAVAILABLE,"Failed to get document because the client is offline.")):o.exists&&o.metadata.fromCache&&n&&"server"===n.source?e(new I(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(o)},error:e})},t}(),jo=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Uo=function(){function t(t,e,n,r,o){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=o}return t.prototype.data=function(t){return F("DocumentSnapshot.data",arguments,0,1),t=Qo("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,It.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(F("DocumentSnapshot.get",arguments,1,2),e=Qo("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(Io("DocumentSnapshot.get",t));if(void 0!==n)return this.convertValue(n,It.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new qo(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new jo(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw Y("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(data,t){var e=this,n={};return data.forEach(function(r,o){n[r]=e.convertValue(o,t)}),n},t.prototype.convertValue=function(t,e){if(t instanceof Ut)return this.convertObject(t,e);if(t instanceof Wt)return this.convertArray(t,e);if(t instanceof qt){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||_("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new qo(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(data,t){var e=this;return data.internalValue.map(function(n){return e.convertValue(n,t)})},t}(),Wo=function(t){function e(e,n,r,o,l){return t.call(this,e,n,r,o,l)||this}return h.__extends(e,t),e.prototype.data=function(e){var data=t.prototype.data.call(this,e);return T("object"==typeof data,"Document in a QueryDocumentSnapshot should exist"),data},e}(Uo),$o=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){var o;L("Query.where",arguments,3),B("Query.where","non-empty string",2,n),Q("Query.where",3,r);var l=Io("Query.where",e),c=Zt.fromString(n);if(l.isKeyField()){if(c===Zt.ARRAY_CONTAINS)throw new I(x.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"==typeof r){if(-1!==r.indexOf("/"))throw new I(x.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===r)throw new I(x.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var path=this._query.path.child(new mt([r]));T(path.length%2==0,"Path should be a document key"),o=new qt(this.firestore._databaseId,new vt(path))}else{if(!(r instanceof qo))throw new I(x.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+K(r)+".");var h=r;o=new qt(this.firestore._databaseId,h._key)}}else o=this.firestore._dataConverter.parseQueryValue("Query.where",r);var filter=Jt.create(l,c,o);return this.validateNewFilter(filter),new t(this._query.addFilter(filter),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(F("Query.orderBy",arguments,1,2),V("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=re.ASCENDING;else{if("desc"!==n)throw new I(x.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=re.DESCENDING}if(null!==this._query.startAt)throw new I(x.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new I(x.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var o=Io("Query.orderBy",e),l=new oe(o,r);return this.validateNewOrderBy(l),new t(this._query.addOrderBy(l),this.firestore)},t.prototype.limit=function(e){if(L("Query.limit",arguments,1),B("Query.limit","number",1,e),e<=0)throw new I(x.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];M("Query.startAt",arguments,1);var o=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(o),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];M("Query.startAfter",arguments,1);var o=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(o),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];M("Query.endBefore",arguments,1);var o=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(o),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];M("Query.endAt",arguments,1);var o=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(o),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Y("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(Q(t,1,e),e instanceof Uo){if(n.length>0)throw new I(x.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var o=e;if(!o.exists)throw new I(x.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,o._document,r)}var l=[e].concat(n);return this.boundFromFields(t,l,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],o=0,l=this._query.orderBy;o<l.length;o++){var c=l[o];if(c.field.isKeyField())r.push(new qt(this.firestore._databaseId,e.key));else{var h=e.field(c.field);if(void 0===h){var d=c.field.canonicalString();throw new I(x.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+d+"' (used as the orderBy) does not exist.")}r.push(h)}}return new ie(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new I(x.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var o=[],i=0;i<e.length;i++){var l=e[i];if(r[i].field.isKeyField()){if("string"!=typeof l)throw new I(x.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof l);if(-1!==l.indexOf("/"))throw new I(x.INVALID_ARGUMENT,"Invalid query. Document ID '"+l+"' contains a slash in "+t+"()");var c=new vt(this._query.path.child(l));o.push(new qt(this.firestore._databaseId,c))}else{var h=this.firestore._dataConverter.parseQueryValue(t,l);o.push(h)}}return new ie(o,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];F("Query.onSnapshot",arguments,1,4);var n,r={},o=0;return"object"!=typeof t[o]||co(t[o])||(G("Query.onSnapshot",r=t[o],["includeMetadataChanges"]),U("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),o++),co(t[o])?n=t[o]:(B("Query.onSnapshot","function",o,t[o]),V("Query.onSnapshot","function",o+1,t[o+1]),V("Query.onSnapshot","function",o+2,t[o+2]),n={next:t[o],error:t[o+1],complete:t[o+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var o=new no({next:function(t){e.next&&e.next(new zo(n.firestore,n._query,t))},error:r}),l=this.firestore.ensureClientConfigured(),c=l.listen(this._query,o,t);return function(){o.mute(),l.unlisten(c)}},t.prototype.get=function(t){var e=this;return F("Query.get",arguments,0,1),Go("Query.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new zo(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(o){r(),o.metadata.fromCache&&n&&"server"===n.source?e(new I(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(o)},error:e})},t.prototype.validateNewFilter=function(filter){if(filter instanceof te)if(filter.isInequality()){var t=this._query.getInequalityFilterField();if(null!==t&&!t.isEqual(filter.field))throw new I(x.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+t.toString()+"' and '"+filter.field.toString()+"'");var e=this._query.getFirstOrderByField();null!==e&&this.validateOrderByAndInequalityMatch(filter.field,e)}else if(filter.op===Zt.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new I(x.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new I(x.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),zo=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new jo(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;F("QuerySnapshot.forEach",arguments,1,2),B("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new $o(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(G("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),U("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new I(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,o=0;return n.docChanges.map(function(e){var l=new Wo(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return T(e.type===Ue.Added,"Invalid event type for first snapshot"),T(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}var l=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==Ue.Metadata}).map(function(e){var r=new Wo(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),o=-1,c=-1;return e.type!==Ue.Added&&(T((o=l.indexOf(e.doc.key))>=0,"Index for document not found"),l=l.delete(e.doc.key)),e.type!==Ue.Removed&&(l=l.add(e.doc),c=l.indexOf(e.doc.key)),{type:Xo(e.type),doc:r,oldIndex:o,newIndex:c}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Y("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new Wo(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(zo.prototype.docChanges,t,{get:function(){return function(){throw new I(x.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}});var Ho=function(t){function e(path,e){var n=t.call(this,Xt.atPath(path),e)||this;if(path.length%2!=1)throw new I(x.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+path.canonicalString()+" has "+path.length);return n}return h.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new qo(new vt(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(F("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Z.newId()),B("CollectionReference.doc","non-empty string",1,t),""===t)throw new I(x.INVALID_ARGUMENT,"Document path must be a non-empty string");var path=mt.fromString(t);return qo.forPath(this._query.path.child(path),this.firestore)},e.prototype.add=function(t){L("CollectionReference.add",arguments,1),B("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}($o);function Ko(t,e){if(void 0===e)return{merge:!1};if(G(t,e,["merge","mergeFields"]),U(t,"boolean","merge",e.merge),W(t,"mergeFields","a string or a FieldPath",e.mergeFields,function(element){return"string"==typeof element||element instanceof ro}),void 0!==e.mergeFields&&void 0!==e.merge)throw new I(x.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Qo(t,e){return void 0===e?{}:(G(t,e,["serverTimestamps"]),$(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Go(t,e){V(t,"object",1,e),e&&(G(t,e,["source"]),$(t,0,"source",e.source,["default","server","cache"]))}function Yo(t,e,n){if(e instanceof qo){if(e.firestore!==n)throw new I(x.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw Y(t,"DocumentReference",1,e)}function Xo(t){switch(t){case Ue.Added:return"added";case Ue.Modified:case Ue.Metadata:return"modified";case Ue.Removed:return"removed";default:return E("Unknown change type: "+t)}}var Jo=N(Fo,"Use firebase.firestore() instead."),Zo=N(Bo,"Use firebase.firestore().runTransaction() instead."),ta=N(Vo,"Use firebase.firestore().batch() instead."),ea=N(qo,"Use firebase.firestore().doc() instead."),na=N(Uo),ra=N(Wo),ia=N($o),oa=N(zo),aa=N(Ho,"Use firebase.firestore().collection() instead."),sa={Firestore:Jo,GeoPoint:lt,Timestamp:ct,Blob:ut,Transaction:Zo,WriteBatch:ta,DocumentReference:ea,DocumentSnapshot:na,Query:ia,QueryDocumentSnapshot:ra,QuerySnapshot:oa,CollectionReference:aa,FieldPath:ro,FieldValue:yo,setLogLevel:Fo.setLogLevel,CACHE_SIZE_UNLIMITED:Ro};function ua(t){t.INTERNAL.registerService("firestore",function(t){return new Fo(t)},function(t){T(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(sa))}function la(t){ua(t)}la(l),e.registerFirestore=la}).call(this,n(33))},271:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return o}),n.d(e,"__assign",function(){return l}),n.d(e,"__rest",function(){return c}),n.d(e,"__decorate",function(){return h}),n.d(e,"__param",function(){return d}),n.d(e,"__metadata",function(){return f}),n.d(e,"__awaiter",function(){return m}),n.d(e,"__generator",function(){return y}),n.d(e,"__exportStar",function(){return v}),n.d(e,"__values",function(){return w}),n.d(e,"__read",function(){return _}),n.d(e,"__spread",function(){return S}),n.d(e,"__await",function(){return E}),n.d(e,"__asyncGenerator",function(){return T}),n.d(e,"__asyncDelegator",function(){return C}),n.d(e,"__asyncValues",function(){return k}),n.d(e,"__makeTemplateObject",function(){return x}),n.d(e,"__importStar",function(){return I}),n.d(e,"__importDefault",function(){return N});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])};function o(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}var l=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t};function c(s,t){var e={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&t.indexOf(p)<0&&(e[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)t.indexOf(p[i])<0&&(e[p[i]]=s[p[i]])}return e}function h(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l}function d(t,e){return function(n,r){e(n,r,t)}}function f(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function m(t,e,n,r){return new(n||(n=Promise))(function(o,l){function c(t){try{d(r.next(t))}catch(t){l(t)}}function h(t){try{d(r.throw(t))}catch(t){l(t)}}function d(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(c,h)}d((r=r.apply(t,e||[])).next())})}function y(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=n[2&l[0]?"return":l[0]?"throw":"next"])&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[0,r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(t,o)}catch(t){l=[6,t],n=0}finally{e=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}function v(t,e){for(var p in t)e.hasOwnProperty(p)||(e[p]=t[p])}function w(t){var e="function"==typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}}function _(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l}function S(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(_(arguments[i]));return t}function E(t){return this instanceof E?(this.v=t,this):new E(t)}function T(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=n.apply(t,e||[]),q=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(t){g[t]&&(i[t]=function(e){return new Promise(function(a,b){q.push([t,e,a,b])>1||o(t,e)})})}function o(t,e){try{(n=g[t](e)).value instanceof E?Promise.resolve(n.value.v).then(l,c):h(q[0][2],n)}catch(t){h(q[0][3],t)}var n}function l(t){o("next",t)}function c(t){o("throw",t)}function h(t,e){t(e),q.shift(),q.length&&o(q[0][0],q[0][1])}}function C(t){var i,p;return i={},e("next"),e("throw",function(t){throw t}),e("return"),i[Symbol.iterator]=function(){return this},i;function e(e,n){t[e]&&(i[e]=function(r){return(p=!p)?{value:E(t[e](r)),done:"return"===e}:n?n(r):r})}}function k(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):w(t)}function x(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function I(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function N(t){return t&&t.__esModule?t:{default:t}}},272:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"createWebChannelTransport",function(){return Vn}),n.d(e,"ErrorCode",function(){return qn}),n.d(e,"EventType",function(){return jn}),n.d(e,"WebChannel",function(){return Un}),n.d(e,"XhrIoPool",function(){return Wn});var r,o="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},l=l||{},c=o;function h(a){return"string"==typeof a}function d(a,b){a=a.split("."),b=b||c;for(var t=0;t<a.length;t++)if(null==(b=b[a[t]]))return null;return b}function f(){}function m(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var t=Object.prototype.toString.call(a);if("[object Window]"==t)return"object";if("[object Array]"==t||"number"==typeof a.length&&void 0!==a.splice&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==t||void 0!==a.call&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&void 0===a.call)return"object";return b}function y(a){return"array"==m(a)}function v(a){var b=m(a);return"array"==b||"object"==b&&"number"==typeof a.length}function q(a){return"function"==m(a)}function w(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var _="closure_uid_"+(1e9*Math.random()>>>0),S=0;function E(a,b,t){return a.call.apply(a.bind,arguments)}function T(a,b,t){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,e),a.apply(b,t)}}return function(){return a.apply(b,arguments)}}function u(a,b,t){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?E:T).apply(null,arguments)}function C(a,b){var t=Array.prototype.slice.call(arguments,1);return function(){var b=t.slice();return b.push.apply(b,arguments),a.apply(this,b)}}var k=Date.now||function(){return+new Date};function x(a,b){function t(){}t.prototype=b.prototype,a.L=b.prototype,a.prototype=new t,a.prototype.constructor=a,a.mh=function(a,t,g){for(var e=Array(arguments.length-2),n=2;n<arguments.length;n++)e[n-2]=arguments[n];return b.prototype[t].apply(a,e)}}function I(a){if(Error.captureStackTrace)Error.captureStackTrace(this,I);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}function N(a,b){for(var t="",e=(a=a.split("%s")).length-1,n=0;n<e;n++)t+=a[n]+(n<b.length?b[n]:"%s");I.call(this,t+a[e])}function D(){0!=A&&(O[this[_]||(this[_]=++S)]=this),this.Ka=this.Ka,this.Qa=this.Qa}x(I,Error),I.prototype.name="CustomError",x(N,I),N.prototype.name="AssertionError";var A=0,O={};D.prototype.Ka=!1,D.prototype.bb=function(){if(!this.Ka&&(this.Ka=!0,this.F(),0!=A)){var a=this[_]||(this[_]=++S);if(0!=A&&this.Qa&&0<this.Qa.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete O[a]}},D.prototype.F=function(){if(this.Qa)for(;this.Qa.length;)this.Qa.shift()()};var P=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(h(a))return h(b)&&1==b.length?a.indexOf(b,0):-1;for(var t=0;t<a.length;t++)if(t in a&&a[t]===b)return t;return-1},R=Array.prototype.lastIndexOf?function(a,b){return Array.prototype.lastIndexOf.call(a,b,a.length-1)}:function(a,b){var t=a.length-1;if(0>t&&(t=Math.max(0,a.length+t)),h(a))return h(b)&&1==b.length?a.lastIndexOf(b,t):-1;for(;0<=t;t--)if(t in a&&a[t]===b)return t;return-1},L=Array.prototype.forEach?function(a,b,t){Array.prototype.forEach.call(a,b,t)}:function(a,b,t){for(var e=a.length,n=h(a)?a.split(""):a,g=0;g<e;g++)g in n&&b.call(t,n[g],g,a)},M=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var t=a.length,e=h(a)?a.split(""):a,n=0;n<t;n++)if(n in e&&b.call(void 0,e[n],n,a))return!0;return!1};function F(a){if(!y(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function B(a,b){var t;return(t=0<=(b=P(a,b)))&&Array.prototype.splice.call(a,b,1),t}function V(a){return Array.prototype.concat.apply([],arguments)}function j(a){var b=a.length;if(0<b){for(var t=Array(b),e=0;e<b;e++)t[e]=a[e];return t}return[]}function U(a){return/^[\s\xa0]*$/.test(a)}var W,$=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function z(a,b){return a<b?-1:a>b?1:0}t:{var H=c.navigator;if(H){var K=H.userAgent;if(K){W=K;break t}}W=""}function Q(a){return-1!=W.indexOf(a)}function G(a,b,t){for(var e in a)b.call(t,a[e],e,a)}function Y(a){var t,b=[],e=0;for(t in a)b[e++]=a[t];return b}function X(a){var t,b=[],e=0;for(t in a)b[e++]=t;return b}function J(a){var t,b={};for(t in a)b[t]=a[t];return b}var Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(a,b){for(var t,e,n=1;n<arguments.length;n++){for(t in e=arguments[n])a[t]=e[t];for(var g=0;g<Z.length;g++)t=Z[g],Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}}function et(a){return et[" "](a),a}et[" "]=f;var nt,a,it=Q("Opera"),ot=Q("Trident")||Q("MSIE"),at=Q("Edge"),st=at||ot,ut=Q("Gecko")&&!(-1!=W.toLowerCase().indexOf("webkit")&&!Q("Edge"))&&!(Q("Trident")||Q("MSIE"))&&!Q("Edge"),lt=-1!=W.toLowerCase().indexOf("webkit")&&!Q("Edge");function ct(){var a=c.document;return a?a.documentMode:void 0}t:{var ht="",ft=(a=W,ut?/rv:([^\);]+)(\)|;)/.exec(a):at?/Edge\/([\d\.]+)/.exec(a):ot?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):lt?/WebKit\/(\S+)/.exec(a):it?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(ft&&(ht=ft?ft[1]:""),ot){var pt=ct();if(null!=pt&&pt>parseFloat(ht)){nt=String(pt);break t}}nt=ht}var gt,mt={};function bt(a){return function(a,b){var t=mt;return Object.prototype.hasOwnProperty.call(t,a)?t[a]:t[a]=b(a)}(a,function(){for(var b=0,t=$(String(nt)).split("."),e=$(String(a)).split("."),n=Math.max(t.length,e.length),g=0;0==b&&g<n;g++){var r=t[g]||"",p=e[g]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==r[0].length&&0==p[0].length)break;b=z(0==r[1].length?0:parseInt(r[1],10),0==p[1].length?0:parseInt(p[1],10))||z(0==r[2].length,0==p[2].length)||z(r[2],p[2]),r=r[3],p=p[3]}while(0==b)}return 0<=b})}var yt=c.document;gt=yt&&ot?ct()||("CSS1Compat"==yt.compatMode?parseInt(nt,10):5):void 0;var vt=Object.freeze||function(a){return a},wt=!ot||9<=Number(gt),_t=ot&&!bt("9"),St=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{c.addEventListener("test",f,b),c.removeEventListener("test",f,b)}catch(t){}return a}();function Et(a,b){this.type=a,this.currentTarget=this.target=b,this.defaultPrevented=this.Ea=!1,this.Be=!0}function Tt(a,b){Et.call(this,a?a.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.fb=null,a&&this.Kf(a,b)}Et.prototype.stopPropagation=function(){this.Ea=!0},Et.prototype.preventDefault=function(){this.defaultPrevented=!0,this.Be=!1},x(Tt,Et);var Ct=vt({2:"touch",3:"pen",4:"mouse"});Tt.prototype.Kf=function(a,b){var t=this.type=a.type,e=a.changedTouches?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.currentTarget=b,b=a.relatedTarget){if(ut){t:{try{et(b.nodeName);var n=!0;break t}catch(t){}n=!1}n||(b=null)}}else"mouseover"==t?b=a.fromElement:"mouseout"==t&&(b=a.toElement);this.relatedTarget=b,null===e?(this.offsetX=lt||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=lt||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=a.button,this.keyCode=a.keyCode||0,this.key=a.key||"",this.charCode=a.charCode||("keypress"==t?a.keyCode:0),this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=h(a.pointerType)?a.pointerType:Ct[a.pointerType]||"",this.state=a.state,this.fb=a,a.defaultPrevented&&this.preventDefault()},Tt.prototype.stopPropagation=function(){Tt.L.stopPropagation.call(this),this.fb.stopPropagation?this.fb.stopPropagation():this.fb.cancelBubble=!0},Tt.prototype.preventDefault=function(){Tt.L.preventDefault.call(this);var a=this.fb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,_t)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(t){}};var kt="closure_listenable_"+(1e6*Math.random()|0);function xt(a){return!(!a||!a[kt])}var It=0;function Nt(a,b,t,e,n){this.listener=a,this.proxy=null,this.src=b,this.type=t,this.capture=!!e,this.Ob=n,this.key=++It,this.Sa=this.Eb=!1}function Dt(a){this.src=a,this.J={},this.xb=0}function At(a,b,t,e){for(var n=0;n<a.length;++n){var g=a[n];if(!g.Sa&&g.listener==b&&g.capture==!!t&&g.Ob==e)return n}return-1}Nt.prototype.Vb=function(){this.Sa=!0,this.Ob=this.src=this.proxy=this.listener=null},(r=Dt.prototype).add=function(a,b,t,e,n){var g=a.toString();(a=this.J[g])||(a=this.J[g]=[],this.xb++);var r=At(a,b,e,n);return-1<r?(b=a[r],t||(b.Eb=!1)):((b=new Nt(b,this.src,g,!!e,n)).Eb=t,a.push(b)),b},r.remove=function(a,b,t,e){if(!((a=a.toString())in this.J))return!1;var n=this.J[a];return-1<(b=At(n,b,t,e))&&(n[b].Vb(),Array.prototype.splice.call(n,b,1),0==n.length&&(delete this.J[a],this.xb--),!0)},r.ye=function(a){var b=a.type;b in this.J&&B(this.J[b],a)&&(a.Vb(),0==this.J[b].length&&(delete this.J[b],this.xb--))},r.pb=function(a){var t;for(t in a=a&&a.toString(),this.J)if(!a||t==a){for(var e=this.J[t],n=0;n<e.length;n++)e[n].Vb();delete this.J[t],this.xb--}},r.jb=function(a,b,t,e){var n=-1;return(a=this.J[a.toString()])&&(n=At(a,b,t,e)),-1<n?a[n]:null};var Ot="closure_lm_"+(1e6*Math.random()|0),Pt={};function Rt(a,b,t,e,n){if(e&&e.once)return Mt(a,b,t,e,n);if(y(b)){for(var g=0;g<b.length;g++)Rt(a,b[g],t,e,n);return null}return t=$t(t),xt(a)?a.nb(b,t,w(e)?!!e.capture:!!e,n):Lt(a,b,t,!1,e,n)}function Lt(a,b,t,e,n,g){if(!b)throw Error("Invalid event type");var r=w(n)?!!n.capture:!!n,p=Ut(a);if(p||(a[Ot]=p=new Dt(a)),(t=p.add(b,t,e,r,g)).proxy)return t;if(e=function(){var a=jt,b=wt?function(t){return a.call(b.src,b.listener,t)}:function(t){if(!(t=a.call(b.src,b.listener,t)))return t};return b}(),t.proxy=e,e.src=a,e.listener=t,a.addEventListener)St||(n=r),void 0===n&&(n=!1),a.addEventListener(b.toString(),e,n);else if(a.attachEvent)a.attachEvent(Bt(b.toString()),e);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(e)}return t}function Mt(a,b,t,e,n){if(y(b)){for(var g=0;g<b.length;g++)Mt(a,b[g],t,e,n);return null}return t=$t(t),xt(a)?a.Oc(b,t,w(e)?!!e.capture:!!e,n):Lt(a,b,t,!0,e,n)}function Ft(a){if("number"!=typeof a&&a&&!a.Sa){var b=a.src;if(xt(b))b.Le(a);else{var t=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(t,e,a.capture):b.detachEvent?b.detachEvent(Bt(t),e):b.addListener&&b.removeListener&&b.removeListener(e),(t=Ut(b))?(t.ye(a),0==t.xb&&(t.src=null,b[Ot]=null)):a.Vb()}}}function Bt(a){return a in Pt?Pt[a]:Pt[a]="on"+a}function Vt(a,b,t,e){var n=!0;if((a=Ut(a))&&(b=a.J[b.toString()]))for(b=b.concat(),a=0;a<b.length;a++){var g=b[a];g&&g.capture==t&&!g.Sa&&(g=qt(g,e),n=n&&!1!==g)}return n}function qt(a,b){var t=a.listener,e=a.Ob||a.src;return a.Eb&&Ft(a),t.call(e,b)}function jt(a,b){if(a.Sa)return!0;if(!wt){var t=b||d("window.event");b=new Tt(t,this);var e=!0;if(!(0>t.keyCode||null!=t.returnValue)){t:{var n=!1;if(0==t.keyCode)try{t.keyCode=-1;break t}catch(t){n=!0}(n||null==t.returnValue)&&(t.returnValue=!0)}for(t=[],n=b.currentTarget;n;n=n.parentNode)t.push(n);for(a=a.type,n=t.length-1;!b.Ea&&0<=n;n--){b.currentTarget=t[n];var g=Vt(t[n],a,!0,b);e=e&&g}for(n=0;!b.Ea&&n<t.length;n++)b.currentTarget=t[n],g=Vt(t[n],a,!1,b),e=e&&g}return e}return qt(a,new Tt(b,this))}function Ut(a){return(a=a[Ot])instanceof Dt?a:null}var Wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function $t(a){return q(a)?a:(a[Wt]||(a[Wt]=function(b){return a.handleEvent(b)}),a[Wt])}function zt(){D.call(this),this.ka=new Dt(this),this.Pe=this,this.Uc=null}x(zt,D),zt.prototype[kt]=!0,(r=zt.prototype).addEventListener=function(a,b,t,e){Rt(this,a,b,t,e)},r.removeEventListener=function(a,b,t,e){!function t(a,b,e,n,r){if(y(b))for(var g=0;g<b.length;g++)t(a,b[g],e,n,r);else n=w(n)?!!n.capture:!!n,e=$t(e),xt(a)?a.ed(b,e,n,r):a&&(a=Ut(a))&&(b=a.jb(b,e,n,r))&&Ft(b)}(this,a,b,t,e)},r.dispatchEvent=function(a){var b,t=this.Uc;if(t)for(b=[];t;t=t.Uc)b.push(t);t=this.Pe;var e=a.type||a;if(h(a))a=new Et(a,t);else if(a instanceof Et)a.target=a.target||t;else{var n=a;tt(a=new Et(e,t),n)}if(n=!0,b)for(var g=b.length-1;!a.Ea&&0<=g;g--){var r=a.currentTarget=b[g];n=r.Lb(e,!0,a)&&n}if(a.Ea||(n=(r=a.currentTarget=t).Lb(e,!0,a)&&n,a.Ea||(n=r.Lb(e,!1,a)&&n)),b)for(g=0;!a.Ea&&g<b.length;g++)n=(r=a.currentTarget=b[g]).Lb(e,!1,a)&&n;return n},r.F=function(){zt.L.F.call(this),this.pg(),this.Uc=null},r.nb=function(a,b,t,e){return this.ka.add(String(a),b,!1,t,e)},r.Oc=function(a,b,t,e){return this.ka.add(String(a),b,!0,t,e)},r.ed=function(a,b,t,e){this.ka.remove(String(a),b,t,e)},r.Le=function(a){this.ka.ye(a)},r.pg=function(){this.ka&&this.ka.pb(void 0)},r.Lb=function(a,b,t){if(!(a=this.ka.J[String(a)]))return!0;a=a.concat();for(var e=!0,n=0;n<a.length;++n){var g=a[n];if(g&&!g.Sa&&g.capture==b){var r=g.listener,p=g.Ob||g.src;g.Eb&&this.Le(g),e=!1!==r.call(p,t)&&e}}return e&&0!=t.Be},r.jb=function(a,b,t,e){return this.ka.jb(String(a),b,t,e)};var Ht=c.JSON.stringify;function Kt(a,b){this.Sf=100,this.ef=a,this.ug=b,this.Zb=0,this.Pb=null}function Qt(){this.lc=this.Va=null}Kt.prototype.get=function(){if(0<this.Zb){this.Zb--;var a=this.Pb;this.Pb=a.next,a.next=null}else a=this.ef();return a},Kt.prototype.put=function(a){this.ug(a),this.Zb<this.Sf&&(this.Zb++,a.next=this.Pb,this.Pb=a)};var Gt,Yt,Xt=new Kt(function(){return new Jt},function(a){a.reset()});function Jt(){this.next=this.scope=this.Gc=null}function Zt(a){c.setTimeout(function(){throw a},0)}function te(){if(c.Promise&&c.Promise.resolve){var a=c.Promise.resolve(void 0);Yt=function(){a.then(re)}}else Yt=function(){var a=re;!q(c.setImmediate)||c.Window&&c.Window.prototype&&!Q("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(Gt||(Gt=function(){var a=c.MessageChannel;if(void 0===a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Q("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none",a.src="",document.documentElement.appendChild(a);var b=a.contentWindow;(a=b.document).open(),a.write(""),a.close();var t="callImmediate"+Math.random(),e="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host;a=u(function(a){"*"!=e&&a.origin!=e||a.data!=t||this.port1.onmessage()},this),b.addEventListener("message",a,!1),this.port1={},this.port2={postMessage:function(){b.postMessage(t,e)}}}),void 0!==a&&!Q("Trident")&&!Q("MSIE")){var b=new a,t={},e=t;return b.port1.onmessage=function(){if(void 0!==t.next){var a=(t=t.next).rd;t.rd=null,a()}},function(a){e.next={rd:a},e=e.next,b.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null,b.parentNode.removeChild(b),b=null,a(),a=null},document.documentElement.appendChild(b)}:function(a){c.setTimeout(a,0)}}()),Gt(a)):c.setImmediate(a)}}Qt.prototype.add=function(a,b){var t=this.Af();t.set(a,b),this.lc?this.lc.next=t:this.Va=t,this.lc=t},Qt.prototype.remove=function(){var a=null;return this.Va&&(a=this.Va,this.Va=this.Va.next,this.Va||(this.lc=null),a.next=null),a},Qt.prototype.wg=function(a){Xt.put(a)},Qt.prototype.Af=function(){return Xt.get()},Jt.prototype.set=function(a,b){this.Gc=a,this.scope=b,this.next=null},Jt.prototype.reset=function(){this.next=this.scope=this.Gc=null};var ee=!1,ne=new Qt;function re(){for(var a;a=ne.remove();){try{a.Gc.call(a.scope)}catch(t){Zt(t)}ne.wg(a)}ee=!1}function ie(a,b){zt.call(this),this.Na=a||1,this.wb=b||c,this.nd=u(this.Rg,this),this.ie=k()}function oe(a,b,t){if(q(a))t&&(a=u(a,t));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=u(a.handleEvent,a)}return 2147483647<Number(b)?-1:c.setTimeout(a,b||0)}function ae(a,b,t){D.call(this),this.Uf=null!=t?u(a,t):a,this.Na=b,this.Xe=u(this.fg,this),this.qc=[]}function se(a){D.call(this),this.i=a,this.o={}}x(ie,zt),(r=ie.prototype).enabled=!1,r.B=null,r.setInterval=function(a){this.Na=a,this.B&&this.enabled?(this.stop(),this.start()):this.B&&this.stop()},r.Rg=function(){if(this.enabled){var a=k()-this.ie;0<a&&a<.8*this.Na?this.B=this.wb.setTimeout(this.nd,this.Na-a):(this.B&&(this.wb.clearTimeout(this.B),this.B=null),this.ff(),this.enabled&&(this.stop(),this.start()))}},r.ff=function(){this.dispatchEvent("tick")},r.start=function(){this.enabled=!0,this.B||(this.B=this.wb.setTimeout(this.nd,this.Na),this.ie=k())},r.stop=function(){this.enabled=!1,this.B&&(this.wb.clearTimeout(this.B),this.B=null)},r.F=function(){ie.L.F.call(this),this.stop(),delete this.wb},x(ae,D),(r=ae.prototype).Ta=!1,r.ob=0,r.B=null,r.mf=function(a){this.qc=arguments,this.B||this.ob?this.Ta=!0:this.Cc()},r.stop=function(){this.B&&(c.clearTimeout(this.B),this.B=null,this.Ta=!1,this.qc=[])},r.pause=function(){this.ob++},r.resume=function(){this.ob--,this.ob||!this.Ta||this.B||(this.Ta=!1,this.Cc())},r.F=function(){ae.L.F.call(this),this.stop()},r.fg=function(){this.B=null,this.Ta&&!this.ob&&(this.Ta=!1,this.Cc())},r.Cc=function(){this.B=oe(this.Xe,this.Na),this.Uf.apply(null,this.qc)},x(se,D);var ue=[];function le(a,b,t){this.reset(a,b,t,void 0,void 0)}function ce(a){this.pe=a,this.Zd=this.uc=this.mb=this.$b=null}function he(a,b){this.name=a,this.value=b}(r=se.prototype).nb=function(a,b,t,e){return this.Tf(a,b,t,e)},r.Tf=function(a,b,t,e){y(b)||(b&&(ue[0]=b.toString()),b=ue);for(var n=0;n<b.length;n++){var g=Rt(a,b[n],t||this.handleEvent,e||!1,this.i||this);if(!g)break;this.o[g.key]=g}return this},r.Oc=function(a,b,t,e){return this.je(a,b,t,e)},r.je=function(a,b,t,e,n){if(y(b))for(var g=0;g<b.length;g++)this.je(a,b[g],t,e,n);else{if(!(a=Mt(a,b,t||this.handleEvent,e,n||this.i||this)))return this;this.o[a.key]=a}return this},r.ed=function(a,b,t,e,n){if(y(b))for(var g=0;g<b.length;g++)this.ed(a,b[g],t,e,n);else t=t||this.handleEvent,e=w(e)?!!e.capture:!!e,n=n||this.i||this,t=$t(t),e=!!e,(b=xt(a)?a.jb(b,t,e,n):a&&(a=Ut(a))?a.jb(b,t,e,n):null)&&(Ft(b),delete this.o[b.key])},r.pb=function(){G(this.o,function(a,b){this.o.hasOwnProperty(b)&&Ft(a)},this),this.o={}},r.F=function(){se.L.F.call(this),this.pb()},r.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},le.prototype.Md=null,le.prototype.reset=function(a,b,t,e,n){this.mb=a,delete this.Md},le.prototype.Bg=function(a){this.Md=a},le.prototype.Ge=function(a){this.mb=a},he.prototype.toString=function(){return this.name};var de=new he("SEVERE",1e3),fe=new he("WARNING",900),pe=new he("INFO",800),ge=new he("CONFIG",700),me=new he("FINE",500);(r=ce.prototype).getName=function(){return this.pe},r.getParent=function(){return this.$b},r.pf=function(){return this.uc||(this.uc={}),this.uc},r.Ge=function(a){this.mb=a},r.Qd=function(){return this.mb?this.mb:this.$b?this.$b.Qd():(function(a,b){throw new N("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))}("Root logger has no level set."),null)},r.Pf=function(a){return a.value>=this.Qd().value},r.log=function(a,b,t){this.Pf(a)&&(q(b)&&(b=b()),this.gf(this.uf(a,b,t)))},r.uf=function(a,b,t){return a=new le(a,String(b),this.pe),t&&a.Bg(t),a},r.ca=function(a,b){this.log(de,a,b)},r.T=function(a,b){this.log(fe,a,b)},r.info=function(a,b){this.log(pe,a,b)},r.lf=function(a){this.log(me,a,void 0)},r.gf=function(a){for(var b=this;b;)b.We(a),b=b.getParent()},r.We=function(a){if(this.Zd)for(var t,b=0;t=this.Zd[b];b++)t(a)},r.Fg=function(a){this.$b=a},r.Qe=function(a,b){this.pf()[a]=b};var be={},ye=null;function ve(a){var b;if(ye||(ye=new ce(""),be[""]=ye,ye.Ge(ge)),!(b=be[a])){b=new ce(a);var t=a.lastIndexOf("."),e=a.substr(t+1);(t=ve(a.substr(0,t))).Qe(e,b),b.Fg(t),be[a]=b}return b}function we(a,b){a&&a.info(b,void 0)}function _e(a,b){a&&a.lf(b)}function Se(){this.s=ve("goog.labs.net.webChannel.WebChannelDebug"),this.Wc=!0}(r=Se.prototype).Id=function(){this.Wc=!1},r.Tg=function(a,b,t,e,n){var g=this;this.info(function(){return"XMLHTTP REQ ("+t+") [attempt "+e+"]: "+a+"\n"+b+"\n"+g.Xf(n)})},r.Ug=function(a,b,t,e,n,g){this.info(function(){return"XMLHTTP RESP ("+t+") [ attempt "+e+"]: "+a+"\n"+b+"\n"+n+" "+g})},r.Wa=function(a,b,t){var e=this;this.info(function(){return"XMLHTTP TEXT ("+a+"): "+e.ng(b)+(t?" "+t:"")})},r.Sg=function(a){this.info(function(){return"TIMEOUT: "+a})},r.debug=function(a){_e(this.s,a)},r.cb=function(a,b){var t=this.s;t&&t.ca(b||"Exception",a)},r.info=function(a){we(this.s,a)},r.T=function(a){var b=this.s;b&&b.T(a,void 0)},r.ca=function(a){var b=this.s;b&&b.ca(a,void 0)},r.ng=function(a){if(!this.Wc)return a;if(!a)return null;try{var b=JSON.parse(a);if(b)for(var t=0;t<b.length;t++)y(b[t])&&this.Wf(b[t]);return Ht(b)}catch(t){return this.debug("Exception parsing expected JS array - probably was not JS"),a}},r.Wf=function(a){if(!(2>a.length||(a=a[1],!y(a)||1>a.length))){var b=a[0];if("noop"!=b&&"stop"!=b&&"close"!=b)for(b=1;b<a.length;b++)a[b]=""}},r.Xf=function(a){if(!this.Wc)return a;if(!a)return null;var b="";a=a.split("&");for(var t=0;t<a.length;t++){var e=a[t].split("=");if(1<e.length){var n=e[0];e=e[1];var g=n.split("_");b=2<=g.length&&"type"==g[1]?b+(n+"=")+e+"&":b+(n+"=redacted&")}}return b};var Ee=new zt;function Te(a){Et.call(this,"serverreachability",a)}function Ce(a){Ee.dispatchEvent(new Te(Ee,a))}function ke(a,b){Et.call(this,"statevent",a),this.stat=b}function xe(a){Ee.dispatchEvent(new ke(Ee,a))}function Ie(a,b,t){Et.call(this,"timingevent",a),this.size=b,this.rtt=t}function Ne(a,b){if(!q(a))throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},b)}x(Te,Et),x(ke,Et),x(Ie,Et);var De={NO_ERROR:0,Vg:1,bh:2,ah:3,Yg:4,$g:5,dh:6,Ne:7,TIMEOUT:8,gh:9},Ae={Xg:"complete",kh:"success",Oe:"error",Ne:"abort",ih:"ready",jh:"readystatechange",TIMEOUT:"timeout",eh:"incrementaldata",hh:"progress",Zg:"downloadprogress",lh:"uploadprogress"};function Oe(){}function Pe(){}Oe.prototype.pd=null,Oe.prototype.Vd=function(){return this.pd||(this.pd=this.Mf())};var Re,Le={OPEN:"a",Wg:"b",Oe:"c",fh:"d"};function Me(){Et.call(this,"d")}function Fe(){Et.call(this,"c")}function Be(){}function Ve(a,b,t,e,n){this.b=a,this.a=b,this.ra=t,this.R=e,this.Xc=n||1,this.Fc=new se(this),this.Ua=qe,a=st?125:void 0,this.Vc=new ie(a),this.A=null,this.S=!1,this.Da=this.pa=this.ua=this.ic=this.qb=this.hd=this.Ga=null,this.ba=[],this.h=null,this.Bb=0,this.I=this.Fa=null,this.w=-1,this.Za=!1,this.Ra=0,this.ac=null,this.lb=this.Ed=this.yc=!1}x(Me,Et),x(Fe,Et),x(Be,Oe),Be.prototype.Dd=function(){var a=this.Wd();return a?new ActiveXObject(a):new XMLHttpRequest},Be.prototype.Mf=function(){var a={};return this.Wd()&&(a[0]=!0,a[1]=!0),a},Be.prototype.Wd=function(){if(!this.be&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],b=0;b<a.length;b++){var t=a[b];try{return new ActiveXObject(t),this.be=t}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return this.be},Re=new Be;var qe=45e3;var je={},Ue={};function We(a){if(a.H&&"function"==typeof a.H)return a.H();if(h(a))return a.split("");if(v(a)){for(var b=[],t=a.length,e=0;e<t;e++)b.push(a[e]);return b}return Y(a)}function $e(a,b,t){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,t);else if(v(a)||h(a))L(a,b,t);else{if(a.W&&"function"==typeof a.W)var e=a.W();else if(a.H&&"function"==typeof a.H)e=void 0;else if(v(a)||h(a)){e=[];for(var n=a.length,g=0;g<n;g++)e.push(g)}else e=X(a);g=(n=We(a)).length;for(var r=0;r<g;r++)b.call(t,n[r],e&&e[r],a)}}function ze(a,b){this.D={},this.o=[],this.j=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var e=0;e<t;e+=2)this.set(arguments[e],arguments[e+1])}else a&&this.addAll(a)}function He(a,b){return Object.prototype.hasOwnProperty.call(a,b)}(r=Ve.prototype).ga=function(a){this.A=a},r.setTimeout=function(a){this.Ua=a},r.He=function(a){this.Ra=a},r.Gg=function(a){this.ba=a},r.la=function(){return this.ba},r.kd=function(a,b){this.ic=1,this.ua=a.clone().Ub(),this.Da=b,this.yc=!0,this.Ce(null)},r.jd=function(a,b,t){this.ic=1,this.ua=a.clone().Ub(),this.Da=null,this.yc=b,this.Ce(t)},r.Ce=function(a){this.qb=k(),this.eb(),this.pa=this.ua.clone(),this.pa.dc("t",this.Xc),this.Bb=0,this.h=this.b.Jb(this.b.fc()?a:null),0<this.Ra&&(this.ac=new ae(u(this.Me,this,this.h),this.Ra)),this.Fc.nb(this.h,"readystatechange",this.mg),a=this.A?J(this.A):{},this.Da?(this.Fa||(this.Fa="POST"),a["Content-Type"]="application/x-www-form-urlencoded",this.h.send(this.pa,this.Fa,this.Da,a)):(this.Fa="GET",this.h.send(this.pa,this.Fa,null,a)),Ce(1),this.a.Tg(this.Fa,this.pa,this.R,this.Xc,this.Da)},r.mg=function(a){a=a.target;var b=this.ac;b&&3==a.ma()?(this.a.debug("Throttling readystatechange."),b.mf()):this.Me(a)},r.Me=function(a){try{a==this.h?this.hg():this.a.T("Called back with an unexpected xmlhttp")}catch(t){if(this.a.debug("Failed call to OnXmlHttpReadyStateChanged_"),this.h&&this.h.ya()){var b=this;this.a.cb(t,function(){return"ResponseText: "+b.h.ya()})}else this.a.cb(t,"No response text")}},r.hg=function(){var a=this.h.ma(),b=this.h.Ud(),t=this.h.za();if(!(3>a||3==a&&!st&&!this.h.ya())){this.Za||4!=a||7==b||Ce(8==b||0>=t?3:2),this.Fb();var e=this.h.za();if(this.w=e,!(b=this.h.ya())){var n=this;this.a.debug(function(){return"No response text for uri "+n.pa+" status "+e})}if(this.S=200==e,this.a.Ug(this.Fa,this.pa,this.R,this.Xc,a,e),this.S){if(this.Ig()){if(!(t=this.sf()))return this.S=!1,this.I=3,xe(12),this.a.T("XMLHTTP Missing X_HTTP_INITIAL_RESPONSE ("+this.R+")"),this.Ia(),void this.Kb();this.a.Wa(this.R,t,"Initial handshake response via X-HTTP-Initial-Response"),this.lb=!0,this.Yc(t)}this.yc?(this.Fd(a,b),st&&this.S&&3==a&&this.Ng()):(this.a.Wa(this.R,b,null),this.Yc(b)),4==a&&this.Ia(),this.S&&!this.Za&&(4==a?this.b.Tc(this):(this.S=!1,this.eb()))}else 400==e&&0<b.indexOf("Unknown SID")?(this.I=3,xe(12),this.a.T("XMLHTTP Unknown SID ("+this.R+")")):(this.I=0,xe(13),this.a.T("XMLHTTP Bad status "+e+" ("+this.R+")")),this.Ia(),this.Kb()}},r.Ig=function(){return this.Ed&&!this.lb},r.sf=function(){if(this.h){var a=this.h.kb("X-HTTP-Initial-Response");if(a&&!U(a))return a}return null},r.Ag=function(){this.Ed=!0},r.Fd=function(a,b){for(var t=!0;!this.Za&&this.Bb<b.length;){var e=this.vf(b);if(e==Ue){4==a&&(this.I=4,xe(14),t=!1),this.a.Wa(this.R,null,"[Incomplete Response]");break}if(e==je){this.I=4,xe(15),this.a.Wa(this.R,b,"[Invalid Chunk]"),t=!1;break}this.a.Wa(this.R,e,null),this.Yc(e)}4==a&&0==b.length&&(this.I=1,xe(16),t=!1),this.S=this.S&&t,t||(this.a.Wa(this.R,b,"[Invalid Chunked Response]"),this.Ia(),this.Kb())},r.kg=function(){if(this.h){var a=this.h.ma(),b=this.h.ya();this.Bb<b.length&&(this.Fb(),this.Fd(a,b),this.S&&4!=a&&this.eb())}},r.Ng=function(){this.Fc.nb(this.Vc,"tick",this.kg),this.Vc.start()},r.vf=function(a){var b=this.Bb,t=a.indexOf("\n",b);return-1==t?Ue:(b=Number(a.substring(b,t)),isNaN(b)?je:(t+=1)+b>a.length?Ue:(a=a.substr(t,b),this.Bb=t+b,a))},r.yg=function(a){this.ic=2,this.ua=a.clone().Ub(),a=!1,c.navigator&&c.navigator.sendBeacon&&(a=c.navigator.sendBeacon(this.ua.toString(),"")),!a&&c.Image&&((new Image).src=this.ua,a=!0),a||(this.h=this.b.Jb(null),this.h.send(this.ua)),this.qb=k(),this.eb()},r.cancel=function(){this.Za=!0,this.Ia()},r.tg=function(a){a&&this.setTimeout(a),this.Ga&&(this.Fb(),this.eb())},r.eb=function(){this.hd=k()+this.Ua,this.Ke(this.Ua)},r.Ke=function(a){if(null!=this.Ga)throw Error("WatchDog timer not null");this.Ga=Ne(u(this.gg,this),a)},r.Fb=function(){this.Ga&&(c.clearTimeout(this.Ga),this.Ga=null)},r.gg=function(){this.Ga=null;var a=k();0<=a-this.hd?this.Df():(this.a.T("WatchDog timer called too early"),this.Ke(this.hd-a))},r.Df=function(){this.S&&this.a.ca("Received watchdog timeout even though request loaded successfully"),this.a.Sg(this.pa),2!=this.ic&&(Ce(3),xe(17)),this.Ia(),this.I=2,this.Kb()},r.Kb=function(){this.b.de()||this.Za||this.b.Tc(this)},r.Ia=function(){this.Fb();var a=this.ac;a&&"function"==typeof a.bb&&a.bb(),this.ac=null,this.Vc.stop(),this.Fc.pb(),this.h&&(a=this.h,this.h=null,a.abort(),a.bb())},r.Hc=function(){return this.I},r.Yc=function(a){try{this.b.ue(this,a),Ce(4)}catch(t){this.a.cb(t,"Error in httprequest callback")}},(r=ze.prototype).C=function(){return this.j},r.H=function(){this.wc();for(var a=[],b=0;b<this.o.length;b++)a.push(this.D[this.o[b]]);return a},r.W=function(){return this.wc(),this.o.concat()},r.va=function(a){return He(this.D,a)},r.X=function(){return 0==this.j},r.clear=function(){this.D={},this.j=this.o.length=0},r.remove=function(a){return!!He(this.D,a)&&(delete this.D[a],this.j--,this.o.length>2*this.j&&this.wc(),!0)},r.wc=function(){if(this.j!=this.o.length){for(var a=0,b=0;a<this.o.length;){var t=this.o[a];He(this.D,t)&&(this.o[b++]=t),a++}this.o.length=b}if(this.j!=this.o.length){var e={};for(b=a=0;a<this.o.length;)He(e,t=this.o[a])||(this.o[b++]=t,e[t]=1),a++;this.o.length=b}},r.get=function(a,b){return He(this.D,a)?this.D[a]:b},r.set=function(a,b){He(this.D,a)||(this.j++,this.o.push(a)),this.D[a]=b},r.addAll=function(a){if(a instanceof ze)for(var b=a.W(),t=0;t<b.length;t++)this.set(b[t],a.get(b[t]));else for(b in a)this.set(b,a[b])},r.forEach=function(a,b){for(var t=this.W(),e=0;e<t.length;e++){var n=t[e],g=this.get(n);a.call(b,g,n,this)}},r.clone=function(){return new ze(this)};var Ke=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qe(a,b){var t;this.xa=this.zb=this.qa="",this.Ca=null,this.ib=this.K="",this.O=this.Qf=!1,a instanceof Qe?(this.O=void 0!==b?b:a.O,this.tb(a.qa),this.cd(a.zb),this.rb(a.xa),this.sb(a.Ca),this.ec(a.K),this.bd(a.P.clone()),this.$c(a.ib)):a&&(t=String(a).match(Ke))?(this.O=!!b,this.tb(t[1]||"",!0),this.cd(t[2]||"",!0),this.rb(t[3]||"",!0),this.sb(t[4]),this.ec(t[5]||"",!0),this.bd(t[6]||"",!0),this.$c(t[7]||"",!0)):(this.O=!!b,this.P=new rn(null,this.O))}function Ge(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ye(a,b,t){return h(a)?(a=encodeURI(a).replace(b,Xe),t&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Xe(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}(r=Qe.prototype).toString=function(){var a=[],b=this.qa;b&&a.push(Ye(b,Je,!0),":");var t=this.xa;return(t||"file"==b)&&(a.push("//"),(b=this.zb)&&a.push(Ye(b,Je,!0),"@"),a.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.Ca)&&a.push(":",String(t))),(t=this.K)&&(this.Ic()&&"/"!=t.charAt(0)&&a.push("/"),a.push(Ye(t,"/"==t.charAt(0)?tn:Ze,!0))),(t=this.Rd())&&a.push("?",t),(t=this.ib)&&a.push("#",Ye(t,nn)),a.join("")},r.resolve=function(a){var b=this.clone(),t=a.Hf();t?b.tb(a.qa):t=a.If(),t?b.cd(a.zb):t=a.Ic(),t?b.rb(a.xa):t=a.Ff();var e=a.K;if(t)b.sb(a.Ca);else if(t=a.ae()){if("/"!=e.charAt(0))if(this.Ic()&&!this.ae())e="/"+e;else{var n=b.K.lastIndexOf("/");-1!=n&&(e=b.K.substr(0,n+1)+e)}if(".."==(n=e)||"."==n)e="";else if(-1!=n.indexOf("./")||-1!=n.indexOf("/.")){e=0==n.lastIndexOf("/",0),n=n.split("/");for(var g=[],r=0;r<n.length;){var p=n[r++];"."==p?e&&r==n.length&&g.push(""):".."==p?((1<g.length||1==g.length&&""!=g[0])&&g.pop(),e&&r==n.length&&g.push("")):(g.push(p),e=!0)}e=g.join("/")}else e=n}return t?b.ec(e):t=a.Gf(),t?b.bd(a.P.clone()):t=a.Ef(),t&&b.$c(a.ib),b},r.clone=function(){return new Qe(this)},r.tb=function(a,b){this.U(),(this.qa=b?Ge(a,!0):a)&&(this.qa=this.qa.replace(/:$/,""))},r.Hf=function(){return!!this.qa},r.cd=function(a,b){this.U(),this.zb=b?Ge(a):a},r.If=function(){return!!this.zb},r.rb=function(a,b){this.U(),this.xa=b?Ge(a,!0):a},r.Ic=function(){return!!this.xa},r.sb=function(a){if(this.U(),a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);this.Ca=a}else this.Ca=null},r.Ff=function(){return null!=this.Ca},r.ec=function(a,b){this.U(),this.K=b?Ge(a,!0):a},r.ae=function(){return!!this.K},r.Gf=function(){return""!==this.P.toString()},r.bd=function(a,b){this.U(),a instanceof rn?(this.P=a,this.P.ad(this.O)):(b||(a=Ye(a,en)),this.P=new rn(a,this.O))},r.Rd=function(){return this.P.toString()},r.getQuery=function(){return this.Rd()},r.l=function(a,b){this.U(),this.P.set(a,b)},r.dc=function(a,b){this.U(),y(b)||(b=[String(b)]),this.P.Ie(a,b)},r.$c=function(a,b){this.U(),this.ib=b?Ge(a):a},r.Ef=function(){return!!this.ib},r.Ub=function(){return this.U(),this.l("zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^k()).toString(36)),this},r.removeParameter=function(a){return this.U(),this.P.remove(a),this},r.U=function(){if(this.Qf)throw Error("Tried to modify a read-only Uri")},r.ad=function(a){this.O=a,this.P&&this.P.ad(a)};var Je=/[#\/\?@]/g,Ze=/[#\?:]/g,tn=/[#\?]/g,en=/[#\?@]/g,nn=/#/g;function rn(a,b){this.j=this.m=null,this.ja=a||null,this.O=!!b}function on(a,b){this.b=a,this.a=b,this.f=this.A=null,this.bc=!1,this.K=null,this.w=-1,this.Ad=this.na=null}function an(){this.od=this.$d=null}function sn(a){this.D=new ze,a&&this.addAll(a)}function un(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[_]||(a[_]=++S)):b.substr(0,1)+a}function ln(a,b){this.Pc=a,this.map=b,this.context=null}function cn(a){this.me=a||hn,c.PerformanceNavigationTiming?a=0<(a=c.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):a=!!(c.vc&&c.vc.ke&&c.vc.ke()&&c.vc.ke().nh),this.Xb=a?this.me:1,this.v=null,1<this.Xb&&(this.v=new sn),this.f=null,this.ba=[]}(r=rn.prototype).$=function(){if(!this.m&&(this.m=new ze,this.j=0,this.ja)){var a=this;!function(a,b){if(a){a=a.split("&");for(var t=0;t<a.length;t++){var e=a[t].indexOf("="),n=null;if(0<=e){var g=a[t].substring(0,e);n=a[t].substring(e+1)}else g=a[t];b(g,n?decodeURIComponent(n.replace(/\+/g," ")):"")}}}(this.ja,function(b,t){a.add(decodeURIComponent(b.replace(/\+/g," ")),t)})}},r.C=function(){return this.$(),this.j},r.add=function(a,b){this.$(),this.Oa(),a=this.Ma(a);var t=this.m.get(a);return t||this.m.set(a,t=[]),t.push(b),this.j+=1,this},r.remove=function(a){return this.$(),a=this.Ma(a),!!this.m.va(a)&&(this.Oa(),this.j-=this.m.get(a).length,this.m.remove(a))},r.clear=function(){this.Oa(),this.m=null,this.j=0},r.X=function(){return this.$(),0==this.j},r.va=function(a){return this.$(),a=this.Ma(a),this.m.va(a)},r.forEach=function(a,b){this.$(),this.m.forEach(function(t,e){L(t,function(t){a.call(b,t,e,this)},this)},this)},r.W=function(){this.$();for(var a=this.m.H(),b=this.m.W(),t=[],e=0;e<b.length;e++)for(var n=a[e],g=0;g<n.length;g++)t.push(b[e]);return t},r.H=function(a){this.$();var b=[];if(h(a))this.va(a)&&(b=V(b,this.m.get(this.Ma(a))));else{a=this.m.H();for(var t=0;t<a.length;t++)b=V(b,a[t])}return b},r.set=function(a,b){return this.$(),this.Oa(),a=this.Ma(a),this.va(a)&&(this.j-=this.m.get(a).length),this.m.set(a,[b]),this.j+=1,this},r.get=function(a,b){return a&&0<(a=this.H(a)).length?String(a[0]):b},r.Ie=function(a,b){this.remove(a),0<b.length&&(this.Oa(),this.m.set(this.Ma(a),j(b)),this.j+=b.length)},r.toString=function(){if(this.ja)return this.ja;if(!this.m)return"";for(var a=[],b=this.m.W(),t=0;t<b.length;t++){var e=b[t],n=encodeURIComponent(String(e));e=this.H(e);for(var g=0;g<e.length;g++){var r=n;""!==e[g]&&(r+="="+encodeURIComponent(String(e[g]))),a.push(r)}}return this.ja=a.join("&")},r.Oa=function(){this.ja=null},r.clone=function(){var a=new rn;return a.ja=this.ja,this.m&&(a.m=this.m.clone(),a.j=this.j),a},r.Ma=function(a){return a=String(a),this.O&&(a=a.toLowerCase()),a},r.ad=function(a){a&&!this.O&&(this.$(),this.Oa(),this.m.forEach(function(a,t){var b=t.toLowerCase();t!=b&&(this.remove(t),this.Ie(b,a))},this)),this.O=a},r.extend=function(a){for(var b=0;b<arguments.length;b++)$e(arguments[b],function(a,b){this.add(b,a)},this)},x(function(){},function(){}),(r=on.prototype).g=null,r.ga=function(a){this.A=a},r.connect=function(a){this.K=a,a=this.b.Sd(this.K),xe(3);var b=this.b.Ib.$d;null!=b?(this.na=this.b.$a(b[0]),this.g=1,this.xd()):(a.dc("MODE","init"),!this.b.ta&&this.b.aa&&a.dc("X-HTTP-Session-Id",this.b.aa),this.f=new Ve(this,this.a,void 0,void 0,void 0),this.f.ga(this.A),this.f.jd(a,!1,null),this.g=0)},r.xd=function(){this.a.debug("TestConnection: starting stage 2");var a=this.b.Ib.od;if(null!=a)this.a.debug(function(){return"Buffered"}),xe(4),a?(xe(10),this.b.ub(this,!1)):(xe(11),this.b.ub(this,!0));else{this.f=new Ve(this,this.a,void 0,void 0,void 0),this.f.ga(this.A);var b=this.b.Pd(this.na,this.K);xe(4),b.dc("TYPE","xmlhttp");var t=this.b.aa,e=this.b.Kc;t&&e&&b.l(t,e),this.f.jd(b,!1,this.na)}},r.Jb=function(a){return this.b.Jb(a)},r.abort=function(){this.f&&(this.f.cancel(),this.f=null),this.w=-1},r.de=function(){return!1},r.ue=function(a,b){if(this.w=a.w,0==this.g)if(this.a.debug("TestConnection: Got data for stage 1"),this.pc(a),b){try{var t=this.b.kc.zc(b)}catch(t){return this.a.cb(t),void this.b.dd(this)}this.na=this.b.$a(t[0])}else this.a.debug("TestConnection: Null responseText"),this.b.dd(this);else 1==this.g&&(this.bc?xe(6):"11111"==b?(xe(5),this.bc=!0,this.Ze()&&(this.w=200,this.f.cancel(),this.a.debug("Test connection succeeded; using streaming connection"),xe(11),this.b.ub(this,!0))):(xe(7),this.bc=!1))},r.Tc=function(){this.w=this.f.w,this.f.S?0==this.g?(this.g=1,this.a.debug("TestConnection: request complete for initial check"),this.xd()):1==this.g&&(this.a.debug("TestConnection: request complete for stage 2"),this.bc?(this.a.debug("Test connection succeeded; using streaming connection"),xe(11),this.b.ub(this,!0)):(this.a.debug("Test connection failed; not using streaming"),xe(10),this.b.ub(this,!1))):(this.a.debug("TestConnection: request failed, in state "+this.g),0==this.g?xe(8):1==this.g&&xe(9),this.b.dd(this))},r.pc=function(a){if(!this.b.ta&&(a=a.h)){var b=a.kb("X-Client-Wire-Protocol");this.Ad=b||null,this.b.aa&&((a=a.kb("X-HTTP-Session-Id"))?this.b.Fe(a):this.a.T("Missing X_HTTP_SESSION_ID in the handshake response"))}},r.fc=function(){return this.b.fc()},r.Ba=function(){return this.b.Ba()},r.Ze=function(){return!ot||10<=Number(gt)},(r=sn.prototype).C=function(){return this.D.C()},r.add=function(a){this.D.set(un(a),a)},r.addAll=function(a){for(var b=(a=We(a)).length,t=0;t<b;t++)this.add(a[t])},r.pb=function(a){for(var b=(a=We(a)).length,t=0;t<b;t++)this.remove(a[t])},r.remove=function(a){return this.D.remove(un(a))},r.clear=function(){this.D.clear()},r.X=function(){return this.D.X()},r.contains=function(a){return this.D.va(un(a))},r.H=function(){return this.D.H()},r.clone=function(){return new sn(this)};var hn=10;function dn(){this.xg=this.rg=void 0}function fn(){this.jg=new dn}function pn(a,b,t,e,n){try{a.debug(t),b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null,n(e)}catch(t){a.cb(t)}}(r=cn.prototype).ld=function(a){this.v||-1==a.indexOf("spdy")&&-1==a.indexOf("quic")&&-1==a.indexOf("h2")||(this.Xb=this.me,this.v=new sn,this.f&&(this.oc(this.f),this.f=null))},r.ee=function(){return!!this.f||!!this.v&&this.v.C()>=this.Xb},r.xf=function(){return this.f?1:this.v?this.v.C():0},r.Jc=function(a){return this.f?this.f==a:!!this.v&&this.v.contains(a)},r.oc=function(a){this.v?this.v.add(a):this.f=a},r.ze=function(a){this.f&&this.f==a?this.f=null:this.v&&this.v.contains(a)&&this.v.remove(a)},r.cancel=function(){this.ba=this.la(),this.f?(this.f.cancel(),this.f=null):this.v&&!this.v.X()&&(L(this.v.H(),function(a){a.cancel()}),this.v.clear())},r.la=function(){if(null!=this.f)return this.ba.concat(this.f.la());if(null!=this.v&&!this.v.X()){var a=this.ba;return L(this.v.H(),function(b){a=a.concat(b.la())}),a}return j(this.ba)},r.Re=function(a){this.ba=this.ba.concat(a)},r.$e=function(){this.ba.length=0},dn.prototype.stringify=function(a){return c.JSON.stringify(a,this.rg)},dn.prototype.parse=function(a){return c.JSON.parse(a,this.xg)},fn.prototype.hf=function(a,b,t){var e=t||"";try{$e(a,function(a,t){var n=a;w(a)&&(n=Ht(a)),b.push(e+t+"="+encodeURIComponent(n))})}catch(t){throw b.push(e+"type="+encodeURIComponent("_badmap")),t}},fn.prototype.jf=function(a,b,t){for(var e=-1;;){var n=["count="+b];-1==e?0<b?(e=a[0].Pc,n.push("ofs="+e)):e=0:n.push("ofs="+e);for(var g=!0,r=0;r<b;r++){var p=a[r].Pc,o=a[r].map;if(0>(p-=e))e=Math.max(0,a[r].Pc-100),g=!1;else try{this.hf(o,n,"req"+p+"_")}catch(e){t&&t(o)}}if(g)return n.join("&")}},fn.prototype.zc=function(a){return this.jg.parse(a)};var gn=c.JSON.parse;function mn(a){zt.call(this),this.headers=new ze,this.Xa=a||null,this.ha=!1,this.mc=this.c=null,this.ge=this.Tb="",this.Pa=0,this.I="",this.Aa=this.Lc=this.Qb=this.Ec=!1,this.vb=0,this.hc=null,this.Ae=bn,this.jc=this.lg=this.Ab=!1}x(mn,zt);var bn="";mn.prototype.s=ve("goog.net.XhrIo");var yn=/^https?$/i,vn=["POST","PUT"];function wn(a){return"content-type"==a.toLowerCase()}function _n(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}}function Sn(a,b,t){t:{for(e in t){var e=!1;break t}e=!0}if(e)return a;if(t=function(a){var b="";return G(a,function(a,t){b+=t,b+=":",b+=a,b+="\r\n"}),b}(t),h(a)){if(b=encodeURIComponent(String(b)),b+=t=null!=t?"="+encodeURIComponent(String(t)):""){if(0>(t=a.indexOf("#"))&&(t=a.length),0>(e=a.indexOf("?"))||e>t){e=t;var n=""}else n=a.substring(e+1,t);t=(a=[a.substr(0,e),n,a.substr(t)])[1],a[1]=b?t?t+"&"+b:b:t,a=a[0]+(a[1]?"?"+a[1]:"")+a[2]}return a}return a.l(b,t),a}function En(a){this.Bd=22,this.De=0,this.M=[],this.a=new Se,this.Ib=new an,this.na=this.md=this.hb=this.K=this.u=this.Kc=this.aa=this.gb=this.N=this.Rb=this.A=null,this.Te=!0,this.ag=this.Yb=0,this.kf=!!d("internalChannelParams.failFast",a),this.fd=this.Ja=this.wa=this.ia=this.ea=this.i=null,this.Se=!0,this.w=this.he=this.Sb=-1,this.rc=this.Ha=this.La=0,this.Ve=d("internalChannelParams.baseRetryDelayMs",a)||5e3,this.vg=d("internalChannelParams.retryDelaySeedMs",a)||1e4,this.nf=d("internalChannelParams.forwardChannelMaxRetries",a)||2,this.Od=d("internalChannelParams.forwardChannelRequestTimeoutMs",a)||2e4,this.Xa=a&&a.oh||void 0,this.Db=void 0,this.Ra=0,this.gc=a&&a.supportsCrossDomainXhr||!1,this.ra="",this.G=new cn(a&&a.concurrentRequestLimit),this.kc=new fn,this.ta=!a||void 0===a.backgroundChannelTest||a.backgroundChannelTest,(this.Nd=a&&a.fastHandshake||!1)&&!this.ta&&(this.a.T("Force backgroundChannelTest when fastHandshake is enabled."),this.ta=!0),a&&a.Id&&this.a.Id()}function Tn(){}function Cn(){if(ot&&!(10<=Number(gt)))throw Error("Environmental error: no available transport.")}function kn(a,b){zt.call(this),this.b=new En(b),this.yb=a,this.Qg=b&&b.testUrl?b.testUrl:function(a){for(var b=arguments[0],t=1;t<arguments.length;t++){var e,n=arguments[t];0==n.lastIndexOf("/",0)?b=n:((e=""==b)||(e=0<=(e=b.length-1)&&b.indexOf("/",e)==e),b=e?b+n:b+"/"+n)}return b}(this.yb,"test"),this.s=ve("goog.labs.net.webChannel.WebChannelBaseTransport"),this.Rc=b&&b.messageUrlParams||null,a=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.b.ga(a),a=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(a?a["X-WebChannel-Content-Type"]=b.messageContentType:a={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.zd&&(a?a["X-WebChannel-Client-Profile"]=b.zd:a={"X-WebChannel-Client-Profile":b.zd}),this.b.Eg(a),(a=b&&b.httpHeadersOverwriteParam)&&!U(a)&&this.b.Cg(a),this.Og=b&&b.supportsCrossDomainXhr||!1,this.zg=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!U(b)&&(this.b.Dg(b),null!==(a=this.Rc)&&b in a&&(b in(a=this.Rc)&&delete a[b],(a=this.s)&&a.T("Ignore httpSessionIdParam also specified with messageUrlParams: "+b,void 0))),this.vd=new In(this)}function dd(a){Me.call(this);var b=a.__sm__;if(b){t:{for(var t in b){a=t;break t}a=void 0}(this.ne=a)&&(a=this.ne,b=null!==b&&a in b?b[a]:void 0),this.data=b}else this.data=a}function xn(a){Fe.call(this),this.status=1,this.errorCode=a}function In(a){this.b=a}(r=mn.prototype).Je=function(a){this.Ab=a},r.send=function(a,b,t,e){if(this.c)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Tb+"; newUri="+a);b=b?b.toUpperCase():"GET",this.Tb=a,this.I="",this.Pa=0,this.ge=b,this.Ec=!1,this.ha=!0,this.c=this.df(),this.mc=this.Xa?this.Xa.Vd():Re.Vd(),this.c.onreadystatechange=u(this.te,this),this.lg&&"onprogress"in this.c&&(this.c.onprogress=u(function(a){this.re(a,!0)},this),this.c.upload&&(this.c.upload.onprogress=u(this.re,this)));try{_e(this.s,this.da("Opening Xhr")),this.Lc=!0,this.c.open(b,String(a),!0),this.Lc=!1}catch(t){return _e(this.s,this.da("Error opening Xhr: "+t.message)),void this.Ld(t)}a=t||"";var n=this.headers.clone();e&&$e(e,function(a,b){n.set(b,a)}),e=function(a){t:{for(var b=wn,t=a.length,e=h(a)?a.split(""):a,n=0;n<t;n++)if(n in e&&b.call(void 0,e[n],n,a)){b=n;break t}b=-1}return 0>b?null:h(a)?a.charAt(b):a[b]}(n.W()),t=c.FormData&&a instanceof c.FormData,!(0<=P(vn,b))||e||t||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),n.forEach(function(a,b){this.c.setRequestHeader(b,a)},this),this.Ae&&(this.c.responseType=this.Ae),"withCredentials"in this.c&&this.c.withCredentials!==this.Ab&&(this.c.withCredentials=this.Ab);try{this.yd(),0<this.vb&&(this.jc=function(a){return ot&&bt(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(this.c),_e(this.s,this.da("Will abort after "+this.vb+"ms if incomplete, xhr2 "+this.jc)),this.jc?(this.c.timeout=this.vb,this.c.ontimeout=u(this.Ua,this)):this.hc=oe(this.Ua,this.vb,this)),_e(this.s,this.da("Sending request")),this.Qb=!0,this.c.send(a),this.Qb=!1}catch(t){_e(this.s,this.da("Send error: "+t.message)),this.Ld(t)}},r.df=function(){return this.Xa?this.Xa.Dd():Re.Dd()},r.Ua=function(){void 0!==l&&this.c&&(this.I="Timed out after "+this.vb+"ms, aborting",this.Pa=8,_e(this.s,this.da(this.I)),this.dispatchEvent("timeout"),this.abort(8))},r.Ld=function(a){this.ha=!1,this.c&&(this.Aa=!0,this.c.abort(),this.Aa=!1),this.I=a,this.Pa=5,this.Jd(),this.Gb()},r.Jd=function(){this.Ec||(this.Ec=!0,this.dispatchEvent("complete"),this.dispatchEvent("error"))},r.abort=function(a){this.c&&this.ha&&(_e(this.s,this.da("Aborting")),this.ha=!1,this.Aa=!0,this.c.abort(),this.Aa=!1,this.Pa=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),this.Gb())},r.F=function(){this.c&&(this.ha&&(this.ha=!1,this.Aa=!0,this.c.abort(),this.Aa=!1),this.Gb(!0)),mn.L.F.call(this)},r.te=function(){this.Ka||(this.Lc||this.Qb||this.Aa?this.se():this.eg())},r.eg=function(){this.se()},r.se=function(){if(this.ha&&void 0!==l)if(this.mc[1]&&4==this.ma()&&2==this.za())_e(this.s,this.da("Local request error detected and ignored"));else if(this.Qb&&4==this.ma())oe(this.te,0,this);else if(this.dispatchEvent("readystatechange"),this.Mc()){_e(this.s,this.da("Request complete")),this.ha=!1;try{this.Rf()?(this.dispatchEvent("complete"),this.dispatchEvent("success")):(this.Pa=6,this.I=this.Yd()+" ["+this.za()+"]",this.Jd())}finally{this.Gb()}}},r.re=function(a,b){this.dispatchEvent(_n(a,"progress")),this.dispatchEvent(_n(a,b?"downloadprogress":"uploadprogress"))},r.Gb=function(a){if(this.c){this.yd();var b=this.c,t=this.mc[0]?f:null;this.mc=this.c=null,a||this.dispatchEvent("ready");try{b.onreadystatechange=t}catch(t){(a=this.s)&&a.ca("Problem encountered resetting onreadystatechange: "+t.message,void 0)}}},r.yd=function(){this.c&&this.jc&&(this.c.ontimeout=null),this.hc&&(c.clearTimeout(this.hc),this.hc=null)},r.Ba=function(){return!!this.c},r.Mc=function(){return 4==this.ma()},r.Rf=function(){var a=this.za();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}return b||0===a&&!this.Of()},r.Of=function(){var a=String(this.Tb).match(Ke)[1]||null;return!a&&c.self&&c.self.location&&(a=(a=c.self.location.protocol).substr(0,a.length-1)),yn.test(a?a.toLowerCase():"")},r.ma=function(){return this.c?this.c.readyState:0},r.za=function(){try{return 2<this.ma()?this.c.status:-1}catch(t){return-1}},r.Yd=function(){try{return 2<this.ma()?this.c.statusText:""}catch(t){return _e(this.s,"Can not get status: "+t.message),""}},r.ya=function(){try{return this.c?this.c.responseText:""}catch(t){return _e(this.s,"Can not get responseText: "+t.message),""}},r.yf=function(a){if(this.c){var b=this.c.responseText;return a&&0==b.indexOf(a)&&(b=b.substring(a.length)),gn(b)}},r.getResponseHeader=function(a){if(this.c&&this.Mc())return null===(a=this.c.getResponseHeader(a))?void 0:a},r.getAllResponseHeaders=function(){return this.c&&this.Mc()&&this.c.getAllResponseHeaders()||""},r.kb=function(a){return this.c?this.c.getResponseHeader(a):null},r.Ud=function(){return this.Pa},r.Hc=function(){return h(this.I)?this.I:String(this.I)},r.da=function(a){return a+" ["+this.ge+" "+this.Tb+" "+this.za()+"]"},(r=En.prototype).tc=8,r.g=1,r.connect=function(a,b,t,e,n){this.a.debug("connect()"),xe(0),this.K=b,this.gb=t||{},e&&void 0!==n&&(this.gb.OSID=e,this.gb.OAID=n),this.ta&&(this.a.debug("connect() bypassed channel-test."),this.Ib.$d=[],this.Ib.od=!1),this.bf(a)},r.disconnect=function(){if(this.a.debug("disconnect()"),this.qd(),3==this.g){var a=this.Yb++,b=this.hb.clone();b.l("SID",this.ra),b.l("RID",a),b.l("TYPE","terminate"),this.Ya(b),new Ve(this,this.a,this.ra,a,void 0).yg(b)}this.qe()},r.bf=function(a){this.a.debug("connectTest_()"),this.Ja=new on(this,this.a),null===this.N&&this.Ja.ga(this.A);var b=a;this.N&&this.A&&(b=Sn(a,this.N,this.A)),this.Ja.connect(b)},r.af=function(){this.a.debug("connectChannel_()"),this.hb=this.Sd(this.K),this.Dc()},r.qd=function(){this.Ja&&(this.Ja.abort(),this.Ja=null),this.u&&(this.u.cancel(),this.u=null),this.ia&&(c.clearTimeout(this.ia),this.ia=null),this.Hb(),this.G.cancel(),this.ea&&(c.clearTimeout(this.ea),this.ea=null)},r.ga=function(a){this.A=a},r.Eg=function(a){this.Rb=a},r.Cg=function(a){this.N=a},r.Dg=function(a){this.aa=a},r.Fe=function(a){this.Kc=a},r.He=function(a){this.Ra=a},r.Hg=function(){this.gc=!0},r.Ee=function(a){this.i=a},r.Nf=function(){return!this.fd},r.Zc=function(a){1e3==this.M.length&&this.a.ca(function(){return"Already have 1000 queued maps upon queueing "+Ht(a)}),this.M.push(new ln(this.ag++,a)),3==this.g&&this.Dc()},r.qf=function(){return this.kf?0:this.nf},r.de=function(){return 0==this.g},r.getState=function(){return this.g},r.Dc=function(){this.G.ee()||this.ea||(this.ea=Ne(u(this.we,this),0),this.La=0)},r.Yf=function(a){return this.G.xf()>=this.G.Xb-(this.ea?1:0)?(this.a.ca("Unexpected retry request is scheduled."),!1):this.ea?(this.a.debug("Use the retry request that is already scheduled."),this.M=a.la().concat(this.M),!0):!(1==this.g||2==this.g||this.La>=this.qf())&&(this.a.debug("Going to retry POST"),this.ea=Ne(u(this.we,this,a),this.Xd(this.La)),this.La++,!0)},r.we=function(a){this.ea=null,this.Mg(a)},r.Mg=function(a){this.a.debug("startForwardChannel_"),1==this.g?a?this.a.ca("Not supposed to retry the open"):(this.ig(),this.g=2):3==this.g&&(a?this.le(a):0==this.M.length?this.a.debug("startForwardChannel_ returned: nothing to send"):this.G.ee()?this.a.ca("startForwardChannel_ returned: connection already in progress"):(this.le(),this.a.debug("startForwardChannel_ finished, sent request")))},r.ig=function(){this.a.debug("open_()"),this.Yb=Math.floor(1e5*Math.random());var a=this.Yb++,b=new Ve(this,this.a,"",a,void 0),t=this.A;this.Rb&&(t?tt(t=J(t),this.Rb):t=this.Rb),null===this.N&&b.ga(t);var e=this.Hd(b),n=this.hb.clone();n.l("RID",a),0<this.Bd&&n.l("CVER",this.Bd),this.ta&&this.aa&&n.l("X-HTTP-Session-Id",this.aa),this.Ya(n),this.N&&t&&Sn(n,this.N,t),this.G.oc(b),this.Nd?(n.l("$req",e),n.l("SID","null"),b.Ag(),b.kd(n,null)):b.kd(n,e)},r.le=function(a){var b=a?a.R:this.Yb++,t=this.hb.clone();t.l("SID",this.ra),t.l("RID",b),t.l("AID",this.Sb),this.Ya(t),this.N&&this.A&&Sn(t,this.N,this.A),b=new Ve(this,this.a,this.ra,b,this.La+1),null===this.N&&b.ga(this.A),a&&this.sg(a),a=this.Hd(b),b.setTimeout(Math.round(.5*this.Od)+Math.round(.5*this.Od*Math.random())),this.G.oc(b),b.kd(t,a)},r.Ya=function(a){this.i&&$e({},function(b,t){a.l(t,b)})},r.Hd=function(a){var b=Math.min(this.M.length,1e3),t=this.i?u(this.i.Ue,this.i,this):null;return t=this.kc.jf(this.M,b,t),a.Gg(this.M.splice(0,b)),t},r.sg=function(a){this.M=a.la().concat(this.M)},r.Kd=function(){if(!this.u&&!this.ia){this.rc=1;var a=this.ve;Yt||te(),ee||(Yt(),ee=!0),ne.add(a,this),this.Ha=0}},r.Qc=function(){return this.u||this.ia?(this.a.ca("Request already in progress"),!1):!(3<=this.Ha)&&(this.a.debug("Going to retry GET"),this.rc++,this.ia=Ne(u(this.ve,this),this.Xd(this.Ha)),this.Ha++,!0)},r.ve=function(){this.ia=null,this.Kg()},r.Kg=function(){this.a.debug("Creating new HttpRequest"),this.u=new Ve(this,this.a,this.ra,"rpc",this.rc),null===this.N&&this.u.ga(this.A),this.u.He(this.Ra);var a=this.md.clone();a.l("RID","rpc"),a.l("SID",this.ra),a.l("CI",this.fd?"0":"1"),a.l("AID",this.Sb),this.Ya(a),a.l("TYPE","xmlhttp"),this.N&&this.A&&Sn(a,this.N,this.A),this.Db&&this.u.setTimeout(this.Db),this.u.jd(a,!0,this.na),this.a.debug("New Request created")},r.ub=function(a,b){this.a.debug("Test Connection Finished");var t=a.Ad;t&&this.G.ld(t),this.fd=this.Se&&b,this.w=a.w,this.af()},r.dd=function(a){this.a.debug("Test Connection Failed"),this.w=a.w,this.sa(2)},r.ue=function(a,b){if(0!=this.g&&(this.u==a||this.G.Jc(a)))if(this.w=a.w,!a.lb&&this.G.Jc(a)&&3==this.g){try{var t=this.kc.zc(b)}catch(e){t=null}y(t)&&3==t.length?this.Cf(t,a):(this.a.debug("Bad POST response data returned"),this.sa(11))}else(a.lb||this.u==a)&&this.Hb(),U(b)||(t=this.kc.zc(b),this.dg(t,a))},r.Cf=function(a,b){0==a[0]?this.Bf(b):(this.he=a[1],0<(b=this.he-this.Sb)&&(a=a[2],this.a.debug(a+" bytes (in "+b+" arrays) are outstanding on the BackChannel"),this.Jg(a)&&!this.wa&&(this.wa=Ne(u(this.bg,this),6e3))))},r.Bf=function(a){if(this.a.debug("Server claims our backchannel is missing."),this.ia)this.a.debug("But we are currently starting the request.");else{if(this.u){if(!(this.u.qb+3e3<a.qb))return;this.Hb(),this.u.cancel(),this.u=null}else this.a.T("We do not have a BackChannel established");this.Qc(),xe(18)}},r.Jg=function(a){return 37500>a&&!this.Nf()&&0==this.Ha},r.$a=function(a){return this.Te?this.i?this.i.$a(a):a:null},r.bg=function(){null!=this.wa&&(this.wa=null,this.u.cancel(),this.u=null,this.Qc(),xe(19))},r.Hb=function(){null!=this.wa&&(c.clearTimeout(this.wa),this.wa=null)},r.Tc=function(a){this.a.debug("Request complete");var b=null;if(this.u==a){this.Hb(),this.u=null;var t=2}else{if(!this.G.Jc(a))return;b=a.la(),this.G.ze(a),t=1}if(this.w=a.w,0!=this.g)if(a.S)1==t?(function(a,b,t){Ee.dispatchEvent(new Ie(Ee,a,b,t))}(a.Da?a.Da.length:0,k()-a.qb,this.La),this.Dc()):this.Kd();else{var e=a.Hc();if(3==e||0==e&&0<this.w)this.a.debug("Not retrying due to error type");else{var n=this;if(this.a.debug(function(){return"Maybe retrying, last error: "+function(a,b){switch(a){case 0:return"Non-200 return code ("+b+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}}(e,n.w)}),1==t&&this.Yf(a)||2==t&&this.Qc())return;this.a.debug("Exceeded max number of retries")}switch(b&&0<b.length&&this.G.Re(b),this.a.debug("Error: HTTP request failed"),e){case 1:this.sa(5);break;case 4:this.sa(10);break;case 3:this.sa(6);break;default:this.sa(2)}}},r.Xd=function(a){var b=this.Ve+Math.floor(Math.random()*this.vg);return this.Ba()||(this.a.debug("Inactive channel"),b*=2),b*a},r.pc=function(a){if(this.ta&&(a=a.h)){var b=a.kb("X-Client-Wire-Protocol");b&&this.G.ld(b),this.aa&&((a=a.kb("X-HTTP-Session-Id"))?(this.Fe(a),this.hb.l(this.aa,a)):this.a.T("Missing X_HTTP_SESSION_ID in the handshake response"))}},r.dg=function(a,b){for(var t=this.i&&this.i.sc?[]:null,e=0;e<a.length;e++){var n=a[e];if(this.Sb=n[0],n=n[1],2==this.g)if("c"==n[0]){this.ra=n[1],this.na=this.$a(n[2]);var g=n[3];null!=g&&(this.tc=g,this.a.info("VER="+this.tc)),null!=(g=n[4])&&(this.De=g,this.a.info("SVER="+this.De)),null!=(n=n[5])&&"number"==typeof n&&0<n&&(this.Db=n*=1.5,this.a.info("backChannelRequestTimeoutMs_="+n)),this.pc(b),this.g=3,this.i&&this.i.wd(),this.Lg(b)}else"stop"!=n[0]&&"close"!=n[0]||this.sa(7);else 3==this.g&&("stop"==n[0]||"close"==n[0]?(t&&0!=t.length&&(this.i.sc(this,t),t.length=0),"stop"==n[0]?this.sa(7):this.disconnect()):"noop"!=n[0]&&(t?t.push(n):this.i&&this.i.ud(n)),this.Ha=0)}t&&0!=t.length&&this.i.sc(this,t)},r.Lg=function(a){this.md=this.Pd(this.na,this.K),a.lb?(this.a.debug("Upgrade the handshake request to a backchannel."),this.G.ze(a),a.tg(this.Db),this.u=a):this.Kd()},r.sa=function(a){if(this.a.info("Error code "+a),2==a){var b=null;this.i&&(b=null);var t=u(this.Pg,this);b||(b=new Qe("//www.google.com/images/cleardot.gif"),c.location&&"http"==c.location.protocol||b.tb("https"),b.Ub()),function(a,b){var t=new Se;t.debug("TestLoadImage: loading "+a);var e=new Image;e.onload=C(pn,t,e,"TestLoadImage: loaded",!0,b),e.onerror=C(pn,t,e,"TestLoadImage: error",!1,b),e.onabort=C(pn,t,e,"TestLoadImage: abort",!1,b),e.ontimeout=C(pn,t,e,"TestLoadImage: timeout",!1,b),c.setTimeout(function(){e.ontimeout&&e.ontimeout()},1e4),e.src=a}(b.toString(),t)}else xe(2);this.cg(a)},r.Pg=function(a){a?(this.a.info("Successfully pinged google.com"),xe(2)):(this.a.info("Failed to ping google.com"),xe(1))},r.cg=function(a){this.a.debug("HttpChannel: error - "+a),this.g=0,this.i&&this.i.td(a),this.qe(),this.qd()},r.qe=function(){if(this.g=0,this.w=-1,this.i){var a=this.G.la();if(0!=a.length||0!=this.M.length){var b=this;this.a.debug(function(){return"Number of undelivered maps, pending: "+a.length+", outgoing: "+b.M.length}),this.G.$e(),j(this.M),this.M.length=0}this.i.sd()}},r.Sd=function(a){return a=this.Cd(null,a),this.a.debug("GetForwardChannelUri: "+a),a},r.Pd=function(a,b){return a=this.Cd(this.fc()?a:null,b),this.a.debug("GetBackChannelUri: "+a),a},r.Cd=function(a,b){var t=function(a){return a instanceof Qe?a.clone():new Qe(a,void 0)}(b);if(""!=t.xa)a&&t.rb(a+"."+t.xa),t.sb(t.Ca);else{var e=c.location;t=function(a,b,t,e){var n=new Qe(null,void 0);return a&&n.tb(a),b&&n.rb(b),t&&n.sb(t),e&&n.ec(e),n}(e.protocol,a?a+"."+e.hostname:e.hostname,+e.port,b)}return this.gb&&G(this.gb,function(a,b){t.l(b,a)}),a=this.aa,b=this.Kc,a&&b&&t.l(a,b),t.l("VER",this.tc),this.Ya(t),t},r.Jb=function(a){if(a&&!this.gc)throw Error("Can't create secondary domain capable XhrIo object.");return(a=new mn(this.Xa)).Je(this.gc),a},r.Ba=function(){return!!this.i&&this.i.Ba()},r.fc=function(){return this.gc},(r=Tn.prototype).sc=null,r.wd=function(){},r.ud=function(){},r.td=function(){},r.sd=function(){},r.Ba=function(){return!0},r.Ue=function(){},r.$a=function(a){return a},Cn.prototype.cf=function(a,b){return new kn(a,b)},x(kn,zt),(r=kn.prototype).addEventListener=function(a,b,t,e){kn.L.addEventListener.call(this,a,b,t,e)},r.removeEventListener=function(a,b,t,e){kn.L.removeEventListener.call(this,a,b,t,e)},r.open=function(){this.b.Ee(this.vd),this.Og&&this.b.Hg(),this.b.connect(this.Qg,this.yb,this.Rc||void 0)},r.close=function(){this.b.disconnect()},r.send=function(a){if(h(a)){var b={};b.__data__=a,this.b.Zc(b)}else this.zg?((b={}).__data__=Ht(a),this.b.Zc(b)):this.b.Zc(a)},r.F=function(){this.b.Ee(null),delete this.vd,this.b.disconnect(),delete this.b,kn.L.F.call(this)},x(dd,Me),x(xn,Fe),x(In,Tn),In.prototype.wd=function(){we(this.b.s,"WebChannel opened on "+this.b.yb),this.b.dispatchEvent("a")},In.prototype.ud=function(a){this.b.dispatchEvent(new dd(a))},In.prototype.td=function(a){we(this.b.s,"WebChannel aborted on "+this.b.yb+" due to channel error: "+a),this.b.dispatchEvent(new xn(a))},In.prototype.sd=function(){we(this.b.s,"WebChannel closed on "+this.b.yb),this.b.dispatchEvent("b")};var Nn=C(function(a,b){function t(){}t.prototype=a.prototype;var e=new t;return a.apply(e,Array.prototype.slice.call(arguments,1)),e},Cn);function Dn(){this.V=[],this.Z=[]}function An(a,b){if(D.call(this),this.oe=a||0,this.Wb=b||10,this.oe>this.Wb)throw Error(On);this.fa=new Dn,this.oa=new sn,this.Ac=0,this.Nc=null,this.Cb()}(r=Dn.prototype).Vf=function(){0==this.V.length&&(this.V=this.Z,this.V.reverse(),this.Z=[])},r.enqueue=function(a){this.Z.push(a)},r.ab=function(){return this.Vf(),this.V.pop()},r.C=function(){return this.V.length+this.Z.length},r.X=function(){return 0==this.V.length&&0==this.Z.length},r.clear=function(){this.V=[],this.Z=[]},r.contains=function(a){return 0<=P(this.V,a)||0<=P(this.Z,a)},r.remove=function(a){var b=this.V,t=R(b,a);return 0<=t?(Array.prototype.splice.call(b,t,1),b=!0):b=!1,b||B(this.Z,a)},r.H=function(){for(var a=[],b=this.V.length-1;0<=b;--b)a.push(this.V[b]);var t=this.Z.length;for(b=0;b<t;++b)a.push(this.Z[b]);return a},x(An,D);var On="[goog.structs.Pool] Min can not be greater than max";function Pn(a,b){this.fe=a,this.gd=b}function Rn(a){this.Y=[],a&&this.Lf(a)}function Ln(){Rn.call(this)}function Mn(a,b){this.Gd=void 0,this.cc=new Ln,An.call(this,a,b)}function Fn(a,b,t,e){this.Jf=a,this.Ab=!!e,Mn.call(this,b,t)}(r=An.prototype).Mb=function(){var a=k();if(!(null!=this.Nc&&a-this.Nc<this.Ac)){var b=this.qg();return b&&(this.Nc=a,this.oa.add(b)),b}},r.og=function(a){return!!this.oa.remove(a)&&(this.nc(a),!0)},r.qg=function(){for(var a;0<this.Td()&&(a=this.fa.ab(),!this.Sc(a));)this.Cb();return!a&&this.C()<this.Wb&&(a=this.xc()),a},r.nc=function(a){this.oa.remove(a),this.Sc(a)&&this.C()<this.Wb?this.fa.enqueue(a):this.Bc(a)},r.Cb=function(){for(var a=this.fa;this.C()<this.oe;)a.enqueue(this.xc());for(;this.C()>this.Wb&&0<this.Td();)this.Bc(a.ab())},r.xc=function(){return{}},r.Bc=function(a){if("function"==typeof a.bb)a.bb();else for(var b in a)a[b]=null},r.Sc=function(a){return"function"!=typeof a.Ye||a.Ye()},r.contains=function(a){return this.fa.contains(a)||this.oa.contains(a)},r.C=function(){return this.fa.C()+this.oa.C()},r.rf=function(){return this.oa.C()},r.Td=function(){return this.fa.C()},r.X=function(){return this.fa.X()&&this.oa.X()},r.F=function(){if(An.L.F.call(this),0<this.rf())throw Error("[goog.structs.Pool] Objects not released");delete this.oa;for(var a=this.fa;!a.X();)this.Bc(a.ab());delete this.fa},Pn.prototype.getKey=function(){return this.fe},Pn.prototype.clone=function(){return new Pn(this.fe,this.gd)},(r=Rn.prototype).ce=function(a,b){var t=this.Y;t.push(new Pn(a,b)),this.$f(t.length-1)},r.Lf=function(a){if(a instanceof Rn){var b=a.W();if(a=a.H(),0>=this.C()){for(var t=this.Y,e=0;e<b.length;e++)t.push(new Pn(b[e],a[e]));return}}else b=X(a),a=Y(a);for(e=0;e<b.length;e++)this.ce(b[e],a[e])},r.remove=function(){var a=this.Y,b=a.length,t=a[0];if(!(0>=b))return 1==b?F(a):(a[0]=a.pop(),this.Zf()),t.gd},r.Zf=function(){for(var a=0,b=this.Y,t=b.length,e=b[a];a<t>>1;){var n=this.tf(a),g=this.zf(a);if(n=g<t&&b[g].getKey()<b[n].getKey()?g:n,b[n].getKey()>e.getKey())break;b[a]=b[n],a=n}b[a]=e},r.$f=function(a){for(var b=this.Y,t=b[a];0<a;){var e=this.wf(a);if(!(b[e].getKey()>t.getKey()))break;b[a]=b[e],a=e}b[a]=t},r.tf=function(a){return 2*a+1},r.zf=function(a){return 2*a+2},r.wf=function(a){return a-1>>1},r.H=function(){for(var a=this.Y,b=[],t=a.length,e=0;e<t;e++)b.push(a[e].gd);return b},r.W=function(){for(var a=this.Y,b=[],t=a.length,e=0;e<t;e++)b.push(a[e].getKey());return b},r.va=function(a){return M(this.Y,function(b){return b.getKey()==a})},r.clone=function(){return new Rn(this)},r.C=function(){return this.Y.length},r.X=function(){return 0==this.Y.length},r.clear=function(){F(this.Y)},x(Ln,Rn),Ln.prototype.enqueue=function(a,b){this.ce(a,b)},Ln.prototype.ab=function(){return this.remove()},x(Mn,An),(r=Mn.prototype).Mb=function(a,b){if(!a)return(a=Mn.L.Mb.call(this))&&this.Ac&&(this.Gd=c.setTimeout(u(this.Nb,this),this.Ac)),a;this.cc.enqueue(void 0!==b?b:100,a),this.Nb()},r.Nb=function(){for(var a=this.cc;0<a.C();){var b=this.Mb();if(!b)break;a.ab().apply(this,[b])}},r.nc=function(a){Mn.L.nc.call(this,a),this.Nb()},r.Cb=function(){Mn.L.Cb.call(this),this.Nb()},r.F=function(){Mn.L.F.call(this),c.clearTimeout(this.Gd),this.cc.clear(),this.cc=null},x(Fn,Mn),Fn.prototype.xc=function(){var a=new mn,b=this.Jf;return b&&b.forEach(function(b,t){a.headers.set(t,b)}),this.Ab&&a.Je(!0),a},Fn.prototype.Sc=function(a){return!a.Ka&&!a.Ba()},Cn.prototype.createWebChannel=Cn.prototype.cf,kn.prototype.send=kn.prototype.send,kn.prototype.open=kn.prototype.open,kn.prototype.close=kn.prototype.close,De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,Ae.COMPLETE="complete",Pe.EventType=Le,Le.OPEN="a",Le.CLOSE="b",Le.ERROR="c",Le.MESSAGE="d",zt.prototype.listen=zt.prototype.nb,Fn.prototype.getObject=Fn.prototype.Mb,Fn.prototype.releaseObject=Fn.prototype.og,mn.prototype.listenOnce=mn.prototype.Oc,mn.prototype.getLastError=mn.prototype.Hc,mn.prototype.getLastErrorCode=mn.prototype.Ud,mn.prototype.getStatus=mn.prototype.za,mn.prototype.getStatusText=mn.prototype.Yd,mn.prototype.getResponseJson=mn.prototype.yf,mn.prototype.getResponseText=mn.prototype.ya,mn.prototype.getResponseText=mn.prototype.ya,mn.prototype.send=mn.prototype.send;var Bn={createWebChannelTransport:Nn,ErrorCode:De,EventType:Ae,WebChannel:Pe,XhrIoPool:Fn},Vn=Bn.createWebChannelTransport,qn=Bn.ErrorCode,jn=Bn.EventType,Un=Bn.WebChannel,Wn=Bn.XhrIoPool;e.default=Bn}.call(this,n(15))},273:function(t,e,n){"use strict";n(274)},274:function(t,e,n){"use strict";(function(r){Object.defineProperty(e,"__esModule",{value:!0});var o,l,c=n(118),h=n(119),d=n(275),f=(o=n(0))&&"object"==typeof o&&"default"in o?o.default:o,m=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),c.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:c.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),y=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return c.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),v=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new m(e)}}catch(t){}return new y},w=v("localStorage"),_=v("sessionStorage"),S=new h.Logger("@firebase/database"),E=(l=1,function(){return l++}),T=function(t){var e=c.stringToByteArray(t),n=new c.Sha1;n.update(e);var r=n.digest();return c.base64.encodeByteArray(r)},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",i=0;i<t.length;i++)Array.isArray(t[i])||t[i]&&"object"==typeof t[i]&&"number"==typeof t[i].length?n+=C.apply(null,t[i]):"object"==typeof t[i]?n+=c.stringify(t[i]):n+=t[i],n+=" ";return n},k=null,x=!0,I=function(t,e){c.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(S.logLevel=h.LogLevel.VERBOSE,k=S.log.bind(S),e&&_.set("logging_enabled",!0)):"function"==typeof t?k=t:(k=null,_.remove("logging_enabled"))},N=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===x&&(x=!1,null===k&&!0===_.get("logging_enabled")&&I(!0)),k){var n=C.apply(null,t);k(n)}},D=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];N.apply(void 0,[t].concat(e))}},A=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+C.apply(void 0,t);S.error(n)},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+C.apply(void 0,t);throw S.error(n),new Error(n)},P=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+C.apply(void 0,t);S.warn(n)},R=function(data){return"number"==typeof data&&(data!=data||data==Number.POSITIVE_INFINITY||data==Number.NEGATIVE_INFINITY)},L="[MIN_NAME]",M="[MAX_NAME]",F=function(a,b){if(a===b)return 0;if(a===L||b===M)return-1;if(b===L||a===M)return 1;var t=H(a),e=H(b);return null!==t?null!==e?t-e==0?a.length-b.length:t-e:-1:null!==e?1:a<b?-1:1},B=function(a,b){return a===b?0:a<b?-1:1},V=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+c.stringify(e))},j=function(t){if("object"!=typeof t||null===t)return c.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=c.stringify(e[i]),r+=":",r+=j(t[e[i]]);return r+="}"},U=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],o=0;o<n;o+=e)o+e>n?r.push(t.substring(o,n)):r.push(t.substring(o,o+e));return r},W=function(t,e){if(Array.isArray(t))for(var i=0;i<t.length;++i)e(i,t[i]);else c.forEach(t,function(t,n){return e(n,t)})},$=function(t){c.assert(!R(t),"Invalid JSON number");var s,e,n,r,i,o,l;for(0===t?(e=0,n=0,s=1/t==-1/0?1:0):(s=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(e=(r=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,n=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(e=0,n=Math.round(t/Math.pow(2,-1074)))),o=[],i=52;i;i-=1)o.push(n%2?1:0),n=Math.floor(n/2);for(i=11;i;i-=1)o.push(e%2?1:0),e=Math.floor(e/2);o.push(s?1:0),o.reverse(),l=o.join("");var h="";for(i=0;i<64;i+=8){var d=parseInt(l.substr(i,8),2).toString(16);1===d.length&&(d="0"+d),h+=d}return h.toLowerCase()},z=new RegExp("^-?\\d{1,10}$"),H=function(t){if(z.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},K=function(t){try{t()}catch(t){setTimeout(function(){var e=t.stack||"";throw P("Exception was thrown by user callback.",e),t},Math.floor(0))}},Q=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},G=function(t,time){var e=setTimeout(t,time);return"object"==typeof e&&e.unref&&e.unref(),e},Y=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",i=this.pieceNum_;i<this.pieces_.length;i++)""!==this.pieces_[i]&&(t+="/"+this.pieces_[i]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",i=this.pieceNum_;i<this.pieces_.length;i++)""!==this.pieces_[i]&&(t+="/"+encodeURIComponent(String(this.pieces_[i])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],i=this.pieceNum_;i<this.pieces_.length-1;i++)e.push(this.pieces_[i]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],i=this.pieceNum_;i<this.pieces_.length;i++)n.push(this.pieces_[i]);if(e instanceof t)for(i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{var r=e.split("/");for(i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),o=n.getFront();if(null===r)return n;if(r===o)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=F(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var i=this.pieceNum_,e=t.pieceNum_;i<=this.pieces_.length;i++,e++)if(this.pieces_[i]!==t.pieces_[e])return!1;return!0},t.prototype.contains=function(t){var i=this.pieceNum_,e=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;i<this.pieces_.length;){if(this.pieces_[i]!==t.pieces_[e])return!1;++i,++e}return!0},t}(),X=function(){function t(path,t){this.errorPrefix_=t,this.parts_=path.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var i=0;i<this.parts_.length;i++)this.byteLength_+=c.stringLength(this.parts_[i]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=c.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=c.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),J="long_polling",Z=function(){function t(t,e,n,r,o){void 0===o&&(o=""),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=w.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&w.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(c.assert("string"==typeof t,"typeof type must == string"),c.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==J)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return c.forEach(e,function(t,e){r.push(t+"="+e)}),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}();var tt,et,nt,it,ot,at=function(t){var e=st(t),n=e.subdomain;"firebase"===e.domain&&O(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===e.domain||O("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&P("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var r="ws"===e.scheme||"wss"===e.scheme;return{repoInfo:new Z(e.host,e.secure,n,r),path:new Y(e.pathString)}},st=function(t){var e="",n="",r="",o="",l=!0,c="https",h=443;if("string"==typeof t){var d=t.indexOf("//");d>=0&&(c=t.substring(0,d-1),t=t.substring(d+2));var f=t.indexOf("/");-1===f&&(f=t.length);var m=t.indexOf("?");-1===m&&(m=t.length),e=t.substring(0,Math.min(f,m)),f<m&&(o=function(t){for(var e="",n=t.split("/"),i=0;i<n.length;i++)if(n[i].length>0){var r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(t){}e+="/"+r}return e}(t.substring(f,m)));var y=function(t){var e={};"?"===t.charAt(0)&&(t=t.substring(1));for(var n=0,r=t.split("&");n<r.length;n++){var o=r[n];if(0!==o.length){var l=o.split("=");2===l.length?e[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):P("Invalid query segment '"+o+"' in query '"+t+"'")}}return e}(t.substring(Math.min(t.length,m)));(d=e.indexOf(":"))>=0?(l="https"===c||"wss"===c,h=parseInt(e.substring(d+1),10)):d=t.length;var v=e.split(".");3===v.length?(n=v[1],r=v[0].toLowerCase()):2===v.length?n=v[0]:"localhost"===v[0].slice(0,d).toLowerCase()&&(n="localhost"),""===r&&"ns"in y&&(r=y.ns)}return{host:e,port:h,domain:n,subdomain:r,secure:l,scheme:c,pathString:o}},ut=/[\[\].#$\/\u0000-\u001F\u007F]/,lt=/[\[\].#$\u0000-\u001F\u007F]/,ct=function(t){return"string"==typeof t&&0!==t.length&&!ut.test(t)},ht=function(t){return"string"==typeof t&&0!==t.length&&!lt.test(t)},ft=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!R(t)||t&&"object"==typeof t&&c.contains(t,".sv")},pt=function(t,e,data,path,n){n&&void 0===data||gt(c.errorPrefix(t,e,n),data,path)},gt=function(t,data,e){var path=e instanceof Y?new X(e,t):e;if(void 0===data)throw new Error(t+"contains undefined "+path.toErrorString());if("function"==typeof data)throw new Error(t+"contains a function "+path.toErrorString()+" with contents = "+data.toString());if(R(data))throw new Error(t+"contains "+data.toString()+" "+path.toErrorString());if("string"==typeof data&&data.length>10485760/3&&c.stringLength(data)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+path.toErrorString()+" ('"+data.substring(0,50)+"...')");if(data&&"object"==typeof data){var n=!1,r=!1;if(c.forEach(data,function(e,o){if(".value"===e)n=!0;else if(".priority"!==e&&".sv"!==e&&(r=!0,!ct(e)))throw new Error(t+" contains an invalid key ("+e+") "+path.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');path.push(e),gt(t,o,path),path.pop()}),n&&r)throw new Error(t+' contains ".value" child '+path.toErrorString()+" in addition to actual children.")}},mt=function(t,e,data,path,n){if(!n||void 0!==data){var r=c.errorPrefix(t,e,n);if(!data||"object"!=typeof data||Array.isArray(data))throw new Error(r+" must be an object containing the children to replace.");var o=[];c.forEach(data,function(t,e){var n=new Y(t);if(gt(r,e,path.child(n)),".priority"===n.getBack()&&!ft(e))throw new Error(r+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(n)}),function(t,e){var i,n;for(i=0;i<e.length;i++)for(var r=(n=e[i]).slice(),o=0;o<r.length;o++)if(".priority"===r[o]&&o===r.length-1);else if(!ct(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+n.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Y.comparePaths);var l=null;for(i=0;i<e.length;i++){if(n=e[i],null!==l&&l.contains(n))throw new Error(t+"contains a path "+l.toString()+" that is ancestor of another path "+n.toString());l=n}}(r,o)}},bt=function(t,e,n,r){if(!r||void 0!==n){if(R(n))throw new Error(c.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ft(n))throw new Error(c.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},yt=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(c.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},vt=function(t,e,n,r){if(!(r&&void 0===n||ct(n)))throw new Error(c.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},wt=function(t,e,n,r){if(!(r&&void 0===n||ht(n)))throw new Error(c.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},_t=function(t,path){if(".info"===path.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},St=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!ct(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ht(t)}(r))throw new Error(c.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Et=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){c.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),c.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new c.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){c.validateArgCount("OnDisconnect.remove",0,1,arguments.length),_t("OnDisconnect.remove",this.path_),c.validateCallback("OnDisconnect.remove",1,t,!0);var e=new c.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){c.validateArgCount("OnDisconnect.set",1,2,arguments.length),_t("OnDisconnect.set",this.path_),pt("OnDisconnect.set",1,t,this.path_,!1),c.validateCallback("OnDisconnect.set",2,e,!0);var n=new c.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){c.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),_t("OnDisconnect.setWithPriority",this.path_),pt("OnDisconnect.setWithPriority",1,t,this.path_,!1),bt("OnDisconnect.setWithPriority",2,e,!1),c.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new c.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(c.validateArgCount("OnDisconnect.update",1,2,arguments.length),_t("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,P("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}mt("OnDisconnect.update",1,t,this.path_,!1),c.validateCallback("OnDisconnect.update",2,e,!0);var r=new c.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,r.wrapCallback(e)),r.promise},t}(),Tt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return c.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Ct=(tt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",et=0,nt=[],function(t){var i,e=t===et;et=t;var n=new Array(8);for(i=7;i>=0;i--)n[i]=tt.charAt(t%64),t=Math.floor(t/64);c.assert(0===t,"Cannot push at time == 0");var r=n.join("");if(e){for(i=11;i>=0&&63===nt[i];i--)nt[i]=0;nt[i]++}else for(i=0;i<12;i++)nt[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)r+=tt.charAt(nt[i]);return c.assert(20===r.length,"nextPushId: Length should be 20."),r}),kt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),xt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new kt(L,t),r=new kt(L,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return kt.MIN},t}(),It=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return it},set:function(t){it=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(a,b){return F(a.name,b.name)},e.prototype.isDefinedOn=function(t){throw c.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return kt.MIN},e.prototype.maxPost=function(){return new kt(M,it)},e.prototype.makePost=function(t,e){return c.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new kt(t,it)},e.prototype.toString=function(){return".key"},e}(xt),Nt=new It;var Dt,At,Ot,Pt=function(t){return"number"==typeof t?"number:"+$(t):"string:"+t},Rt=function(t){if(t.isLeafNode()){var e=t.val();c.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&c.contains(e,".sv"),"Priority must be a string or number.")}else c.assert(t===ot||t.isEmpty(),"priority of unexpected type.");c.assert(t===ot||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Lt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,c.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Rt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Dt},set:function(t){Dt=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(path){return path.isEmpty()?this:".priority"===path.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(path,e){var n=path.getFront();return null===n?e:e.isEmpty()&&".priority"!==n?this:(c.assert(".priority"!==n||1===path.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(n,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(path.popFront(),e)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Pt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?$(this.value_):this.value_,this.lazyHash_=T(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(c.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(n),l=t.VALUE_TYPE_ORDER.indexOf(r);return c.assert(o>=0,"Unknown leaf type: "+n),c.assert(l>=0,"Unknown leaf type: "+r),o===l?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-o},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var Mt,Ft,Bt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d.__extends(e,t),e.prototype.compare=function(a,b){var t=a.node.getPriority(),e=b.node.getPriority(),n=t.compareTo(e);return 0===n?F(a.name,b.name):n},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return kt.MIN},e.prototype.maxPost=function(){return new kt(M,new Lt("[PRIORITY-POST]",Ot))},e.prototype.makePost=function(t,e){var n=At(t);return new kt(e,new Lt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(xt)),Vt=function(){function t(t,e,n,r,o){void 0===o&&(o=null),this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];for(var l=1;!t.isEmpty();)if(t=t,l=e?n(t.key,e):1,r&&(l*=-1),l<0)t=this.isReverse_?t.left:t.right;else{if(0===l){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),qt=function(){function t(e,n,r,o,l){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=o?o:Ut.EMPTY_NODE,this.right=null!=l?l:Ut.EMPTY_NODE}return t.prototype.copy=function(e,n,r,o,l){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r,o;return(o=(r=n(t,(o=this).key))<0?o.copy(null,null,null,o.left.insert(t,e,n),null):0===r?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Ut.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Ut.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),jt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,o){return this},t.prototype.insert=function(t,e,n){return new qt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Ut=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,qt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,qt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Vt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Vt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Vt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Vt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new jt,t}(),Wt=Math.log(2),$t=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/Wt,10)),this.current_=this.count-1;var n,mask=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&mask}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),zt=function(t,e,n,r){t.sort(e);var o=function(e,r){var l,c,h=r-e;if(0==h)return null;if(1==h)return l=t[e],c=n?n(l):l,new qt(c,l.node,qt.BLACK,null,null);var d=parseInt(h/2,10)+e,f=o(e,d),m=o(d+1,r);return l=t[d],c=n?n(l):l,new qt(c,l.node,qt.BLACK,f,m)},l=function(e){for(var r=null,l=null,c=t.length,h=function(e,r){var l=c-e,h=c;c-=e;var f=o(l+1,h),m=t[l],y=n?n(m):m;d(new qt(y,m.node,r,null,f))},d=function(t){r?(r.left=t,r=t):(l=t,r=t)},i=0;i<e.count;++i){var f=e.nextBitIsOne(),m=Math.pow(2,e.count-(i+1));f?h(m,qt.BLACK):(h(m,qt.BLACK),h(m,qt.RED))}return l}(new $t(t.length));return new Ut(r||e,l)},Ht={},Kt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return c.assert(Ht&&Bt,"ChildrenNode.ts has not been loaded"),Mt=Mt||new t({".priority":Ht},{".priority":Bt})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=c.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e===Ht?null:e},t.prototype.hasIndex=function(t){return c.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){c.assert(e!==Nt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,o=[],l=!1,h=n.getIterator(kt.Wrap),d=h.getNext();d;)l=l||e.isDefinedOn(d.node),o.push(d),d=h.getNext();r=l?zt(o,e.getCompare()):Ht;var f=e.toString(),m=c.clone(this.indexSet_);m[f]=e;var y=c.clone(this.indexes_);return y[f]=r,new t(y,m)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(c.map(this.indexes_,function(t,o){var l=c.safeGet(r.indexSet_,o);if(c.assert(l,"Missing index implementation for "+o),t===Ht){if(l.isDefinedOn(e.node)){for(var h=[],d=n.getIterator(kt.Wrap),f=d.getNext();f;)f.name!=e.name&&h.push(f),f=d.getNext();return h.push(e),zt(h,l.getCompare())}return Ht}var m=n.get(e.name),y=t;return m&&(y=y.remove(new kt(e.name,m))),y.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(c.map(this.indexes_,function(t){if(t===Ht)return t;var r=n.get(e.name);return r?t.remove(new kt(e.name,r)):t}),this.indexSet_)},t}();function Qt(t,e){return F(t.name,e.name)}function Gt(t,e){return F(t,e)}var Yt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Rt(this.priorityNode_),this.children_.isEmpty()&&c.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Ft||(Ft=new t(new Ut(Gt),null,Kt.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Ft},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Ft:e},t.prototype.getChild=function(path){var t=path.getFront();return null===t?this:this.getImmediateChild(t).getChild(path.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(c.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r,o=new kt(e,n),l=void 0,h=void 0;return n.isEmpty()?(l=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(e,n),h=this.indexMap_.addToIndexes(o,this.children_)),r=l.isEmpty()?Ft:this.priorityNode_,new t(l,r,h)},t.prototype.updateChild=function(path,t){var e=path.getFront();if(null===e)return t;c.assert(".priority"!==path.getFront()||1===path.getLength(),".priority must be the last token in a path");var n=this.getImmediateChild(e).updateChild(path.popFront(),t);return this.updateImmediateChild(e,n)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,o=0,l=!0;if(this.forEachChild(Bt,function(c,h){n[c]=h.val(e),r++,l&&t.INTEGER_REGEXP_.test(c)?o=Math.max(o,Number(c)):l=!1}),!e&&l&&o<2*r){var c=[];for(var h in n)c[h]=n[h];return c}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Pt(this.getPriority().val())+":"),this.forEachChild(Bt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":T(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var o=r.getPredecessorKey(new kt(t,e));return o?o.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new kt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new kt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,kt.Wrap),o=r.peek();null!=o&&e.compare(o,t)<0;)r.getNext(),o=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,kt.Wrap),o=r.peek();null!=o&&e.compare(o,t)>0;)r.getNext(),o=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Xt?-1:0},t.prototype.withIndex=function(e){if(e===Nt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Nt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Bt),r=e.getIterator(Bt),o=n.getNext(),l=r.getNext();o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=n.getNext(),l=r.getNext()}return null===o&&null===l}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Nt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Xt=new(function(t){function e(){return t.call(this,new Ut(Gt),Yt.EMPTY_NODE,Kt.Default)||this}return d.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Yt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Yt));Object.defineProperties(kt,{MIN:{value:new kt(L,Yt.EMPTY_NODE)},MAX:{value:new kt(M,Xt)}}),It.__EMPTY_NODE=Yt.EMPTY_NODE,Lt.__childrenNodeConstructor=Yt,ot=Xt,function(t){Ot=t}(Xt);var Jt=!0;function Zt(t,e){if(void 0===e&&(e=null),null===t)return Yt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),c.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Lt(t,Zt(e));if(t instanceof Array||!Jt){var n=Yt.EMPTY_NODE,r=t;return c.forEach(r,function(t,e){if(c.contains(r,t)&&"."!==t.substring(0,1)){var o=Zt(e);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(t,o))}}),n.updatePriority(Zt(e))}var o=[],l=!1,h=t;if(c.forEach(h,function(t,e){if("string"!=typeof t||"."!==t.substring(0,1)){var n=Zt(h[t]);n.isEmpty()||(l=l||!n.getPriority().isEmpty(),o.push(new kt(t,n)))}}),0==o.length)return Yt.EMPTY_NODE;var d=zt(o,Qt,function(t){return t.name},Gt);if(l){var f=zt(o,Bt.getCompare());return new Yt(d,Zt(e),new Kt({".priority":f},{".priority":Bt}))}return new Yt(d,Zt(e),Kt.Default)}!function(t){At=t}(Zt);var te,ee,ne=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d.__extends(e,t),e.prototype.compare=function(a,b){var t=a.node.compareTo(b.node);return 0===t?F(a.name,b.name):t},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return kt.MIN},e.prototype.maxPost=function(){return kt.MAX},e.prototype.makePost=function(t,e){var n=Zt(t);return new kt(e,n)},e.prototype.toString=function(){return".value"},e}(xt)),re=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,c.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return d.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(a,b){var t=this.extractChild(a.node),e=this.extractChild(b.node),n=t.compareTo(e);return 0===n?F(a.name,b.name):n},e.prototype.makePost=function(t,e){var n=Zt(t),r=Yt.EMPTY_NODE.updateChild(this.indexPath_,n);return new kt(e,r)},e.prototype.maxPost=function(){var t=Yt.EMPTY_NODE.updateChild(this.indexPath_,Xt);return new kt(M,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(xt),ie=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return c.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return c.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return c.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return c.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){c.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),wt("DataSnapshot.child",1,e,!1);var n=new Y(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Bt)},t.prototype.hasChild=function(t){c.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),wt("DataSnapshot.hasChild",1,t,!1);var e=new Y(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return c.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;return c.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),c.validateCallback("DataSnapshot.forEach",1,e,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,o){return e(new t(o,n.ref_.child(r),Bt))})},t.prototype.hasChildren=function(){return c.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return c.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return c.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),oe=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+c.stringify(this.snapshot.exportVal())},t}(),ae=function(){function t(t,e,path){this.eventRegistration=t,this.error=e,this.path=path}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),se=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new oe("value",this,new ie(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){c.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,path){return this.cancelCallback_?new ae(this,t,path):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),ue=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,c.contains(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,path){return this.cancelCallback_?new ae(this,t,path):null},t.prototype.createEvent=function(t,e){c.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new oe(t.type,this,new ie(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){c.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var n=c.getCount(e.callbacks_);if(n===c.getCount(this.callbacks_)){if(1===n){var r=c.getAnyKey(e.callbacks_),o=c.getAnyKey(this.callbacks_);return!(o!==r||e.callbacks_[r]&&this.callbacks_[o]&&e.callbacks_[r]!==this.callbacks_[o])}return c.every(this.callbacks_,function(t,n){return e.callbacks_[t]===n})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),le=function(){function t(t,path,e,n){this.repo=t,this.path=path,this.queryParams_=e,this.orderByCalled_=n}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return c.assert(te,"Reference.ts has not been loaded"),te},set:function(t){te=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Nt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=L)throw new Error(r);if("string"!=typeof e)throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!=M)throw new Error(r);if("string"!=typeof n)throw new Error(o)}}else if(t.getIndex()===Bt){if(null!=e&&!ft(e)||null!=n&&!ft(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(c.assert(t.getIndex()instanceof re||t.getIndex()===ne,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return c.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,o){c.validateArgCount("Query.on",2,4,arguments.length),yt("Query.on",1,e,!1),c.validateCallback("Query.on",2,n,!1);var l=t.getCancelAndContextArgs_("Query.on",r,o);if("value"===e)this.onValueEvent(n,l.cancel,l.context);else{var h={};h[e]=n,this.onChildEvent(h,l.cancel,l.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new se(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new ue(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){c.validateArgCount("Query.off",0,3,arguments.length),yt("Query.off",1,t,!0),c.validateCallback("Query.off",2,e,!0),c.validateContextObject("Query.off",3,n,!0);var r=null,o=null;"value"===t?r=new se(e||null,null,n||null):t&&(e&&((o={})[t]=e),r=new ue(o,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,o){var l=this;c.validateArgCount("Query.once",1,4,arguments.length),yt("Query.once",1,e,!1),c.validateCallback("Query.once",2,n,!0);var h=t.getCancelAndContextArgs_("Query.once",r,o),d=!0,f=new c.Deferred;f.promise.catch(function(){});var m=function(t){d&&(d=!1,l.off(e,m),n&&n.bind(h.context)(t),f.resolve(t))};return this.on(e,m,function(t){l.off(e,m),h.cancel&&h.cancel.bind(h.context)(t),f.reject(t)}),f.promise},t.prototype.limitToFirst=function(e){if(c.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(c.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(path){if(c.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===path)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===path)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===path)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');wt("Query.orderByChild",1,path,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var e=new Y(path);if(e.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var n=new re(e),r=this.queryParams_.orderBy(n);return t.validateQueryEndpoints_(r),new t(this.repo,this.path,r,!0)},t.prototype.orderByKey=function(){c.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Nt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){c.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Bt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){c.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(ne);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),c.validateArgCount("Query.startAt",0,2,arguments.length),pt("Query.startAt",1,e,this.path,!0),vt("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),c.validateArgCount("Query.endAt",0,2,arguments.length),pt("Query.endAt",1,e,this.path,!0),vt("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(c.validateArgCount("Query.equalTo",1,2,arguments.length),pt("Query.equalTo",1,t,this.path,!1),vt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return c.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return c.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=j(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(c.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}var n=this.repo===e.repo,r=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return n&&r&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,c.validateCallback(t,3,r.cancel,!0),r.context=n,c.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(c.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),ce=function(){function t(){this.set={}}return t.prototype.add=function(t,e){this.set[t]=null===e||e},t.prototype.contains=function(t){return c.contains(this.set,t)},t.prototype.get=function(t){return this.contains(t)?this.set[t]:void 0},t.prototype.remove=function(t){delete this.set[t]},t.prototype.clear=function(){this.set={}},t.prototype.isEmpty=function(){return c.isEmpty(this.set)},t.prototype.count=function(){return c.getCount(this.set)},t.prototype.each=function(t){c.forEach(this.set,function(e,n){return t(e,n)})},t.prototype.keys=function(){var t=[];return c.forEach(this.set,function(e){t.push(e)}),t},t}(),he=function(){function t(){this.value_=null,this.children_=null}return t.prototype.find=function(path){if(null!=this.value_)return this.value_.getChild(path);if(path.isEmpty()||null==this.children_)return null;var t=path.getFront();return path=path.popFront(),this.children_.contains(t)?this.children_.get(t).find(path):null},t.prototype.remember=function(path,data){if(path.isEmpty())this.value_=data,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(path,data);else{null==this.children_&&(this.children_=new ce);var e=path.getFront();this.children_.contains(e)||this.children_.add(e,new t);var n=this.children_.get(e);path=path.popFront(),n.remember(path,data)}},t.prototype.forget=function(path){if(path.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var t=this.value_;this.value_=null;var e=this;return t.forEachChild(Bt,function(t,n){e.remember(new Y(t),n)}),this.forget(path)}if(null!==this.children_){var n=path.getFront();if(path=path.popFront(),this.children_.contains(n))this.children_.get(n).forget(path)&&this.children_.remove(n);return!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},t.prototype.forEachTree=function(t,e){null!==this.value_?e(t,this.value_):this.forEachChild(function(n,r){var path=new Y(t.toString()+"/"+n);r.forEachTree(path,e)})},t.prototype.forEachChild=function(t){null!==this.children_&&this.children_.each(function(e,n){t(e,n)})},t}(),de=function(t,e){return t&&"object"==typeof t?(c.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},fe=function(t,e){var n,r=t.getPriority().val(),o=de(r,e);if(t.isLeafNode()){var l=t,c=de(l.getValue(),e);return c!==l.getValue()||o!==l.getPriority().val()?new Lt(c,Zt(o)):t}var h=t;return n=h,o!==h.getPriority().val()&&(n=n.updatePriority(new Lt(o))),h.forEachChild(Bt,function(t,r){var o=fe(r,e);o!==r&&(n=n.updateImmediateChild(t,o))}),n};!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ee||(ee={}));var pe,ge,me=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,c.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),be=function(){function t(path,t,e){this.path=path,this.affectedTree=t,this.revert=e,this.type=ee.ACK_USER_WRITE,this.source=me.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return c.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Y(e));return new t(Y.Empty,n,this.revert)}return c.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),ye=function(){return pe||(pe=new Ut(B)),pe},ve=function(){function t(t,e){void 0===e&&(e=ye()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return c.forEach(e,function(t,e){n=n.set(new Y(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:Y.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var o=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=o?{path:new Y(n).child(o.path),value:o.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),o=(this.children.get(r)||t.Empty).set(e.popFront(),n),l=this.children.insert(r,o);return new t(this.value,l)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var o=r.remove(e.popFront()),l=void 0;return l=o.isEmpty()?this.children.remove(n):this.children.insert(n,o),null===this.value&&l.isEmpty()?t.Empty:new t(this.value,l)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),o=(this.children.get(r)||t.Empty).setTree(e.popFront(),n),l=void 0;return l=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new t(this.value,l)},t.prototype.fold=function(t){return this.fold_(Y.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,o){n[r]=o.fold_(t.child(r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(path,t){return this.findOnPath_(path,Y.Empty,t)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var o=t.getFront(),l=this.children.get(o);return l?l.findOnPath_(t.popFront(),e.child(o),n):null},t.prototype.foreachOnPath=function(path,t){return this.foreachOnPath_(path,Y.Empty,t)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var o=e.getFront(),l=this.children.get(o);return l?l.foreachOnPath_(e.popFront(),n.child(o),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(Y.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}(),we=function(){function t(source,path){this.source=source,this.path=path,this.type=ee.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Y.Empty):new t(this.source,this.path.popFront())},t}(),_e=function(){function t(source,path,t){this.source=source,this.path=path,this.snap=t,this.type=ee.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Y.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),Se=function(){function t(source,path,t){this.source=source,this.path=path,this.children=t,this.type=ee.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new Y(e));return n.isEmpty()?null:n.value?new _e(this.source,Y.Empty,n.value):new t(this.source,Y.Empty,n)}return c.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Ee=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(path){if(path.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=path.getFront();return this.isCompleteForChild(t)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Te=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new Ee(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new Ee(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new Ee(Yt.EMPTY_NODE,!1,!1),new Ee(Yt.EMPTY_NODE,!1,!1)),t}(),Ce=function(){function t(t,e,n,r,o){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=o}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),ke=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,source,o){c.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=t.getImmediateChild(e);return l.getChild(r).equals(n.getChild(r))&&l.isEmpty()==n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(Ce.childRemovedChange(e,l)):c.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Ce.childAddedChange(e,n)):o.trackChildChange(Ce.childChangedChange(e,n,l))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Bt,function(t,r){e.hasChild(t)||n.trackChildChange(Ce.childRemovedChange(t,r))}),e.isLeafNode()||e.forEachChild(Bt,function(e,r){if(t.hasChild(e)){var o=t.getImmediateChild(e);o.equals(r)||n.trackChildChange(Ce.childChangedChange(e,r,o))}else n.trackChildChange(Ce.childAddedChange(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Yt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),xe=function(){function t(){this.changeMap_={}}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;c.assert(e==Ce.CHILD_ADDED||e==Ce.CHILD_CHANGED||e==Ce.CHILD_REMOVED,"Only child changes supported for tracking"),c.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=c.safeGet(this.changeMap_,n);if(r){var o=r.type;if(e==Ce.CHILD_ADDED&&o==Ce.CHILD_REMOVED)this.changeMap_[n]=Ce.childChangedChange(n,t.snapshotNode,r.snapshotNode);else if(e==Ce.CHILD_REMOVED&&o==Ce.CHILD_ADDED)delete this.changeMap_[n];else if(e==Ce.CHILD_REMOVED&&o==Ce.CHILD_CHANGED)this.changeMap_[n]=Ce.childRemovedChange(n,r.oldSnap);else if(e==Ce.CHILD_CHANGED&&o==Ce.CHILD_ADDED)this.changeMap_[n]=Ce.childAddedChange(n,t.snapshotNode);else{if(e!=Ce.CHILD_CHANGED||o!=Ce.CHILD_CHANGED)throw c.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap_[n]=Ce.childChangedChange(n,t.snapshotNode,r.oldSnap)}}else this.changeMap_[n]=t},t.prototype.getChanges=function(){return c.getValues(this.changeMap_)},t}(),Ie=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Ne=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Ee(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),o=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===o.length?null:o[0]},t}(),De=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),Ae=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){c.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),c.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,o){var l,h,d=new xe;if(n.type===ee.OVERWRITE){var f=n;f.source.fromUser?l=this.applyUserOverwrite_(e,f.path,f.snap,r,o,d):(c.assert(f.source.fromServer,"Unknown source."),h=f.source.tagged||e.getServerCache().isFiltered()&&!f.path.isEmpty(),l=this.applyServerOverwrite_(e,f.path,f.snap,r,o,h,d))}else if(n.type===ee.MERGE){var m=n;m.source.fromUser?l=this.applyUserMerge_(e,m.path,m.children,r,o,d):(c.assert(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.getServerCache().isFiltered(),l=this.applyServerMerge_(e,m.path,m.children,r,o,h,d))}else if(n.type===ee.ACK_USER_WRITE){var y=n;l=y.revert?this.revertUserWrite_(e,y.path,r,o,d):this.ackUserWrite_(e,y.path,y.affectedTree,r,o,d)}else{if(n.type!==ee.LISTEN_COMPLETE)throw c.assertionError("Unknown operation type: "+n.type);l=this.listenComplete_(e,n.path,r,d)}var v=d.getChanges();return t.maybeAddValueEvent_(e,l,v),new De(l,v)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var o=r.getNode().isLeafNode()||r.getNode().isEmpty(),l=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||o&&!r.getNode().equals(l)||!r.getNode().getPriority().equals(l.getPriority()))&&n.push(Ce.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,source,r){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var l=void 0,h=void 0;if(e.isEmpty())if(c.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var d=t.getCompleteServerSnap(),f=d instanceof Yt?d:Yt.EMPTY_NODE,m=n.calcCompleteEventChildren(f);l=this.filter_.updateFullNode(t.getEventCache().getNode(),m,r)}else{var y=n.calcCompleteEventCache(t.getCompleteServerSnap());l=this.filter_.updateFullNode(t.getEventCache().getNode(),y,r)}else{var v=e.getFront();if(".priority"==v){c.assert(1==e.getLength(),"Can't have a priority with additional path components");var w=o.getNode();h=t.getServerCache().getNode();var _=n.calcEventCacheAfterServerOverwrite(e,w,h);l=null!=_?this.filter_.updatePriority(w,_):o.getNode()}else{var S=e.popFront(),E=void 0;if(o.isCompleteForChild(v)){h=t.getServerCache().getNode();var T=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),h);E=null!=T?o.getNode().getImmediateChild(v).updateChild(S,T):o.getNode().getImmediateChild(v)}else E=n.calcCompleteChild(v,t.getServerCache());l=null!=E?this.filter_.updateChild(o.getNode(),v,E,S,source,r):o.getNode()}}return t.updateEventSnap(l,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,o,l,c){var h,d=t.getServerCache(),f=l?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())h=f.updateFullNode(d.getNode(),n,null);else if(f.filtersNodes()&&!d.isFiltered()){var m=d.getNode().updateChild(e,n);h=f.updateFullNode(d.getNode(),m,null)}else{var y=e.getFront();if(!d.isCompleteForPath(e)&&e.getLength()>1)return t;var v=e.popFront(),w=d.getNode().getImmediateChild(y).updateChild(v,n);h=".priority"==y?f.updatePriority(d.getNode(),w):f.updateChild(d.getNode(),y,w,v,Ie,null)}var _=t.updateServerSnap(h,d.isFullyInitialized()||e.isEmpty(),f.filtersNodes()),source=new Ne(r,_,o);return this.generateEventCacheAfterServerEvent_(_,e,r,source,c)},t.prototype.applyUserOverwrite_=function(t,e,n,r,o,l){var c,h,d=t.getEventCache(),source=new Ne(r,t,o);if(e.isEmpty())h=this.filter_.updateFullNode(t.getEventCache().getNode(),n,l),c=t.updateEventSnap(h,!0,this.filter_.filtersNodes());else{var f=e.getFront();if(".priority"===f)h=this.filter_.updatePriority(t.getEventCache().getNode(),n),c=t.updateEventSnap(h,d.isFullyInitialized(),d.isFiltered());else{var m=e.popFront(),y=d.getNode().getImmediateChild(f),v=void 0;if(m.isEmpty())v=n;else{var w=source.getCompleteChild(f);v=null!=w?".priority"===m.getBack()&&w.getChild(m.parent()).isEmpty()?w:w.updateChild(m,n):Yt.EMPTY_NODE}if(y.equals(v))c=t;else{var _=this.filter_.updateChild(d.getNode(),f,v,m,source,l);c=t.updateEventSnap(_,d.isFullyInitialized(),this.filter_.filtersNodes())}}}return c},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,path,n,r,o,l){var c=this,h=e;return n.foreach(function(n,d){var f=path.child(n);t.cacheHasChild_(e,f.getFront())&&(h=c.applyUserOverwrite_(h,f,d,r,o,l))}),n.foreach(function(n,d){var f=path.child(n);t.cacheHasChild_(e,f.getFront())||(h=c.applyUserOverwrite_(h,f,d,r,o,l))}),h},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,path,e,n,r,o,l){var c=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var h,d=t;h=path.isEmpty()?e:ve.Empty.setTree(path,e);var f=t.getServerCache().getNode();return h.children.inorderTraversal(function(e,h){if(f.hasChild(e)){var m=t.getServerCache().getNode().getImmediateChild(e),y=c.applyMerge_(m,h);d=c.applyServerOverwrite_(d,new Y(e),y,n,r,o,l)}}),h.children.inorderTraversal(function(e,h){var m=!t.getServerCache().isCompleteForChild(e)&&null==h.value;if(!f.hasChild(e)&&!m){var y=t.getServerCache().getNode().getImmediateChild(e),v=c.applyMerge_(y,h);d=c.applyServerOverwrite_(d,new Y(e),v,n,r,o,l)}}),d},t.prototype.ackUserWrite_=function(t,e,n,r,o,l){if(null!=r.shadowingWrite(e))return t;var c=t.getServerCache().isFiltered(),h=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&h.isFullyInitialized()||h.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,h.getNode().getChild(e),r,o,c,l);if(e.isEmpty()){var d=ve.Empty;return h.getNode().forEachChild(Nt,function(t,e){d=d.set(new Y(t),e)}),this.applyServerMerge_(t,e,d,r,o,c,l)}return t}var f=ve.Empty;return n.foreach(function(t,n){var r=e.child(t);h.isCompleteForPath(r)&&(f=f.set(t,h.getNode().getChild(r)))}),this.applyServerMerge_(t,e,f,r,o,c,l)},t.prototype.listenComplete_=function(t,path,e,n){var r=t.getServerCache(),o=t.updateServerSnap(r.getNode(),r.isFullyInitialized()||path.isEmpty(),r.isFiltered());return this.generateEventCacheAfterServerEvent_(o,path,e,Ie,n)},t.prototype.revertUserWrite_=function(t,path,e,n,r){var o;if(null!=e.shadowingWrite(path))return t;var source=new Ne(e,t,n),l=t.getEventCache().getNode(),h=void 0;if(path.isEmpty()||".priority"===path.getFront()){var d=void 0;if(t.getServerCache().isFullyInitialized())d=e.calcCompleteEventCache(t.getCompleteServerSnap());else{var f=t.getServerCache().getNode();c.assert(f instanceof Yt,"serverChildren would be complete if leaf node"),d=e.calcCompleteEventChildren(f)}d=d,h=this.filter_.updateFullNode(l,d,r)}else{var m=path.getFront(),y=e.calcCompleteChild(m,t.getServerCache());null==y&&t.getServerCache().isCompleteForChild(m)&&(y=l.getImmediateChild(m)),(h=null!=y?this.filter_.updateChild(l,m,y,path.popFront(),source,r):t.getEventCache().getNode().hasChild(m)?this.filter_.updateChild(l,m,Yt.EMPTY_NODE,path.popFront(),source,r):l).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=e.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(h=this.filter_.updateFullNode(h,o,r))}return o=t.getServerCache().isFullyInitialized()||null!=e.shadowingWrite(Y.Empty),t.updateEventSnap(h,o,this.filter_.filtersNodes())},t}(),Oe=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,o=[],l=[];return t.forEach(function(t){t.type===Ce.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&l.push(Ce.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(o,Ce.CHILD_REMOVED,t,n,e),this.generateEventsForType_(o,Ce.CHILD_ADDED,t,n,e),this.generateEventsForType_(o,Ce.CHILD_MOVED,l,n,e),this.generateEventsForType_(o,Ce.CHILD_CHANGED,t,n,e),this.generateEventsForType_(o,Ce.VALUE,t,n,e),o},t.prototype.generateEventsForType_=function(t,e,n,r,o){var l=this,c=n.filter(function(t){return t.type===e});c.sort(this.compareChanges_.bind(this)),c.forEach(function(e){var n=l.materializeSingleChange_(e,o);r.forEach(function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,l.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(a,b){if(null==a.childName||null==b.childName)throw c.assertionError("Should only compare child_ events.");var t=new kt(a.childName,a.snapshotNode),e=new kt(b.childName,b.snapshotNode);return this.index_.compare(t,e)},t}(),Pe=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new ke(n.getIndex()),filter=n.getNodeFilter();this.processor_=new Ae(filter);var o=e.getServerCache(),l=e.getEventCache(),c=r.updateFullNode(Yt.EMPTY_NODE,o.getNode(),null),h=filter.updateFullNode(Yt.EMPTY_NODE,l.getNode(),null),d=new Ee(c,o.isFullyInitialized(),r.filtersNodes()),f=new Ee(h,l.isFullyInitialized(),filter.filtersNodes());this.viewCache_=new Te(f,d),this.eventGenerator_=new Oe(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(path){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!path.isEmpty()&&!t.getImmediateChild(path.getFront()).isEmpty())?t.getChild(path):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){c.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(t){e=e;var o=t.createCancelEvent(e,r);o&&n.push(o)})}if(t){for(var o=[],i=0;i<this.eventRegistrations_.length;++i){var l=this.eventRegistrations_[i];if(l.matches(t)){if(t.hasAnyCallback()){o=o.concat(this.eventRegistrations_.slice(i+1));break}}else o.push(l)}this.eventRegistrations_=o}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ee.MERGE&&null!==t.source.queryId&&(c.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),c.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,o=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(o.viewCache),c.assert(o.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=o.viewCache,this.generateEventsForChanges_(o.changes,o.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];e.getNode().isLeafNode()||e.getNode().forEachChild(Bt,function(t,e){n.push(Ce.childAddedChange(t,e))});return e.isFullyInitialized()&&n.push(Ce.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),Re=function(){function t(){this.views_={}}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return c.assert(ge,"Reference.ts has not been loaded"),ge},set:function(t){c.assert(!ge,"__referenceConstructor has already been defined"),ge=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return c.isEmpty(this.views_)},t.prototype.applyOperation=function(t,e,n){var r=t.source.queryId;if(null!==r){var view=c.safeGet(this.views_,r);return c.assert(null!=view,"SyncTree gave us an op for an invalid query."),view.applyOperation(t,e,n)}var o=[];return c.forEach(this.views_,function(r,view){o=o.concat(view.applyOperation(t,e,n))}),o},t.prototype.addEventRegistration=function(t,e,n,r,o){var l=t.queryIdentifier(),view=c.safeGet(this.views_,l);if(!view){var h=n.calcCompleteEventCache(o?r:null),d=!1;h?d=!0:r instanceof Yt?(h=n.calcCompleteEventChildren(r),d=!1):(h=Yt.EMPTY_NODE,d=!1);var f=new Te(new Ee(h,d,!1),new Ee(r,o,!1));view=new Pe(t,f),this.views_[l]=view}return view.addEventRegistration(e),view.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var o=e.queryIdentifier(),l=[],h=[],d=this.hasCompleteView();if("default"===o){var f=this;c.forEach(this.views_,function(t,view){h=h.concat(view.removeEventRegistration(n,r)),view.isEmpty()&&(delete f.views_[t],view.getQuery().getQueryParams().loadsAllData()||l.push(view.getQuery()))})}else{var view=c.safeGet(this.views_,o);view&&(h=h.concat(view.removeEventRegistration(n,r)),view.isEmpty()&&(delete this.views_[o],view.getQuery().getQueryParams().loadsAllData()||l.push(view.getQuery())))}return d&&!this.hasCompleteView()&&l.push(new t.__referenceConstructor(e.repo,e.path)),{removed:l,events:h}},t.prototype.getQueryViews=function(){var t=this;return Object.keys(this.views_).map(function(e){return t.views_[e]}).filter(function(view){return!view.getQuery().getQueryParams().loadsAllData()})},t.prototype.getCompleteServerCache=function(path){var t=null;return c.forEach(this.views_,function(e,view){t=t||view.getCompleteServerCache(path)}),t},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return c.safeGet(this.views_,e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){return c.findValue(this.views_,function(view){return view.getQuery().getQueryParams().loadsAllData()})||null},t}(),Le=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(path,e){if(path.isEmpty())return new t(new ve(e));var n=this.writeTree_.findRootMostValueAndPath(path);if(null!=n){var r=n.path,o=n.value,l=Y.relativePath(r,path);return o=o.updateChild(l,e),new t(this.writeTree_.set(r,o))}var c=new ve(e);return new t(this.writeTree_.setTree(path,c))},t.prototype.addWrites=function(path,t){var e=this;return c.forEach(t,function(t,n){e=e.addWrite(path.child(t),n)}),e},t.prototype.removeWrite=function(path){return path.isEmpty()?t.Empty:new t(this.writeTree_.setTree(path,ve.Empty))},t.prototype.hasCompleteWrite=function(path){return null!=this.getCompleteNode(path)},t.prototype.getCompleteNode=function(path){var t=this.writeTree_.findRootMostValueAndPath(path);return null!=t?this.writeTree_.get(t.path).getChild(Y.relativePath(t.path,path)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Bt,function(e,n){t.push(new kt(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new kt(e,n.value))}),t},t.prototype.childCompoundWrite=function(path){if(path.isEmpty())return this;var e=this.getCompleteNode(path);return new t(null!=e?new ve(e):this.writeTree_.subtree(path))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(e){return t.applySubtreeWrite_(Y.Empty,this.writeTree_,e)},t.Empty=new t(new ve(null)),t.applySubtreeWrite_=function(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var o=null;return n.children.inorderTraversal(function(n,l){".priority"===n?(c.assert(null!==l.value,"Priority writes must always be leaf nodes"),o=l.value):r=t.applySubtreeWrite_(e.child(n),l,r)}),r.getChild(e).isEmpty()||null===o||(r=r.updateChild(e.child(".priority"),o)),r},t}(),Me=function(){function t(){this.visibleWrites_=Le.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(path){return new Fe(path,this)},t.prototype.addOverwrite=function(path,t,e,n){c.assert(e>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===n&&(n=!0),this.allWrites_.push({path:path,snap:t,writeId:e,visible:n}),n&&(this.visibleWrites_=this.visibleWrites_.addWrite(path,t)),this.lastWriteId_=e},t.prototype.addMerge=function(path,t,e){c.assert(e>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:path,children:t,writeId:e,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(path,t),this.lastWriteId_=e},t.prototype.getWrite=function(t){for(var i=0;i<this.allWrites_.length;i++){var e=this.allWrites_[i];if(e.writeId===t)return e}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(s){return s.writeId===t});c.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var o=r.visible,l=!1,i=this.allWrites_.length-1;o&&i>=0;){var h=this.allWrites_[i];h.visible&&(i>=n&&this.recordContainsPath_(h,r.path)?o=!1:r.path.contains(h.path)&&(l=!0)),i--}if(o){if(l)return this.resetTree_(),!0;if(r.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(r.path);else{var d=r.children;c.forEach(d,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})}return!0}return!1},t.prototype.getCompleteWriteData=function(path){return this.visibleWrites_.getCompleteNode(path)},t.prototype.calcCompleteEventCache=function(e,n,r,o){if(r||o){var l=this.visibleWrites_.childCompoundWrite(e);if(!o&&l.isEmpty())return n;if(o||null!=n||l.hasCompleteWrite(Y.Empty)){var c=t.layerTree_(this.allWrites_,function(t){return(t.visible||o)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},e);f=n||Yt.EMPTY_NODE;return c.apply(f)}return null}var h=this.visibleWrites_.getCompleteNode(e);if(null!=h)return h;var d=this.visibleWrites_.childCompoundWrite(e);if(d.isEmpty())return n;if(null!=n||d.hasCompleteWrite(Y.Empty)){var f=n||Yt.EMPTY_NODE;return d.apply(f)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Yt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Bt,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var o=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Bt,function(t,e){var r=o.childCompoundWrite(new Y(t)).apply(e);n=n.updateImmediateChild(t,r)}),o.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){c.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var path=t.child(e);if(this.visibleWrites_.hasCompleteWrite(path))return null;var o=this.visibleWrites_.childCompoundWrite(path);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var path=t.child(e),r=this.visibleWrites_.getCompleteNode(path);return null!=r?r:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(path).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(path){return this.visibleWrites_.getCompleteNode(path)},t.prototype.calcIndexedSlice=function(t,e,n,r,o,l){var c,h=this.visibleWrites_.childCompoundWrite(t),d=h.getCompleteNode(Y.Empty);if(null!=d)c=d;else{if(null==e)return[];c=h.apply(e)}if((c=c.withIndex(l)).isEmpty()||c.isLeafNode())return[];for(var f=[],m=l.getCompare(),y=o?c.getReverseIteratorFrom(n,l):c.getIteratorFrom(n,l),v=y.getNext();v&&f.length<r;)0!==m(v,n)&&f.push(v),v=y.getNext();return f},t.prototype.recordContainsPath_=function(t,path){return t.snap?t.path.contains(path):!!c.findKey(t.children,function(e,n){return t.path.child(n).contains(path)})},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,Y.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,filter,e){for(var n=Le.Empty,i=0;i<t.length;++i){var r=t[i];if(filter(r)){var o=r.path,l=void 0;if(r.snap)e.contains(o)?(l=Y.relativePath(e,o),n=n.addWrite(l,r.snap)):o.contains(e)&&(l=Y.relativePath(o,e),n=n.addWrite(Y.Empty,r.snap.getChild(l)));else{if(!r.children)throw c.assertionError("WriteRecord should have .snap or .children");if(e.contains(o))l=Y.relativePath(e,o),n=n.addWrites(l,r.children);else if(o.contains(e))if((l=Y.relativePath(o,e)).isEmpty())n=n.addWrites(Y.Empty,r.children);else{var h=c.safeGet(r.children,l.getFront());if(h){var d=h.getChild(l.popFront());n=n.addWrite(Y.Empty,d)}}}}}return n},t}(),Fe=function(){function t(path,t){this.treePath_=path,this.writeTree_=t}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(path,t,e){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,path,t,e)},t.prototype.shadowingWrite=function(path){return this.writeTree_.shadowingWrite(this.treePath_.child(path))},t.prototype.calcIndexedSlice=function(t,e,n,r,o){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,o)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Be=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=ve.Empty,this.pendingWriteTree_=new Me,this.tagToQueryMap_={},this.queryToTagMap_={}}return t.prototype.applyUserOverwrite=function(path,t,e,n){return this.pendingWriteTree_.addOverwrite(path,t,e,n),n?this.applyOperationToSyncPoints_(new _e(me.User,path,t)):[]},t.prototype.applyUserMerge=function(path,t,e){this.pendingWriteTree_.addMerge(path,t,e);var n=ve.fromObject(t);return this.applyOperationToSyncPoints_(new Se(me.User,path,n))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=ve.Empty;return null!=n.snap?r=r.set(Y.Empty,!0):c.forEach(n.children,function(t,e){r=r.set(new Y(t),e)}),this.applyOperationToSyncPoints_(new be(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(path,t){return this.applyOperationToSyncPoints_(new _e(me.Server,path,t))},t.prototype.applyServerMerge=function(path,t){var e=ve.fromObject(t);return this.applyOperationToSyncPoints_(new Se(me.Server,path,e))},t.prototype.applyListenComplete=function(path){return this.applyOperationToSyncPoints_(new we(me.Server,path))},t.prototype.applyTaggedQueryOverwrite=function(path,e,n){var r=this.queryKeyForTag_(n);if(null!=r){var o=t.parseQueryKey_(r),l=o.path,c=o.queryId,h=Y.relativePath(l,path),d=new _e(me.forServerTaggedQuery(c),h,e);return this.applyTaggedOperation_(l,d)}return[]},t.prototype.applyTaggedQueryMerge=function(path,e,n){var r=this.queryKeyForTag_(n);if(r){var o=t.parseQueryKey_(r),l=o.path,c=o.queryId,h=Y.relativePath(l,path),d=ve.fromObject(e),f=new Se(me.forServerTaggedQuery(c),h,d);return this.applyTaggedOperation_(l,f)}return[]},t.prototype.applyTaggedListenComplete=function(path,e){var n=this.queryKeyForTag_(e);if(n){var r=t.parseQueryKey_(n),o=r.path,l=r.queryId,c=Y.relativePath(o,path),h=new we(me.forServerTaggedQuery(l),c);return this.applyTaggedOperation_(o,h)}return[]},t.prototype.addEventRegistration=function(e,n){var path=e.path,r=null,o=!1;this.syncPointTree_.foreachOnPath(path,function(t,e){var n=Y.relativePath(t,path);r=r||e.getCompleteServerCache(n),o=o||e.hasCompleteView()});var l,h=this.syncPointTree_.get(path);(h?(o=o||h.hasCompleteView(),r=r||h.getCompleteServerCache(Y.Empty)):(h=new Re,this.syncPointTree_=this.syncPointTree_.set(path,h)),null!=r)?l=!0:(l=!1,r=Yt.EMPTY_NODE,this.syncPointTree_.subtree(path).foreachChild(function(t,e){var n=e.getCompleteServerCache(Y.Empty);n&&(r=r.updateImmediateChild(t,n))}));var d=h.viewExistsForQuery(e);if(!d&&!e.getQueryParams().loadsAllData()){var f=t.makeQueryKey_(e);c.assert(!(f in this.queryToTagMap_),"View does not exist, but we have a tag");var m=t.getNextQueryTag_();this.queryToTagMap_[f]=m,this.tagToQueryMap_["_"+m]=f}var y=this.pendingWriteTree_.childWrites(path),v=h.addEventRegistration(e,n,y,r,l);if(!d&&!o){var view=h.viewForQuery(e);v=v.concat(this.setupListener_(e,view))}return v},t.prototype.removeEventRegistration=function(e,n,r){var o=this,path=e.path,l=this.syncPointTree_.get(path),c=[];if(l&&("default"===e.queryIdentifier()||l.viewExistsForQuery(e))){var h=l.removeEventRegistration(e,n,r);l.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(path));var d=h.removed;c=h.events;var f=-1!==d.findIndex(function(t){return t.getQueryParams().loadsAllData()}),m=this.syncPointTree_.findOnPath(path,function(t,e){return e.hasCompleteView()});if(f&&!m){var y=this.syncPointTree_.subtree(path);if(!y.isEmpty())for(var v=this.collectDistinctViewsForSubTree_(y),i=0;i<v.length;++i){var view=v[i],w=view.getQuery(),_=this.createListenerForView_(view);this.listenProvider_.startListening(t.queryForListening_(w),this.tagForQuery_(w),_.hashFn,_.onComplete)}}if(!m&&d.length>0&&!r)if(f){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else d.forEach(function(e){var n=o.queryToTagMap_[t.makeQueryKey_(e)];o.listenProvider_.stopListening(t.queryForListening_(e),n)});this.removeTags_(d)}return c},t.prototype.calcCompleteEventCache=function(path,t){var e=this.pendingWriteTree_,n=this.syncPointTree_.findOnPath(path,function(t,e){var n=Y.relativePath(t,path),r=e.getCompleteServerCache(n);if(r)return r});return e.calcCompleteEventCache(path,n,t,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),c.forEach(n,function(t,e){r=r.concat(e)}),r})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var o=t.makeQueryKey_(r),l=this.queryToTagMap_[o];delete this.queryToTagMap_[o],delete this.tagToQueryMap_["_"+l]}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,view){var path=e.path,n=this.tagForQuery_(e),r=this.createListenerForView_(view),o=this.listenProvider_.startListening(t.queryForListening_(e),n,r.hashFn,r.onComplete),l=this.syncPointTree_.subtree(path);if(n)c.assert(!l.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var h=l.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map(function(view){return view.getQuery()}))),c.forEach(n,function(t,e){r=r.concat(e)}),r}),i=0;i<h.length;++i){var d=h[i];this.listenProvider_.stopListening(t.queryForListening_(d),this.tagForQuery_(d))}return o},t.prototype.createListenerForView_=function(view){var t=this,e=view.getQuery(),n=this.tagForQuery_(e);return{hashFn:function(){return(view.getServerCache()||Yt.EMPTY_NODE).hash()},onComplete:function(r){if("ok"===r)return n?t.applyTaggedListenComplete(e.path,n):t.applyListenComplete(e.path);var o=function(code,t){var e="Unknown Error";"too_big"===code?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==code?e="Client doesn't have permission to access the desired data.":"unavailable"==code&&(e="The service is unavailable");var n=new Error(code+" at "+t.path.toString()+": "+e);return n.code=code.toUpperCase(),n}(r,e);return t.removeEventRegistration(e,null,o)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return c.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Y(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap_["_"+t]},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return c.safeGet(this.queryToTagMap_,n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);c.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Y.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var o=e.get(Y.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(Y.Empty));var l=[],c=t.path.getFront(),h=t.operationForChild(c),d=e.children.get(c);if(d&&h){var f=n?n.getImmediateChild(c):null,m=r.child(c);l=l.concat(this.applyOperationHelper_(h,d,f,m))}return o&&(l=l.concat(o.applyOperation(t,r,n))),l},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var o=this,l=e.get(Y.Empty);null==n&&null!=l&&(n=l.getCompleteServerCache(Y.Empty));var c=[];return e.children.inorderTraversal(function(e,l){var h=n?n.getImmediateChild(e):null,d=r.child(e),f=t.operationForChild(e);f&&(c=c.concat(o.applyOperationDescendantsHelper_(f,l,h,d)))}),l&&(c=c.concat(l.applyOperation(t,r,n))),c},t.nextQueryTag_=1,t}(),Ve=function(){function t(){this.rootNode_=Yt.EMPTY_NODE}return t.prototype.getNode=function(path){return this.rootNode_.getChild(path)},t.prototype.updateSnapshot=function(path,t){this.rootNode_=this.rootNode_.updateChild(path,t)},t}(),qe=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(N("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',P(t)},t}(),je=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),c.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return c.deepCopy(this.counters_)},t}(),Ue=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new je),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),We=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=c.clone(t);return this.last_&&c.forEach(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),$e=1e4,ze=3e4,He=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new We(t);var n=$e+(ze-$e)*Math.random();G(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;c.forEach(e,function(e,o){o>0&&c.contains(t.statsToReport_,e)&&(n[e]=o,r=!0)}),r&&this.server_.reportStats(n),G(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ke=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,i=0;i<t.length;i++){var n=t[i],r=n.getPath();null===e||r.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Qe(r)),e.add(n)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(path,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.equals(path)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,i=0;i<this.eventLists_.length;i++){var n=this.eventLists_[i];if(n)t(n.getPath())?(this.eventLists_[i].raise(),this.eventLists_[i]=null):e=!1}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Qe=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var i=0;i<this.events_.length;i++){var t=this.events_[i];if(null!==t){this.events_[i]=null;var e=t.getEventRunner();k&&N("event: "+t.toString()),K(e)}}},t.prototype.getPath=function(){return this.path_},t}(),Ge=function(){function t(t){this.allowedEvents_=t,this.listeners_={},c.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=this.listeners_[t].slice(),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){c.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),Ye=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return d.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return c.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Ge),Xe=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||c.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return d.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return c.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Ge),Je=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,data){var e=this;this.pendingResponses[t]=data;for(var n=function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var n=function(i){t[i]&&K(function(){e.onMessage_(t[i])})},i=0;i<t.length;++i)n(i);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++},r=this;this.pendingResponses[this.currentResponseNum];){if("break"===n())break}},t}(),Ze="pLPCommand",tn="pRTLPCB",en=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=D(t),this.stats_=Ue.getCollection(e),this.urlFn=function(t){return e.connectionURL(J,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Je(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(c.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new nn(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],o=t[1],l=t[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==r)n.id=o,n.password=l;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],data=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,data)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),!c.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_||!t.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI)&&!c.isNodeSdk()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(data){var t=c.stringify(data);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var e=c.base64Encode(t),n=U(e,1840),i=0;i<n.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,n.length,n[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!c.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=c.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),nn=function(){function t(e,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new ce,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,c.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=E(),window[Ze+this.uniqueCallbackIdentifier]=e,window[tn+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var script="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))script='<script>document.domain="'+document.domain+'";<\/script>';var l="<html><body>"+script+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(t){N("frame writing exception"),t.stack&&N(t.stack),N(t)}}}return t.createIFrame_=function(){var iframe=document.createElement("iframe");if(iframe.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(iframe);try{iframe.contentWindow.document||N("No IE domain setting required")}catch(e){var t=document.domain;iframe.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return iframe.contentDocument?iframe.doc=iframe.contentDocument:iframe.contentWindow?iframe.doc=iframe.contentWindow.document:iframe.document&&(iframe.doc=iframe.document),iframe},t.prototype.close=function(){var e=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0))),c.isNodeSdk()&&this.myID){var n={disconn:"t"};n.id=this.myID,n.pw=this.myPW;var r=this.urlFn(n);t.nodeRestRequest(r)}var o=this.onDisconnect;o&&(this.onDisconnect=null,o())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",i=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var r=this.pendingSegs.shift();n=n+"&seg"+i+"="+r.seg+"&ts"+i+"="+r.ts+"&d"+i+"="+r.d,i++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,data){this.pendingSegs.push({seg:t,ts:e,d:data}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e,1);var r=function(){n.outstandingRequests.remove(e),n.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(o),r()})},t.prototype.addTag=function(t,e){var n=this;c.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){N("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}},Math.floor(1))},t}(),rn=null;"undefined"!=typeof MozWebSocket?rn=MozWebSocket:"undefined"!=typeof WebSocket&&(rn=WebSocket);var on=function(){function t(e,n,r,o){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=D(this.connId),this.stats_=Ue.getCollection(n),this.connURL=t.connectionURL_(n,r,o)}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!c.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,w.set("previous_websocket_failure",!0);try{if(c.isNodeSdk()){var o=c.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",l={headers:{"User-Agent":"Firebase/5/"+f.SDK_VERSION+"/"+r.platform+"/"+o}},h=r.env,d=0==this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;d&&(l.proxy={origin:d}),this.mySock=new rn(this.connURL,[],l)}else this.mySock=new rn(this.connURL)}catch(t){this.log_("Error instantiating WebSocket.");var m=t.message||t.data;return m&&this.log_(m),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==rn&&!t.forceDisallow_},t.previouslyFailed=function(){return w.isInMemoryStorage||!0===w.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){w.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(data){if(this.frames.push(data),this.frames.length==this.totalFrames){var t=this.frames.join("");this.frames=null;var e=c.jsonEval(t);this.onMessage(e)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(data){if(c.assert(null===this.frames,"We already have a frame buffer"),data.length<=6){var t=Number(data);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),data},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var data=t.data;if(this.bytesReceived+=data.length,this.stats_.incrementCounter("bytes_received",data.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(data);else{var e=this.extractFrameCount_(data);null!==e&&this.appendFrame_(e)}}},t.prototype.send=function(data){this.resetKeepAlive();var t=c.stringify(data);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var e=U(t,16384);e.length>1&&this.sendString_(String(e.length));for(var i=0;i<e.length;i++)this.sendString_(e[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),an=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[en,on]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n=on&&on.isAvailable(),r=n&&!on.previouslyFailed();if(e.webSocketOnly&&(n||P("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[on];else{var o=this.transports_=[];W(t.ALL_TRANSPORTS,function(i,t){t&&t.isAvailable()&&o.push(t)})}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),sn=function(){function t(t,e,n,r,o,l,c){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=o,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=D("c:"+this.id+":"),this.transportManager_=new an(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=G(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(o)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=V("t",t),data=V("d",t);if("c"==e)this.onSecondaryControl_(data);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(data)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=V("t",t),data=V("d",t);"c"==e?this.onControl_(data):"d"==e&&this.onDataMessage_(data)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=V("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?A("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):A("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&P("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),G(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):G(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(w.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(data){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(data)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),un=function(){function t(){}return t.prototype.put=function(t,data,e,n){},t.prototype.merge=function(t,data,e,n){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,data,e){},t.prototype.onDisconnectMerge=function(t,data,e){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),ln=1e3,cn=3e5,hn=function(t){function e(n,r,o,l,h,d){var f=t.call(this)||this;if(f.repoInfo_=n,f.onDataUpdate_=r,f.onConnectStatus_=o,f.onServerInfoUpdate_=l,f.authTokenProvider_=h,f.authOverride_=d,f.id=e.nextPersistentConnectionId_++,f.log_=D("p:"+f.id+":"),f.interruptReasons_={},f.listens_={},f.outstandingPuts_=[],f.outstandingPutCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=ln,f.maxReconnectDelay_=cn,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,d&&!c.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return f.scheduleConnect_(0),Ye.getInstance().on("visible",f.onVisible_,f),-1===n.host.indexOf("fblocal")&&Xe.getInstance().on("online",f.onOnline_,f),f}return d.__extends(e,t),e.prototype.sendRequest=function(t,body,e){var n=++this.requestNumber_,r={r:n,a:t,b:body};this.log_(c.stringify(r)),c.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),e&&(this.requestCBHash_[n]=e)},e.prototype.listen=function(t,e,n,r){var o=t.queryIdentifier(),l=t.path.toString();this.log_("Listen called for "+l+" "+o),this.listens_[l]=this.listens_[l]||{},c.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),c.assert(!this.listens_[l][o],"listen() called twice for same path/queryId.");var h={onComplete:r,hashFn:e,query:t,tag:n};this.listens_[l][o]=h,this.connected_&&this.sendListen_(h)},e.prototype.sendListen_=function(t){var n=this,r=t.query,o=r.path.toString(),l=r.queryIdentifier();this.log_("Listen on "+o+" for "+l);var c={p:o};t.tag&&(c.q=r.queryObject(),c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,function(c){var h=c.d,d=c.s;e.warnOnListenWarnings_(h,r),(n.listens_[o]&&n.listens_[o][l])===t&&(n.log_("listen response",c),"ok"!==d&&n.removeListen_(o,l),t.onComplete&&t.onComplete(d,h))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&c.contains(t,"w")){var n=c.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',o=e.path.toString();P("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||c.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=c.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,data=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,data))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),c.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var o={p:t};r&&(o.q=n,o.t=r),this.sendRequest("n",o)},e.prototype.onDisconnectPut=function(t,data,e){this.connected_?this.sendOnDisconnect_("o",t,data,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:data,onComplete:e})},e.prototype.onDisconnectMerge=function(t,data,e){this.connected_?this.sendOnDisconnect_("om",t,data,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:data,onComplete:e})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,data,n){var r={p:e,d:data};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,function(t){n&&setTimeout(function(){n(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,data,e,n){this.putInternal("p",t,data,e,n)},e.prototype.merge=function(t,data,e,n){this.putInternal("m",t,data,e,n)},e.prototype.putInternal=function(t,e,data,n,r){var o={p:e,d:data};void 0!==r&&(o.h=r),this.outstandingPuts_.push({action:t,request:o,onComplete:n}),this.outstandingPutCount_++;var l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),o&&o(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+c.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,body){this.log_("handleServerMessage",t,body),"d"===t?this.onDataUpdate_(body.p,body.d,!1,body.t):"m"===t?this.onDataUpdate_(body.p,body.d,!0,body.t):"c"===t?this.onListenRevoked_(body.p,body.q):"ac"===t?this.onAuthRevoked_(body.s,body.d):"sd"===t?this.onSecurityDebugPacket_(body):A("Unrecognized action received from server: "+c.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;c.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ln,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ln,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ln),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,l=this,h=this.lastSessionId,d=!1,f=null,m=function(){f?f.close():(d=!0,r())};this.realtime_={close:m,sendRequest:function(t){c.assert(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(t)}};var y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(y).then(function(e){d?N("getToken() completed but was canceled"):(N("getToken() completed. Creating connection."),l.authToken_=e&&e.accessToken,f=new sn(o,l.repoInfo_,t,n,r,function(t){P(t+" ("+l.repoInfo_.toString()+")"),l.interrupt("server_kill")},h))}).then(null,function(t){l.log_("Failed to get token: "+t),d||(c.CONSTANTS.NODE_ADMIN&&P(t),m())})}},e.prototype.interrupt=function(t){N("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){N("Resuming connection for reason: "+t),delete this.interruptReasons_[t],c.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=ln,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var i=0;i<this.outstandingPuts_.length;i++){var t=this.outstandingPuts_[i];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[i],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(q){return j(q)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new Y(t).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][e],delete this.listens_[r][e],0===c.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},e.prototype.onAuthRevoked_=function(t,e){N("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(body){this.securityDebugCallback_?this.securityDebugCallback_(body):"msg"in body&&console.log("FIREBASE: "+body.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t=this;this.tryAuth(),c.forEach(this.listens_,function(e,n){c.forEach(n,function(e,n){t.sendListen_(n)})});for(var i=0;i<this.outstandingPuts_.length;i++)this.outstandingPuts_[i]&&this.sendPut_(i);for(;this.onDisconnectRequestQueue_.length;){var e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";c.CONSTANTS.NODE_ADMIN?e="admin_node":c.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+f.SDK_VERSION.replace(/\./g,"-")]=1,c.isMobileCordova()?t["framework.cordova"]=1:c.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Xe.getInstance().currentlyOnline();return c.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(un),dn=function(t){function e(e,n,r){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.log_=D("p:rest:"),o.listens_={},o}return d.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(c.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,o){var l=this,h=t.path.toString();this.log_("Listen called for "+h+" "+t.queryIdentifier());var d=e.getListenId_(t,r),f={};this.listens_[d]=f;var m=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(h+".json",m,function(t,e){var data=e;(404===t&&(data=null,t=null),null===t&&l.onDataUpdate_(h,data,!1,r),c.safeGet(l.listens_,d)===f)&&o(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(o){var l=o&&o.accessToken;l&&(e.auth=l);var h=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+c.querystring(e);r.log_("Sending REST request for "+h);var d=new XMLHttpRequest;d.onreadystatechange=function(){if(n&&4===d.readyState){r.log_("REST Response for "+h+" received. status:",d.status,"response:",d.responseText);var t=null;if(d.status>=200&&d.status<300){try{t=c.jsonEval(d.responseText)}catch(t){P("Failed to parse JSON response for "+h+": "+d.responseText)}n(null,t)}else 401!==d.status&&404!==d.status&&P("Got unsuccessful REST response for "+h+" Status: "+d.status),n(d.status);n=null}},d.open("GET",h,!0),d.send()})},e}(un),fn=function(){function t(t,e,n){var r=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ke,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new he,this.persistentConnection_=null;var o=new qe(n);if(this.stats_=Ue.getCollection(t),e||Q())this.server_=new dn(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var l=n.options.databaseAuthVariableOverride;if(null!=l){if("object"!=typeof l)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{c.stringify(l)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new hn(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,l),this.server_=this.persistentConnection_}o.addTokenChangeListener(function(t){r.server_.refreshAuthToken(t)}),this.statsReporter_=Ue.getOrCreateReporter(t,function(){return new He(r.stats_,r.server_)}),this.transactions_init_(),this.infoData_=new Ve,this.infoSyncTree_=new Be({startListening:function(t,e,n,o){var l=[],c=r.infoData_.getNode(t.path);return c.isEmpty()||(l=r.infoSyncTree_.applyServerOverwrite(t.path,c),setTimeout(function(){o("ok")},0)),l},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Be({startListening:function(t,e,n,o){return r.server_.listen(t,n,e,function(e,data){var n=o(e,data);r.eventQueue_.raiseEventsForChangedPath(t.path,n)}),[]},stopListening:function(t,e){r.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new Y(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,data,e,n){this.dataUpdateCount++;var path=new Y(t);data=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,data):data;var r=[];if(n)if(e){var o=c.map(data,function(t){return Zt(t)});r=this.serverSyncTree_.applyTaggedQueryMerge(path,o,n)}else{var l=Zt(data);r=this.serverSyncTree_.applyTaggedQueryOverwrite(path,l,n)}else if(e){var h=c.map(data,function(t){return Zt(t)});r=this.serverSyncTree_.applyServerMerge(path,h)}else{var d=Zt(data);r=this.serverSyncTree_.applyServerOverwrite(path,d)}var f=path;r.length>0&&(f=this.rerunTransactions_(path)),this.eventQueue_.raiseEventsForChangedPath(f,r)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;W(t,function(t,n){e.updateInfo_(n,t)})},t.prototype.updateInfo_=function(t,e){var path=new Y("/.info/"+t),n=Zt(e);this.infoData_.updateSnapshot(path,n);var r=this.infoSyncTree_.applyServerOverwrite(path,n);this.eventQueue_.raiseEventsForChangedPath(path,r)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(path,t,e,n){var r=this;this.log_("set",{path:path.toString(),value:t,priority:e});var o=this.generateServerValues(),l=Zt(t,e),c=fe(l,o),h=this.getNextWriteId_(),d=this.serverSyncTree_.applyUserOverwrite(path,c,h,!0);this.eventQueue_.queueEvents(d),this.server_.put(path.toString(),l.val(!0),function(t,e){var o="ok"===t;o||P("set at "+path+" failed: "+t);var l=r.serverSyncTree_.ackUserWrite(h,!o);r.eventQueue_.raiseEventsForChangedPath(path,l),r.callOnCompleteCallback(n,t,e)});var f=this.abortTransactions_(path);this.rerunTransactions_(f),this.eventQueue_.raiseEventsForChangedPath(f,[])},t.prototype.update=function(path,t,e){var n=this;this.log_("update",{path:path.toString(),value:t});var r=!0,o=this.generateServerValues(),l={};if(c.forEach(t,function(t,e){r=!1;var n=Zt(e);l[t]=fe(n,o)}),r)N("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(e,"ok");else{var h=this.getNextWriteId_(),d=this.serverSyncTree_.applyUserMerge(path,l,h);this.eventQueue_.queueEvents(d),this.server_.merge(path.toString(),t,function(t,r){var o="ok"===t;o||P("update at "+path+" failed: "+t);var l=n.serverSyncTree_.ackUserWrite(h,!o),c=l.length>0?n.rerunTransactions_(path):path;n.eventQueue_.raiseEventsForChangedPath(c,l),n.callOnCompleteCallback(e,t,r)}),c.forEach(t,function(t){var e=n.abortTransactions_(path.child(t));n.rerunTransactions_(e)}),this.eventQueue_.raiseEventsForChangedPath(path,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=function(t,e){var n=new he;return t.forEachTree(new Y(""),function(path,t){n.remember(path,fe(t,e))}),n}(this.onDisconnect_,e),r=[];n.forEachTree(Y.Empty,function(path,e){r=r.concat(t.serverSyncTree_.applyServerOverwrite(path,e));var n=t.abortTransactions_(path);t.rerunTransactions_(n)}),this.onDisconnect_=new he,this.eventQueue_.raiseEventsForChangedPath(Y.Empty,r)},t.prototype.onDisconnectCancel=function(path,t){var e=this;this.server_.onDisconnectCancel(path.toString(),function(n,r){"ok"===n&&e.onDisconnect_.forget(path),e.callOnCompleteCallback(t,n,r)})},t.prototype.onDisconnectSet=function(path,t,e){var n=this,r=Zt(t);this.server_.onDisconnectPut(path.toString(),r.val(!0),function(t,o){"ok"===t&&n.onDisconnect_.remember(path,r),n.callOnCompleteCallback(e,t,o)})},t.prototype.onDisconnectSetWithPriority=function(path,t,e,n){var r=this,o=Zt(t,e);this.server_.onDisconnectPut(path.toString(),o.val(!0),function(t,e){"ok"===t&&r.onDisconnect_.remember(path,o),r.callOnCompleteCallback(n,t,e)})},t.prototype.onDisconnectUpdate=function(path,t,e){var n=this;if(c.isEmpty(t))return N("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(e,"ok");this.server_.onDisconnectMerge(path.toString(),t,function(r,o){"ok"===r&&c.forEach(t,function(t,e){var r=Zt(e);n.onDisconnect_.remember(path.child(t),r)}),n.callOnCompleteCallback(e,r,o)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new We(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);c.forEach(e,function(t,e){for(var i=t.length;i<n+2;i++)t+=" ";console.log(t+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),N.apply(void 0,[n].concat(t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&K(function(){if("ok"==e)t(null);else{var code=(e||"error").toUpperCase(),r=code;n&&(r+=": "+n);var o=new Error(r);o.code=code,t(o)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new En(this))},enumerable:!0,configurable:!0}),t}(),pn=function(){function t(e){this.indexedFilter_=new ke(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,source,o){return this.matches(new kt(e,n))||(n=Yt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,source,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Yt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Yt.EMPTY_NODE);var o=this;return e.forEachChild(Bt,function(t,e){o.matches(new kt(t,e))||(r=r.updateImmediateChild(t,Yt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),gn=function(){function t(t){this.rangedFilter_=new pn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,source,o){return this.rangedFilter_.matches(new kt(e,n))||(n=Yt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,source,o):this.fullLimitUpdateChild_(t,e,n,source,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Yt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Yt.EMPTY_NODE.withIndex(this.index_);var o=void 0;o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var l=0;o.hasNext()&&l<this.limit_;){var c=o.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),c)<=0:this.index_.compare(c,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(c.name,c.node),l++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Yt.EMPTY_NODE);var h=void 0,d=void 0,f=void 0;o=void 0;if(this.reverse_){o=r.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();var m=this.index_.getCompare();f=function(a,b){return m(b,a)}}else o=r.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),f=this.index_.getCompare();l=0;for(var y=!1;o.hasNext();){c=o.getNext();!y&&f(h,c)<=0&&(y=!0),y&&l<this.limit_&&f(c,d)<=0?l++:r=r.updateImmediateChild(c.name,Yt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,source,r){var o;if(this.reverse_){var l=this.index_.getCompare();o=function(a,b){return l(b,a)}}else o=this.index_.getCompare();var h=t;c.assert(h.numChildren()==this.limit_,"");var d=new kt(e,n),f=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),m=this.rangedFilter_.matches(d);if(h.hasChild(e)){for(var y=h.getImmediateChild(e),v=source.getChildAfterChild(this.index_,f,this.reverse_);null!=v&&(v.name==e||h.hasChild(v.name));)v=source.getChildAfterChild(this.index_,v,this.reverse_);var w=null==v?1:o(v,d);if(m&&!n.isEmpty()&&w>=0)return null!=r&&r.trackChildChange(Ce.childChangedChange(e,n,y)),h.updateImmediateChild(e,n);null!=r&&r.trackChildChange(Ce.childRemovedChange(e,y));var _=h.updateImmediateChild(e,Yt.EMPTY_NODE);return null!=v&&this.rangedFilter_.matches(v)?(null!=r&&r.trackChildChange(Ce.childAddedChange(v.name,v.node)),_.updateImmediateChild(v.name,v.node)):_}return n.isEmpty()?t:m&&o(f,d)>=0?(null!=r&&(r.trackChildChange(Ce.childRemovedChange(f.name,f.node)),r.trackChildChange(Ce.childAddedChange(e,n))),h.updateImmediateChild(e,n).updateImmediateChild(f.name,Yt.EMPTY_NODE)):t},t}(),mn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Bt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return c.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return c.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:L},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return c.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return c.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:M},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return c.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Bt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Bt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new ke(this.getIndex()):this.hasLimit()?new gn(this):new pn(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()?r:(this.index_===Bt?e=n.PRIORITY_INDEX:this.index_===ne?e=n.VALUE_INDEX:this.index_===Nt?e=n.KEY_INDEX:(c.assert(this.index_ instanceof re,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=c.stringify(e),this.startSet_&&(r[n.START_AT]=c.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+c.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=c.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+c.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_),r)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),bn=function(t){function e(e,path){if(!(e instanceof fn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,path,mn.DEFAULT,!1)||this}return d.__extends(e,t),e.prototype.getKey=function(){return c.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return c.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof Y||(null===this.path.getFront()?function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),wt(t,e,n,r)}("Reference.child",1,t,!1):wt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){c.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){c.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){c.validateArgCount("Reference.set",1,2,arguments.length),_t("Reference.set",this.path),pt("Reference.set",1,t,this.path,!1),c.validateCallback("Reference.set",2,e,!0);var n=new c.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(c.validateArgCount("Reference.update",1,2,arguments.length),_t("Reference.update",this.path),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,P("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}mt("Reference.update",1,t,this.path,!1),c.validateCallback("Reference.update",2,e,!0);var r=new c.Deferred;return this.repo.update(this.path,t,r.wrapCallback(e)),r.promise},e.prototype.setWithPriority=function(t,e,n){if(c.validateArgCount("Reference.setWithPriority",2,3,arguments.length),_t("Reference.setWithPriority",this.path),pt("Reference.setWithPriority",1,t,this.path,!1),bt("Reference.setWithPriority",2,e,!1),c.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new c.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return c.validateArgCount("Reference.remove",0,1,arguments.length),_t("Reference.remove",this.path),c.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(c.validateArgCount("Reference.transaction",1,3,arguments.length),_t("Reference.transaction",this.path),c.validateCallback("Reference.transaction",1,t,!1),c.validateCallback("Reference.transaction",2,e,!0),function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(c.errorPrefix(t,e,r)+"must be a boolean.")}("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new c.Deferred;"function"==typeof e&&r.promise.catch(function(){});return this.repo.startTransaction(this.path,t,function(t,n,o){t?r.reject(t):r.resolve(new Tt(n,o)),"function"==typeof e&&e(t,n,o)},n),r.promise},e.prototype.setPriority=function(t,e){c.validateArgCount("Reference.setPriority",1,2,arguments.length),_t("Reference.setPriority",this.path),bt("Reference.setPriority",1,t,!1),c.validateCallback("Reference.setPriority",2,e,!0);var n=new c.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){c.validateArgCount("Reference.push",0,2,arguments.length),_t("Reference.push",this.path),pt("Reference.push",1,t,this.path,!0),c.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),o=Ct(r),l=this.child(o),h=this.child(o);return n=null!=t?l.set(t,e).then(function(){return h}):Promise.resolve(h),l.then=n.then.bind(n),l.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),l},e.prototype.onDisconnect=function(){return _t("Reference.onDisconnect",this.path),new Et(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(le);le.__referenceConstructor=bn,Re.__referenceConstructor=bn;var yn,vn=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),wn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new vn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n,path=e instanceof Y?e:new Y(e),r=this;null!==(n=path.getFront());){r=new t(n,r,c.safeGet(r.node_.children,n)||new vn),path=path.popFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){c.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;c.forEach(this.node_.children,function(r,o){e(new t(r,n,o))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new Y(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=c.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(yn||(yn={})),fn.MAX_TRANSACTION_RETRIES_=25,fn.prototype.transactions_init_=function(){this.transactionQueueTree_=new wn},fn.prototype.startTransaction=function(path,t,e,n){this.log_("transaction on "+path);var r=function(){},o=new bn(this,path);o.on("value",r);var l={path:path,update:t,onComplete:e,status:null,order:E(),applyLocally:n,retryCount:0,unwatcher:function(){o.off("value",r)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=this.getLatestState_(path);l.currentInputSnapshot=h;var d=l.update(h.val());if(void 0===d){if(l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete){var f=new ie(l.currentInputSnapshot,new bn(this,l.path),Bt);l.onComplete(null,!1,f)}}else{gt("transaction failed: Data returned ",d,l.path),l.status=yn.RUN;var m=this.transactionQueueTree_.subTree(path),y=m.getValue()||[];y.push(l),m.setValue(y);var v=void 0;if("object"==typeof d&&null!==d&&c.contains(d,".priority"))v=c.safeGet(d,".priority"),c.assert(ft(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else v=(this.serverSyncTree_.calcCompleteEventCache(path)||Yt.EMPTY_NODE).getPriority().val();v=v;var w=this.generateServerValues(),_=Zt(d,v),S=fe(_,w);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=S,l.currentWriteId=this.getNextWriteId_();var T=this.serverSyncTree_.applyUserOverwrite(path,S,l.currentWriteId,l.applyLocally);this.eventQueue_.raiseEventsForChangedPath(path,T),this.sendReadyTransactions_()}},fn.prototype.getLatestState_=function(path,t){return this.serverSyncTree_.calcCompleteEventCache(path,t)||Yt.EMPTY_NODE},fn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);c.assert(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return t.status===yn.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},fn.prototype.sendTransactionQueue_=function(path,t){for(var e=this,n=t.map(function(t){return t.currentWriteId}),r=this.getLatestState_(path,n),o=r,l=r.hash(),i=0;i<t.length;i++){var h=t[i];c.assert(h.status===yn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=yn.SENT,h.retryCount++;var d=Y.relativePath(path,h.path);o=o.updateChild(d,h.currentOutputSnapshotRaw)}var f=o.val(!0),m=path;this.server_.put(m.toString(),f,function(n){e.log_("transaction put response",{path:m.toString(),status:n});var r=[];if("ok"===n){for(var o=[],i=0;i<t.length;i++){if(t[i].status=yn.COMPLETED,r=r.concat(e.serverSyncTree_.ackUserWrite(t[i].currentWriteId)),t[i].onComplete){var l=t[i].currentOutputSnapshotResolved,c=new bn(e,t[i].path),h=new ie(l,c,Bt);o.push(t[i].onComplete.bind(null,null,!0,h))}t[i].unwatcher()}e.pruneCompletedTransactionsBelowNode_(e.transactionQueueTree_.subTree(path)),e.sendReadyTransactions_(),e.eventQueue_.raiseEventsForChangedPath(path,r);for(i=0;i<o.length;i++)K(o[i])}else{if("datastale"===n)for(i=0;i<t.length;i++)t[i].status===yn.SENT_NEEDS_ABORT?t[i].status=yn.NEEDS_ABORT:t[i].status=yn.RUN;else{P("transaction at "+m.toString()+" failed: "+n);for(i=0;i<t.length;i++)t[i].status=yn.NEEDS_ABORT,t[i].abortReason=n}e.rerunTransactions_(path)}},l)},fn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),path=e.path(),n=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(n,path),path},fn.prototype.rerunTransactionQueue_=function(t,path){if(0!==t.length){for(var e,n=[],r=[],o=t.filter(function(q){return q.status===yn.RUN}).map(function(q){return q.currentWriteId}),i=0;i<t.length;i++){var l=t[i],h=Y.relativePath(path,l.path),d=!1,f=void 0;if(c.assert(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===yn.NEEDS_ABORT)d=!0,f=l.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else if(l.status===yn.RUN)if(l.retryCount>=fn.MAX_TRANSACTION_RETRIES_)d=!0,f="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else{var m=this.getLatestState_(l.path,o);l.currentInputSnapshot=m;var y=t[i].update(m.val());if(void 0!==y){gt("transaction failed: Data returned ",y,l.path);var v=Zt(y);"object"==typeof y&&null!=y&&c.contains(y,".priority")||(v=v.updatePriority(m.getPriority()));var w=l.currentWriteId,_=this.generateServerValues(),S=fe(v,_);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=S,l.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(w),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(l.path,S,l.currentWriteId,l.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(w,!0))}else d=!0,f="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(path,r),r=[],d&&(t[i].status=yn.COMPLETED,e=t[i].unwatcher,setTimeout(e,Math.floor(0)),t[i].onComplete))if("nodata"===f){var E=new bn(this,t[i].path),T=t[i].currentInputSnapshot,C=new ie(T,E,Bt);n.push(t[i].onComplete.bind(null,null,!1,C))}else n.push(t[i].onComplete.bind(null,new Error(f),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(i=0;i<n.length;i++)K(n[i]);this.sendReadyTransactions_()}},fn.prototype.getAncestorTransactionNode_=function(path){for(var t,e=this.transactionQueueTree_;null!==(t=path.getFront())&&null===e.getValue();)e=e.subTree(t),path=path.popFront();return e},fn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(a,b){return a.order-b.order}),e},fn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},fn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,o=0;o<n.length;o++)n[o].status!==yn.COMPLETED&&(n[r]=n[o],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},fn.prototype.abortTransactions_=function(path){var t=this,e=this.getAncestorTransactionNode_(path).path(),n=this.transactionQueueTree_.subTree(path);return n.forEachAncestor(function(e){t.abortTransactionsOnNode_(e)}),this.abortTransactionsOnNode_(n),n.forEachDescendant(function(e){t.abortTransactionsOnNode_(e)}),e},fn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],o=-1,i=0;i<e.length;i++)if(e[i].status===yn.SENT_NEEDS_ABORT);else if(e[i].status===yn.SENT)c.assert(o===i-1,"All SENT items should be at beginning of queue."),o=i,e[i].status=yn.SENT_NEEDS_ABORT,e[i].abortReason="set";else if(c.assert(e[i].status===yn.RUN,"Unexpected transaction status in abort"),e[i].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[i].currentWriteId,!0)),e[i].onComplete){n.push(e[i].onComplete.bind(null,new Error("set"),!1,null))}-1===o?t.setValue(null):e.length=o+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(i=0;i<n.length;i++)K(n[i])}};var _n,Sn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return _n||(_n=new t),_n},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options.databaseURL;void 0===n&&O("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var r=at(n),o=r.repoInfo;return St("Invalid Firebase Database URL",1,r),r.path.isEmpty()||O("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,t).database},t.prototype.deleteRepo=function(t){var e=c.safeGet(this.repos_,t.app.name);e&&c.safeGet(e,t.repoInfo_.toURLString())===t||O("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var n=c.safeGet(this.repos_,e.name);n||(n={},this.repos_[e.name]=n);var r=c.safeGet(n,t.toURLString());return r&&O("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new fn(t,this.useRestClient_,e),n[t.toURLString()]=r,r},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),En=function(){function t(t){this.repo_=t,t instanceof fn||O("Don't call new Database() directly - please use firebase.database()."),this.root_=new bn(t,Y.Empty),this.INTERNAL=new Tn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(path){return this.checkDeleted_("ref"),c.validateArgCount("database.ref",0,1,arguments.length),path instanceof bn?this.refFromURL(path.toString()):void 0!==path?this.root_.child(path):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),c.validateArgCount(e,1,1,arguments.length);var n=at(t);St(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&O(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&O("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){c.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){c.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),Tn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(t){return this.database.checkDeleted_("delete"),Sn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}(),Cn=Object.freeze({forceLongPolling:function(){on.forceDisallow(),en.forceAllow()},forceWebSockets:function(){en.forceDisallow()},isWebSocketsAvailable:function(){return on.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),kn=hn;hn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},hn.prototype.echo=function(data,t){this.sendRequest("echo",{d:data},t)};var xn=sn,In=Z,Nn=Object.freeze({DataConnection:kn,RealTimeConnection:xn,hijackHash:function(t){var e=hn.prototype.put;return hn.prototype.put=function(n,data,r,o){void 0!==o&&(o=t()),e.call(this,n,data,r,o)},function(){hn.prototype.put=e}},ConnectionTarget:In,queryIdentifier:function(t){return t.queryIdentifier()},listens:function(t){return t.repo.persistentConnection_.listens_},forceRestClient:function(t){Sn.getInstance().forceRestClient(t)}}),Dn=En.ServerValue;function An(e){var n=e.INTERNAL.registerService("database",function(t,e,n){return Sn.getInstance().databaseFromApp(t,n)},{Reference:bn,Query:le,Database:En,enableLogging:I,INTERNAL:Cn,ServerValue:Dn,TEST_ACCESS:Nn},null,!0);c.isNodeSdk()&&(t.exports=n)}An(f),e.registerDatabase=An,e.Database=En,e.Query=le,e.Reference=bn,e.enableLogging=I,e.ServerValue=Dn,e.DataSnapshot=ie,e.OnDisconnect=Et}).call(this,n(33))},275:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return o}),n.d(e,"__assign",function(){return l}),n.d(e,"__rest",function(){return c}),n.d(e,"__decorate",function(){return h}),n.d(e,"__param",function(){return d}),n.d(e,"__metadata",function(){return f}),n.d(e,"__awaiter",function(){return m}),n.d(e,"__generator",function(){return y}),n.d(e,"__exportStar",function(){return v}),n.d(e,"__values",function(){return w}),n.d(e,"__read",function(){return _}),n.d(e,"__spread",function(){return S}),n.d(e,"__await",function(){return E}),n.d(e,"__asyncGenerator",function(){return T}),n.d(e,"__asyncDelegator",function(){return C}),n.d(e,"__asyncValues",function(){return k}),n.d(e,"__makeTemplateObject",function(){return x}),n.d(e,"__importStar",function(){return I}),n.d(e,"__importDefault",function(){return N});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])};function o(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}var l=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t};function c(s,t){var e={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&t.indexOf(p)<0&&(e[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)t.indexOf(p[i])<0&&(e[p[i]]=s[p[i]])}return e}function h(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l}function d(t,e){return function(n,r){e(n,r,t)}}function f(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function m(t,e,n,r){return new(n||(n=Promise))(function(o,l){function c(t){try{d(r.next(t))}catch(t){l(t)}}function h(t){try{d(r.throw(t))}catch(t){l(t)}}function d(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(c,h)}d((r=r.apply(t,e||[])).next())})}function y(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=n[2&l[0]?"return":l[0]?"throw":"next"])&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[0,r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(t,o)}catch(t){l=[6,t],n=0}finally{e=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}function v(t,e){for(var p in t)e.hasOwnProperty(p)||(e[p]=t[p])}function w(t){var e="function"==typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}}function _(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l}function S(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(_(arguments[i]));return t}function E(t){return this instanceof E?(this.v=t,this):new E(t)}function T(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=n.apply(t,e||[]),q=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(t){g[t]&&(i[t]=function(e){return new Promise(function(a,b){q.push([t,e,a,b])>1||o(t,e)})})}function o(t,e){try{(n=g[t](e)).value instanceof E?Promise.resolve(n.value.v).then(l,c):h(q[0][2],n)}catch(t){h(q[0][3],t)}var n}function l(t){o("next",t)}function c(t){o("throw",t)}function h(t,e){t(e),q.shift(),q.length&&o(q[0][0],q[0][1])}}function C(t){var i,p;return i={},e("next"),e("throw",function(t){throw t}),e("return"),i[Symbol.iterator]=function(){return this},i;function e(e,n){t[e]&&(i[e]=function(r){return(p=!p)?{value:E(t[e](r)),done:"return"===e}:n?n(r):r})}}function k(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):w(t)}function x(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function I(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function N(t){return t&&t.__esModule?t:{default:t}}},3:function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var content=function(t,e){var content=t[1]||"",n=t[3];if(!n)return content;if(e&&"function"==typeof btoa){var r=(l=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(l))))+" */"),o=n.sources.map(function(source){return"/*# sourceURL="+n.sourceRoot+source+" */"});return[content].concat(o).concat([r]).join("\n")}var l;return[content].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+content+"}":content}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(i=0;i<t.length;i++){var l=t[i];null!=l[0]&&r[l[0]]||(n&&!l[2]?l[2]=n:n&&(l[2]="("+l[2]+") and ("+n+")"),e.push(l))}},e}},39:function(t,e,n){(function(e){var n="Expected a function",r="__lodash_hash_undefined__",o=1/0,l="[object Function]",c="[object GeneratorFunction]",h="[object Symbol]",d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/,m=/^\./,y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,v=/\\(\\)?/g,w=/^\[object .+?Constructor\]$/,_="object"==typeof e&&e&&e.Object===Object&&e,S="object"==typeof self&&self&&self.Object===Object&&self,E=_||S||Function("return this")();var T,C=Array.prototype,k=Function.prototype,x=Object.prototype,I=E["__core-js_shared__"],N=(T=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",D=k.toString,A=x.hasOwnProperty,O=x.toString,P=RegExp("^"+D.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=E.Symbol,L=C.splice,M=Q(E,"Map"),F=Q(Object,"create"),B=R?R.prototype:void 0,V=B?B.toString:void 0;function j(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function U(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function W(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function $(t,e){for(var n,r,o=t.length;o--;)if((n=t[o][0])===(r=e)||n!=n&&r!=r)return o;return-1}function z(object,path){for(var t,e=0,n=(path=function(t,object){if(J(t))return!1;var e=typeof t;if("number"==e||"symbol"==e||"boolean"==e||null==t||tt(t))return!0;return f.test(t)||!d.test(t)||null!=object&&t in Object(object)}(path,object)?[path]:J(t=path)?t:G(t)).length;null!=object&&e<n;)object=object[Y(path[e++])];return e&&e==n?object:void 0}function H(t){return!(!Z(t)||(e=t,N&&N in e))&&(function(t){var e=Z(t)?O.call(t):"";return e==l||e==c}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?P:w).test(function(t){if(null!=t){try{return D.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}function K(map,t){var e,n,data=map.__data__;return("string"==(n=typeof(e=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e)?data["string"==typeof t?"string":"hash"]:data.map}function Q(object,t){var e=function(object,t){return null==object?void 0:object[t]}(object,t);return H(e)?e:void 0}j.prototype.clear=function(){this.__data__=F?F(null):{}},j.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},j.prototype.get=function(t){var data=this.__data__;if(F){var e=data[t];return e===r?void 0:e}return A.call(data,t)?data[t]:void 0},j.prototype.has=function(t){var data=this.__data__;return F?void 0!==data[t]:A.call(data,t)},j.prototype.set=function(t,e){return this.__data__[t]=F&&void 0===e?r:e,this},U.prototype.clear=function(){this.__data__=[]},U.prototype.delete=function(t){var data=this.__data__,e=$(data,t);return!(e<0||(e==data.length-1?data.pop():L.call(data,e,1),0))},U.prototype.get=function(t){var data=this.__data__,e=$(data,t);return e<0?void 0:data[e][1]},U.prototype.has=function(t){return $(this.__data__,t)>-1},U.prototype.set=function(t,e){var data=this.__data__,n=$(data,t);return n<0?data.push([t,e]):data[n][1]=e,this},W.prototype.clear=function(){this.__data__={hash:new j,map:new(M||U),string:new j}},W.prototype.delete=function(t){return K(this,t).delete(t)},W.prototype.get=function(t){return K(this,t).get(t)},W.prototype.has=function(t){return K(this,t).has(t)},W.prototype.set=function(t,e){return K(this,t).set(t,e),this};var G=X(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(tt(t))return V?V.call(t):"";var e=t+"";return"0"==e&&1/t==-o?"-0":e}(e);var n=[];return m.test(t)&&n.push(""),t.replace(y,function(t,e,r,o){n.push(r?o.replace(v,"$1"):e||t)}),n});function Y(t){if("string"==typeof t||tt(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}function X(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(n);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],l=r.cache;if(l.has(o))return l.get(o);var c=t.apply(this,n);return r.cache=l.set(o,c),c};return r.cache=new(X.Cache||W),r}X.Cache=W;var J=Array.isArray;function Z(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function tt(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&O.call(t)==h}t.exports=function(object,path,t){var e=null==object?void 0:z(object,path);return void 0===e?t:e}}).call(this,n(15))},4:function(t,e,n){"use strict";function r(t,e){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],l=o[0],c={id:t+":"+i,css:o[1],media:o[2],sourceMap:o[3]};r[l]?r[l].parts.push(c):n.push(r[l]={id:l,parts:[c]})}return n}n.r(e),n.d(e,"default",function(){return w});var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l={},head=o&&(document.head||document.getElementsByTagName("head")[0]),c=null,h=0,d=!1,f=function(){},m=null,y="data-vue-ssr-id",v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function w(t,e,n,o){d=n,m=o||{};var c=r(t,e);return _(c),function(e){for(var n=[],i=0;i<c.length;i++){var o=c[i];(h=l[o.id]).refs--,n.push(h)}e?_(c=r(t,e)):c=[];for(i=0;i<n.length;i++){var h;if(0===(h=n[i]).refs){for(var d=0;d<h.parts.length;d++)h.parts[d]();delete l[h.id]}}}}function _(t){for(var i=0;i<t.length;i++){var e=t[i],n=l[e.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](e.parts[r]);for(;r<e.parts.length;r++)n.parts.push(E(e.parts[r]));n.parts.length>e.parts.length&&(n.parts.length=e.parts.length)}else{var o=[];for(r=0;r<e.parts.length;r++)o.push(E(e.parts[r]));l[e.id]={id:e.id,refs:1,parts:o}}}}function S(){var t=document.createElement("style");return t.type="text/css",head.appendChild(t),t}function E(t){var e,n,r=document.querySelector("style["+y+'~="'+t.id+'"]');if(r){if(d)return f;r.parentNode.removeChild(r)}if(v){var o=h++;r=c||(c=S()),e=k.bind(null,r,o,!1),n=k.bind(null,r,o,!0)}else r=S(),e=function(t,e){var n=e.css,r=e.media,o=e.sourceMap;r&&t.setAttribute("media",r);m.ssrId&&t.setAttribute(y,e.id);o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}var T,C=(T=[],function(t,e){return T[t]=e,T.filter(Boolean).join("\n")});function k(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=C(e,o);else{var l=document.createTextNode(o),c=t.childNodes;c[e]&&t.removeChild(c[e]),c.length?t.insertBefore(l,c[e]):t.appendChild(l)}}},69:function(t,e,n){(function(e){var n=1/0,r="[object Symbol]",o=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,l=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,c="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",h="[\\ud800-\\udfff]",d="["+c+"]",f="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",m="\\d+",y="[\\u2700-\\u27bf]",v="[a-z\\xdf-\\xf6\\xf8-\\xff]",w="[^\\ud800-\\udfff"+c+m+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",_="\\ud83c[\\udffb-\\udfff]",S="[^\\ud800-\\udfff]",E="(?:\\ud83c[\\udde6-\\uddff]){2}",T="[\\ud800-\\udbff][\\udc00-\\udfff]",C="[A-Z\\xc0-\\xd6\\xd8-\\xde]",k="(?:"+v+"|"+w+")",x="(?:"+C+"|"+w+")",I="(?:"+f+"|"+_+")"+"?",N="[\\ufe0e\\ufe0f]?"+I+("(?:\\u200d(?:"+[S,E,T].join("|")+")[\\ufe0e\\ufe0f]?"+I+")*"),D="(?:"+[y,E,T].join("|")+")"+N,A="(?:"+[S+f+"?",f,E,T,h].join("|")+")",O=RegExp("['’]","g"),P=RegExp(f,"g"),R=RegExp(_+"(?="+_+")|"+A+N,"g"),L=RegExp([C+"?"+v+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[d,C,"$"].join("|")+")",x+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[d,C+k,"$"].join("|")+")",C+"?"+k+"+(?:['’](?:d|ll|m|re|s|t|ve))?",C+"+(?:['’](?:D|LL|M|RE|S|T|VE))?",m,D].join("|"),"g"),M=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),F=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,B="object"==typeof e&&e&&e.Object===Object&&e,V="object"==typeof self&&self&&self.Object===Object&&self,j=B||V||Function("return this")();var object,U=(object={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"},function(t){return null==object?void 0:object[t]});function W(t){return M.test(t)}function $(t){return W(t)?function(t){return t.match(R)||[]}(t):function(t){return t.split("")}(t)}var z=Object.prototype.toString,H=j.Symbol,K=H?H.prototype:void 0,Q=K?K.toString:void 0;function G(t){if("string"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&z.call(t)==r}(t))return Q?Q.call(t):"";var e=t+"";return"0"==e&&1/t==-n?"-0":e}function Y(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var l=Array(o);++r<o;)l[r]=t[r+e];return l}(t,e,n)}function X(t){return null==t?"":G(t)}var J,Z,tt=(J=function(t,e,n){return t+(n?" ":"")+et(e)},function(t){return function(t,e,n,r){var o=-1,l=t?t.length:0;for(r&&l&&(n=t[++o]);++o<l;)n=e(n,t[o],o,t);return n}(function(t,pattern,e){return t=X(t),void 0===(pattern=e?void 0:pattern)?function(t){return F.test(t)}(t)?function(t){return t.match(L)||[]}(t):function(t){return t.match(o)||[]}(t):t.match(pattern)||[]}(function(t){return(t=X(t))&&t.replace(l,U).replace(P,"")}(t).replace(O,"")),J,"")}),et=(Z="toUpperCase",function(t){var e=W(t=X(t))?$(t):void 0,n=e?e[0]:t.charAt(0),r=e?Y(e,1).join(""):t.slice(1);return n[Z]()+r});t.exports=tt}).call(this,n(15))},87:function(t,e,n){(function(t){function n(t,e){for(var n=0,i=t.length-1;i>=0;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return r.exec(t).slice(1)};function filter(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}e.resolve=function(){for(var e="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var path=i>=0?arguments[i]:t.cwd();if("string"!=typeof path)throw new TypeError("Arguments to path.resolve must be strings");path&&(e=path+"/"+e,r="/"===path.charAt(0))}return(r?"/":"")+(e=n(filter(e.split("/"),function(p){return!!p}),!r).join("/"))||"."},e.normalize=function(path){var t=e.isAbsolute(path),r="/"===l(path,-1);return(path=n(filter(path.split("/"),function(p){return!!p}),!t).join("/"))||t||(path="."),path&&r&&(path+="/"),(t?"/":"")+path},e.isAbsolute=function(path){return"/"===path.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(filter(t,function(p,t){if("string"!=typeof p)throw new TypeError("Arguments to path.join must be strings");return p}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var o=r(t.split("/")),l=r(n.split("/")),c=Math.min(o.length,l.length),h=c,i=0;i<c;i++)if(o[i]!==l[i]){h=i;break}var d=[];for(i=h;i<o.length;i++)d.push("..");return(d=d.concat(l.slice(h))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(path){var t=o(path),e=t[0],n=t[1];return e||n?(n&&(n=n.substr(0,n.length-1)),e+n):"."},e.basename=function(path,t){var e=o(path)[2];return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},e.extname=function(path){return o(path)[3]};var l="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(33))},90:function(t,e,n){"use strict";t.exports=function(t,e){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)||e?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}}}]);